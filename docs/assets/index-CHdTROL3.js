var wC=Object.defineProperty;var SC=(t,e,n)=>e in t?wC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $i=(t,e,n)=>SC(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function CC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rd={exports:{}},so={},kd={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function IC(){if(tv)return de;tv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(x){return x===null||typeof x!="object"?null:(x=y&&x[y]||x["@@iterator"],typeof x=="function"?x:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,R={};function A(x,F,ne){this.props=x,this.context=F,this.refs=R,this.updater=ne||S}A.prototype.isReactComponent={},A.prototype.setState=function(x,F){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,F,"setState")},A.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function P(){}P.prototype=A.prototype;function D(x,F,ne){this.props=x,this.context=F,this.refs=R,this.updater=ne||S}var M=D.prototype=new P;M.constructor=D,w(M,A.prototype),M.isPureReactComponent=!0;var z=Array.isArray,O=Object.prototype.hasOwnProperty,$={current:null},X={key:!0,ref:!0,__self:!0,__source:!0};function ue(x,F,ne){var le,ce={},pe=null,xe=null;if(F!=null)for(le in F.ref!==void 0&&(xe=F.ref),F.key!==void 0&&(pe=""+F.key),F)O.call(F,le)&&!X.hasOwnProperty(le)&&(ce[le]=F[le]);var Se=arguments.length-2;if(Se===1)ce.children=ne;else if(1<Se){for(var be=Array(Se),bt=0;bt<Se;bt++)be[bt]=arguments[bt+2];ce.children=be}if(x&&x.defaultProps)for(le in Se=x.defaultProps,Se)ce[le]===void 0&&(ce[le]=Se[le]);return{$$typeof:t,type:x,key:pe,ref:xe,props:ce,_owner:$.current}}function te(x,F){return{$$typeof:t,type:x.type,key:F,ref:x.ref,props:x.props,_owner:x._owner}}function we(x){return typeof x=="object"&&x!==null&&x.$$typeof===t}function mt(x){var F={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ne){return F[ne]})}var Ct=/\/+/g;function ut(x,F){return typeof x=="object"&&x!==null&&x.key!=null?mt(""+x.key):F.toString(36)}function gt(x,F,ne,le,ce){var pe=typeof x;(pe==="undefined"||pe==="boolean")&&(x=null);var xe=!1;if(x===null)xe=!0;else switch(pe){case"string":case"number":xe=!0;break;case"object":switch(x.$$typeof){case t:case e:xe=!0}}if(xe)return xe=x,ce=ce(xe),x=le===""?"."+ut(xe,0):le,z(ce)?(ne="",x!=null&&(ne=x.replace(Ct,"$&/")+"/"),gt(ce,F,ne,"",function(bt){return bt})):ce!=null&&(we(ce)&&(ce=te(ce,ne+(!ce.key||xe&&xe.key===ce.key?"":(""+ce.key).replace(Ct,"$&/")+"/")+x)),F.push(ce)),1;if(xe=0,le=le===""?".":le+":",z(x))for(var Se=0;Se<x.length;Se++){pe=x[Se];var be=le+ut(pe,Se);xe+=gt(pe,F,ne,be,ce)}else if(be=v(x),typeof be=="function")for(x=be.call(x),Se=0;!(pe=x.next()).done;)pe=pe.value,be=le+ut(pe,Se++),xe+=gt(pe,F,ne,be,ce);else if(pe==="object")throw F=String(x),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return xe}function Ut(x,F,ne){if(x==null)return x;var le=[],ce=0;return gt(x,le,"","",function(pe){return F.call(ne,pe,ce++)}),le}function ct(x){if(x._status===-1){var F=x._result;F=F(),F.then(function(ne){(x._status===0||x._status===-1)&&(x._status=1,x._result=ne)},function(ne){(x._status===0||x._status===-1)&&(x._status=2,x._result=ne)}),x._status===-1&&(x._status=0,x._result=F)}if(x._status===1)return x._result.default;throw x._result}var De={current:null},U={transition:null},Z={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:U,ReactCurrentOwner:$};function G(){throw Error("act(...) is not supported in production builds of React.")}return de.Children={map:Ut,forEach:function(x,F,ne){Ut(x,function(){F.apply(this,arguments)},ne)},count:function(x){var F=0;return Ut(x,function(){F++}),F},toArray:function(x){return Ut(x,function(F){return F})||[]},only:function(x){if(!we(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},de.Component=A,de.Fragment=n,de.Profiler=o,de.PureComponent=D,de.StrictMode=i,de.Suspense=f,de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,de.act=G,de.cloneElement=function(x,F,ne){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var le=w({},x.props),ce=x.key,pe=x.ref,xe=x._owner;if(F!=null){if(F.ref!==void 0&&(pe=F.ref,xe=$.current),F.key!==void 0&&(ce=""+F.key),x.type&&x.type.defaultProps)var Se=x.type.defaultProps;for(be in F)O.call(F,be)&&!X.hasOwnProperty(be)&&(le[be]=F[be]===void 0&&Se!==void 0?Se[be]:F[be])}var be=arguments.length-2;if(be===1)le.children=ne;else if(1<be){Se=Array(be);for(var bt=0;bt<be;bt++)Se[bt]=arguments[bt+2];le.children=Se}return{$$typeof:t,type:x.type,key:ce,ref:pe,props:le,_owner:xe}},de.createContext=function(x){return x={$$typeof:u,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:l,_context:x},x.Consumer=x},de.createElement=ue,de.createFactory=function(x){var F=ue.bind(null,x);return F.type=x,F},de.createRef=function(){return{current:null}},de.forwardRef=function(x){return{$$typeof:d,render:x}},de.isValidElement=we,de.lazy=function(x){return{$$typeof:g,_payload:{_status:-1,_result:x},_init:ct}},de.memo=function(x,F){return{$$typeof:p,type:x,compare:F===void 0?null:F}},de.startTransition=function(x){var F=U.transition;U.transition={};try{x()}finally{U.transition=F}},de.unstable_act=G,de.useCallback=function(x,F){return De.current.useCallback(x,F)},de.useContext=function(x){return De.current.useContext(x)},de.useDebugValue=function(){},de.useDeferredValue=function(x){return De.current.useDeferredValue(x)},de.useEffect=function(x,F){return De.current.useEffect(x,F)},de.useId=function(){return De.current.useId()},de.useImperativeHandle=function(x,F,ne){return De.current.useImperativeHandle(x,F,ne)},de.useInsertionEffect=function(x,F){return De.current.useInsertionEffect(x,F)},de.useLayoutEffect=function(x,F){return De.current.useLayoutEffect(x,F)},de.useMemo=function(x,F){return De.current.useMemo(x,F)},de.useReducer=function(x,F,ne){return De.current.useReducer(x,F,ne)},de.useRef=function(x){return De.current.useRef(x)},de.useState=function(x){return De.current.useState(x)},de.useSyncExternalStore=function(x,F,ne){return De.current.useSyncExternalStore(x,F,ne)},de.useTransition=function(){return De.current.useTransition()},de.version="18.3.1",de}var nv;function cu(){return nv||(nv=1,kd.exports=IC()),kd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function TC(){if(rv)return so;rv=1;var t=cu(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var g,y={},v=null,S=null;p!==void 0&&(v=""+p),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(S=f.ref);for(g in f)i.call(f,g)&&!l.hasOwnProperty(g)&&(y[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)y[g]===void 0&&(y[g]=f[g]);return{$$typeof:e,type:d,key:v,ref:S,props:y,_owner:o.current}}return so.Fragment=n,so.jsx=u,so.jsxs=u,so}var iv;function xC(){return iv||(iv=1,Rd.exports=TC()),Rd.exports}var T=xC(),k=cu();const RC=CC(k);var yl={},Nd={exports:{}},Nt={},Pd={exports:{}},bd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function kC(){return sv||(sv=1,function(t){function e(U,Z){var G=U.length;U.push(Z);e:for(;0<G;){var x=G-1>>>1,F=U[x];if(0<o(F,Z))U[x]=Z,U[G]=F,G=x;else break e}}function n(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var Z=U[0],G=U.pop();if(G!==Z){U[0]=G;e:for(var x=0,F=U.length,ne=F>>>1;x<ne;){var le=2*(x+1)-1,ce=U[le],pe=le+1,xe=U[pe];if(0>o(ce,G))pe<F&&0>o(xe,ce)?(U[x]=xe,U[pe]=G,x=pe):(U[x]=ce,U[le]=G,x=le);else if(pe<F&&0>o(xe,G))U[x]=xe,U[pe]=G,x=pe;else break e}}return Z}function o(U,Z){var G=U.sortIndex-Z.sortIndex;return G!==0?G:U.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],p=[],g=1,y=null,v=3,S=!1,w=!1,R=!1,A=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(U){for(var Z=n(p);Z!==null;){if(Z.callback===null)i(p);else if(Z.startTime<=U)i(p),Z.sortIndex=Z.expirationTime,e(f,Z);else break;Z=n(p)}}function z(U){if(R=!1,M(U),!w)if(n(f)!==null)w=!0,ct(O);else{var Z=n(p);Z!==null&&De(z,Z.startTime-U)}}function O(U,Z){w=!1,R&&(R=!1,P(ue),ue=-1),S=!0;var G=v;try{for(M(Z),y=n(f);y!==null&&(!(y.expirationTime>Z)||U&&!mt());){var x=y.callback;if(typeof x=="function"){y.callback=null,v=y.priorityLevel;var F=x(y.expirationTime<=Z);Z=t.unstable_now(),typeof F=="function"?y.callback=F:y===n(f)&&i(f),M(Z)}else i(f);y=n(f)}if(y!==null)var ne=!0;else{var le=n(p);le!==null&&De(z,le.startTime-Z),ne=!1}return ne}finally{y=null,v=G,S=!1}}var $=!1,X=null,ue=-1,te=5,we=-1;function mt(){return!(t.unstable_now()-we<te)}function Ct(){if(X!==null){var U=t.unstable_now();we=U;var Z=!0;try{Z=X(!0,U)}finally{Z?ut():($=!1,X=null)}}else $=!1}var ut;if(typeof D=="function")ut=function(){D(Ct)};else if(typeof MessageChannel<"u"){var gt=new MessageChannel,Ut=gt.port2;gt.port1.onmessage=Ct,ut=function(){Ut.postMessage(null)}}else ut=function(){A(Ct,0)};function ct(U){X=U,$||($=!0,ut())}function De(U,Z){ue=A(function(){U(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){w||S||(w=!0,ct(O))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(U){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var G=v;v=Z;try{return U()}finally{v=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var G=v;v=U;try{return Z()}finally{v=G}},t.unstable_scheduleCallback=function(U,Z,G){var x=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?x+G:x):G=x,U){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=G+F,U={id:g++,callback:Z,priorityLevel:U,startTime:G,expirationTime:F,sortIndex:-1},G>x?(U.sortIndex=G,e(p,U),n(f)===null&&U===n(p)&&(R?(P(ue),ue=-1):R=!0,De(z,G-x))):(U.sortIndex=F,e(f,U),w||S||(w=!0,ct(O))),U},t.unstable_shouldYield=mt,t.unstable_wrapCallback=function(U){var Z=v;return function(){var G=v;v=Z;try{return U.apply(this,arguments)}finally{v=G}}}}(bd)),bd}var ov;function NC(){return ov||(ov=1,Pd.exports=kC()),Pd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function PC(){if(av)return Nt;av=1;var t=cu(),e=NC();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(r){return f.call(y,r)?!0:f.call(g,r)?!1:p.test(r)?y[r]=!0:(g[r]=!0,!1)}function S(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function w(r,s,a,c){if(s===null||typeof s>"u"||S(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function R(r,s,a,c,h,m,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=m,this.removeEmptyString=_}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){A[r]=new R(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];A[s]=new R(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){A[r]=new R(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){A[r]=new R(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){A[r]=new R(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){A[r]=new R(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){A[r]=new R(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){A[r]=new R(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){A[r]=new R(r,5,!1,r.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function D(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(P,D);A[s]=new R(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(P,D);A[s]=new R(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(P,D);A[s]=new R(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){A[r]=new R(r,1,!1,r.toLowerCase(),null,!1,!1)}),A.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){A[r]=new R(r,1,!1,r.toLowerCase(),null,!0,!0)});function M(r,s,a,c){var h=A.hasOwnProperty(s)?A[s]:null;(h!==null?h.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(w(s,a,h,c)&&(a=null),c||h===null?v(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):h.mustUseProperty?r[h.propertyName]=a===null?h.type===3?!1:"":a:(s=h.attributeName,c=h.attributeNamespace,a===null?r.removeAttribute(s):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),$=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),ue=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),we=Symbol.for("react.provider"),mt=Symbol.for("react.context"),Ct=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),gt=Symbol.for("react.suspense_list"),Ut=Symbol.for("react.memo"),ct=Symbol.for("react.lazy"),De=Symbol.for("react.offscreen"),U=Symbol.iterator;function Z(r){return r===null||typeof r!="object"?null:(r=U&&r[U]||r["@@iterator"],typeof r=="function"?r:null)}var G=Object.assign,x;function F(r){if(x===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);x=s&&s[1]||""}return`
`+x+r}var ne=!1;function le(r,s){if(!r||ne)return"";ne=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(L){var c=L}Reflect.construct(r,[],s)}else{try{s.call()}catch(L){c=L}r.call(s.prototype)}else{try{throw Error()}catch(L){c=L}r()}}catch(L){if(L&&c&&typeof L.stack=="string"){for(var h=L.stack.split(`
`),m=c.stack.split(`
`),_=h.length-1,E=m.length-1;1<=_&&0<=E&&h[_]!==m[E];)E--;for(;1<=_&&0<=E;_--,E--)if(h[_]!==m[E]){if(_!==1||E!==1)do if(_--,E--,0>E||h[_]!==m[E]){var C=`
`+h[_].replace(" at new "," at ");return r.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",r.displayName)),C}while(1<=_&&0<=E);break}}}finally{ne=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?F(r):""}function ce(r){switch(r.tag){case 5:return F(r.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return r=le(r.type,!1),r;case 11:return r=le(r.type.render,!1),r;case 1:return r=le(r.type,!0),r;default:return""}}function pe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case X:return"Fragment";case $:return"Portal";case te:return"Profiler";case ue:return"StrictMode";case ut:return"Suspense";case gt:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case mt:return(r.displayName||"Context")+".Consumer";case we:return(r._context.displayName||"Context")+".Provider";case Ct:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ut:return s=r.displayName||null,s!==null?s:pe(r.type)||"Memo";case ct:s=r._payload,r=r._init;try{return pe(r(s))}catch{}}return null}function xe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(s);case 8:return s===ue?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Se(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function be(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function bt(r){var s=be(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ua(r){r._valueTracker||(r._valueTracker=bt(r))}function ap(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=be(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function ca(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Lu(r,s){var a=s.checked;return G({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function lp(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Se(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function up(r,s){s=s.checked,s!=null&&M(r,"checked",s,!1)}function Du(r,s){up(r,s);var a=Se(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Mu(r,s.type,a):s.hasOwnProperty("defaultValue")&&Mu(r,s.type,Se(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function cp(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Mu(r,s,a){(s!=="number"||ca(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Es=Array.isArray;function Ei(r,s,a,c){if(r=r.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<r.length;a++)h=s.hasOwnProperty("$"+r[a].value),r[a].selected!==h&&(r[a].selected=h),h&&c&&(r[a].defaultSelected=!0)}else{for(a=""+Se(a),s=null,h=0;h<r.length;h++){if(r[h].value===a){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function Fu(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return G({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function dp(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(n(92));if(Es(a)){if(1<a.length)throw Error(n(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Se(a)}}function hp(r,s){var a=Se(s.value),c=Se(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function fp(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function pp(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uu(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?pp(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var da,mp=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,h){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,h)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(da=da||document.createElement("div"),da.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=da.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ws(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tw=["Webkit","ms","Moz","O"];Object.keys(Ss).forEach(function(r){Tw.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Ss[s]=Ss[r]})});function gp(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Ss.hasOwnProperty(r)&&Ss[r]?(""+s).trim():s+"px"}function vp(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,h=gp(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,h):r[a]=h}}var xw=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bu(r,s){if(s){if(xw[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Hu(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ju=null;function zu(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Wu=null,wi=null,Si=null;function _p(r){if(r=Vs(r)){if(typeof Wu!="function")throw Error(n(280));var s=r.stateNode;s&&(s=La(s),Wu(r.stateNode,r.type,s))}}function yp(r){wi?Si?Si.push(r):Si=[r]:wi=r}function Ep(){if(wi){var r=wi,s=Si;if(Si=wi=null,_p(r),s)for(r=0;r<s.length;r++)_p(s[r])}}function wp(r,s){return r(s)}function Sp(){}var Vu=!1;function Cp(r,s,a){if(Vu)return r(s,a);Vu=!0;try{return wp(r,s,a)}finally{Vu=!1,(wi!==null||Si!==null)&&(Sp(),Ep())}}function Cs(r,s){var a=r.stateNode;if(a===null)return null;var c=La(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,s,typeof a));return a}var $u=!1;if(d)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){$u=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{$u=!1}function Rw(r,s,a,c,h,m,_,E,C){var L=Array.prototype.slice.call(arguments,3);try{s.apply(a,L)}catch(H){this.onError(H)}}var Ts=!1,ha=null,fa=!1,Gu=null,kw={onError:function(r){Ts=!0,ha=r}};function Nw(r,s,a,c,h,m,_,E,C){Ts=!1,ha=null,Rw.apply(kw,arguments)}function Pw(r,s,a,c,h,m,_,E,C){if(Nw.apply(this,arguments),Ts){if(Ts){var L=ha;Ts=!1,ha=null}else throw Error(n(198));fa||(fa=!0,Gu=L)}}function Br(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Ip(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Tp(r){if(Br(r)!==r)throw Error(n(188))}function bw(r){var s=r.alternate;if(!s){if(s=Br(r),s===null)throw Error(n(188));return s!==r?null:r}for(var a=r,c=s;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return Tp(h),r;if(m===c)return Tp(h),s;m=m.sibling}throw Error(n(188))}if(a.return!==c.return)a=h,c=m;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,c=m;break}if(E===c){_=!0,c=h,a=m;break}E=E.sibling}if(!_){for(E=m.child;E;){if(E===a){_=!0,a=m,c=h;break}if(E===c){_=!0,c=m,a=h;break}E=E.sibling}if(!_)throw Error(n(189))}}if(a.alternate!==c)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:s}function xp(r){return r=bw(r),r!==null?Rp(r):null}function Rp(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Rp(r);if(s!==null)return s;r=r.sibling}return null}var kp=e.unstable_scheduleCallback,Np=e.unstable_cancelCallback,Aw=e.unstable_shouldYield,Ow=e.unstable_requestPaint,We=e.unstable_now,Lw=e.unstable_getCurrentPriorityLevel,qu=e.unstable_ImmediatePriority,Pp=e.unstable_UserBlockingPriority,pa=e.unstable_NormalPriority,Dw=e.unstable_LowPriority,bp=e.unstable_IdlePriority,ma=null,mn=null;function Mw(r){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(ma,r,void 0,(r.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:Bw,Fw=Math.log,Uw=Math.LN2;function Bw(r){return r>>>=0,r===0?32:31-(Fw(r)/Uw|0)|0}var ga=64,va=4194304;function xs(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function _a(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,h=r.suspendedLanes,m=r.pingedLanes,_=a&268435455;if(_!==0){var E=_&~h;E!==0?c=xs(E):(m&=_,m!==0&&(c=xs(m)))}else _=a&~h,_!==0?c=xs(_):m!==0&&(c=xs(m));if(c===0)return 0;if(s!==0&&s!==c&&(s&h)===0&&(h=c&-c,m=s&-s,h>=m||h===16&&(m&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-Xt(s),h=1<<a,c|=r[a],s&=~h;return c}function Hw(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jw(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,m=r.pendingLanes;0<m;){var _=31-Xt(m),E=1<<_,C=h[_];C===-1?((E&a)===0||(E&c)!==0)&&(h[_]=Hw(E,s)):C<=s&&(r.expiredLanes|=E),m&=~E}}function Ku(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ap(){var r=ga;return ga<<=1,(ga&4194240)===0&&(ga=64),r}function Qu(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Rs(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Xt(s),r[s]=a}function zw(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var h=31-Xt(a),m=1<<h;s[h]=0,c[h]=-1,r[h]=-1,a&=~m}}function Yu(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-Xt(a),h=1<<c;h&s|r[c]&s&&(r[c]|=s),a&=~h}}var Ie=0;function Op(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Lp,Xu,Dp,Mp,Fp,Ju=!1,ya=[],Xn=null,Jn=null,Zn=null,ks=new Map,Ns=new Map,er=[],Ww="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Up(r,s){switch(r){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":ks.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(s.pointerId)}}function Ps(r,s,a,c,h,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[h]},s!==null&&(s=Vs(s),s!==null&&Xu(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function Vw(r,s,a,c,h){switch(s){case"focusin":return Xn=Ps(Xn,r,s,a,c,h),!0;case"dragenter":return Jn=Ps(Jn,r,s,a,c,h),!0;case"mouseover":return Zn=Ps(Zn,r,s,a,c,h),!0;case"pointerover":var m=h.pointerId;return ks.set(m,Ps(ks.get(m)||null,r,s,a,c,h)),!0;case"gotpointercapture":return m=h.pointerId,Ns.set(m,Ps(Ns.get(m)||null,r,s,a,c,h)),!0}return!1}function Bp(r){var s=Hr(r.target);if(s!==null){var a=Br(s);if(a!==null){if(s=a.tag,s===13){if(s=Ip(a),s!==null){r.blockedOn=s,Fp(r.priority,function(){Dp(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ea(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=ec(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);ju=c,a.target.dispatchEvent(c),ju=null}else return s=Vs(a),s!==null&&Xu(s),r.blockedOn=a,!1;s.shift()}return!0}function Hp(r,s,a){Ea(r)&&a.delete(s)}function $w(){Ju=!1,Xn!==null&&Ea(Xn)&&(Xn=null),Jn!==null&&Ea(Jn)&&(Jn=null),Zn!==null&&Ea(Zn)&&(Zn=null),ks.forEach(Hp),Ns.forEach(Hp)}function bs(r,s){r.blockedOn===s&&(r.blockedOn=null,Ju||(Ju=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$w)))}function As(r){function s(h){return bs(h,r)}if(0<ya.length){bs(ya[0],r);for(var a=1;a<ya.length;a++){var c=ya[a];c.blockedOn===r&&(c.blockedOn=null)}}for(Xn!==null&&bs(Xn,r),Jn!==null&&bs(Jn,r),Zn!==null&&bs(Zn,r),ks.forEach(s),Ns.forEach(s),a=0;a<er.length;a++)c=er[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<er.length&&(a=er[0],a.blockedOn===null);)Bp(a),a.blockedOn===null&&er.shift()}var Ci=z.ReactCurrentBatchConfig,wa=!0;function Gw(r,s,a,c){var h=Ie,m=Ci.transition;Ci.transition=null;try{Ie=1,Zu(r,s,a,c)}finally{Ie=h,Ci.transition=m}}function qw(r,s,a,c){var h=Ie,m=Ci.transition;Ci.transition=null;try{Ie=4,Zu(r,s,a,c)}finally{Ie=h,Ci.transition=m}}function Zu(r,s,a,c){if(wa){var h=ec(r,s,a,c);if(h===null)vc(r,s,c,Sa,a),Up(r,c);else if(Vw(h,r,s,a,c))c.stopPropagation();else if(Up(r,c),s&4&&-1<Ww.indexOf(r)){for(;h!==null;){var m=Vs(h);if(m!==null&&Lp(m),m=ec(r,s,a,c),m===null&&vc(r,s,c,Sa,a),m===h)break;h=m}h!==null&&c.stopPropagation()}else vc(r,s,c,null,a)}}var Sa=null;function ec(r,s,a,c){if(Sa=null,r=zu(c),r=Hr(r),r!==null)if(s=Br(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Ip(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Sa=r,null}function jp(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lw()){case qu:return 1;case Pp:return 4;case pa:case Dw:return 16;case bp:return 536870912;default:return 16}default:return 16}}var tr=null,tc=null,Ca=null;function zp(){if(Ca)return Ca;var r,s=tc,a=s.length,c,h="value"in tr?tr.value:tr.textContent,m=h.length;for(r=0;r<a&&s[r]===h[r];r++);var _=a-r;for(c=1;c<=_&&s[a-c]===h[m-c];c++);return Ca=h.slice(r,1<c?1-c:void 0)}function Ia(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ta(){return!0}function Wp(){return!1}function At(r){function s(a,c,h,m,_){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var E in r)r.hasOwnProperty(E)&&(a=r[E],this[E]=a?a(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ta:Wp,this.isPropagationStopped=Wp,this}return G(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),s}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nc=At(Ii),Os=G({},Ii,{view:0,detail:0}),Kw=At(Os),rc,ic,Ls,xa=G({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ls&&(Ls&&r.type==="mousemove"?(rc=r.screenX-Ls.screenX,ic=r.screenY-Ls.screenY):ic=rc=0,Ls=r),rc)},movementY:function(r){return"movementY"in r?r.movementY:ic}}),Vp=At(xa),Qw=G({},xa,{dataTransfer:0}),Yw=At(Qw),Xw=G({},Os,{relatedTarget:0}),sc=At(Xw),Jw=G({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Zw=At(Jw),eS=G({},Ii,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),tS=At(eS),nS=G({},Ii,{data:0}),$p=At(nS),rS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oS(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=sS[r])?!!s[r]:!1}function oc(){return oS}var aS=G({},Os,{key:function(r){if(r.key){var s=rS[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ia(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?iS[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oc,charCode:function(r){return r.type==="keypress"?Ia(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ia(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),lS=At(aS),uS=G({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gp=At(uS),cS=G({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oc}),dS=At(cS),hS=G({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),fS=At(hS),pS=G({},xa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),mS=At(pS),gS=[9,13,27,32],ac=d&&"CompositionEvent"in window,Ds=null;d&&"documentMode"in document&&(Ds=document.documentMode);var vS=d&&"TextEvent"in window&&!Ds,qp=d&&(!ac||Ds&&8<Ds&&11>=Ds),Kp=" ",Qp=!1;function Yp(r,s){switch(r){case"keyup":return gS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ti=!1;function _S(r,s){switch(r){case"compositionend":return Xp(s);case"keypress":return s.which!==32?null:(Qp=!0,Kp);case"textInput":return r=s.data,r===Kp&&Qp?null:r;default:return null}}function yS(r,s){if(Ti)return r==="compositionend"||!ac&&Yp(r,s)?(r=zp(),Ca=tc=tr=null,Ti=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return qp&&s.locale!=="ko"?null:s.data;default:return null}}var ES={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!ES[r.type]:s==="textarea"}function Zp(r,s,a,c){yp(c),s=ba(s,"onChange"),0<s.length&&(a=new nc("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var Ms=null,Fs=null;function wS(r){vm(r,0)}function Ra(r){var s=Pi(r);if(ap(s))return r}function SS(r,s){if(r==="change")return s}var em=!1;if(d){var lc;if(d){var uc="oninput"in document;if(!uc){var tm=document.createElement("div");tm.setAttribute("oninput","return;"),uc=typeof tm.oninput=="function"}lc=uc}else lc=!1;em=lc&&(!document.documentMode||9<document.documentMode)}function nm(){Ms&&(Ms.detachEvent("onpropertychange",rm),Fs=Ms=null)}function rm(r){if(r.propertyName==="value"&&Ra(Fs)){var s=[];Zp(s,Fs,r,zu(r)),Cp(wS,s)}}function CS(r,s,a){r==="focusin"?(nm(),Ms=s,Fs=a,Ms.attachEvent("onpropertychange",rm)):r==="focusout"&&nm()}function IS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ra(Fs)}function TS(r,s){if(r==="click")return Ra(s)}function xS(r,s){if(r==="input"||r==="change")return Ra(s)}function RS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Jt=typeof Object.is=="function"?Object.is:RS;function Us(r,s){if(Jt(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!f.call(s,h)||!Jt(r[h],s[h]))return!1}return!0}function im(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function sm(r,s){var a=im(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=im(a)}}function om(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?om(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function am(){for(var r=window,s=ca();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=ca(r.document)}return s}function cc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function kS(r){var s=am(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&om(a.ownerDocument.documentElement,a)){if(c!==null&&cc(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var h=a.textContent.length,m=Math.min(c.start,h);c=c.end===void 0?m:Math.min(c.end,h),!r.extend&&m>c&&(h=c,c=m,m=h),h=sm(a,m);var _=sm(a,c);h&&_&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),r.removeAllRanges(),m>c?(r.addRange(s),r.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var NS=d&&"documentMode"in document&&11>=document.documentMode,xi=null,dc=null,Bs=null,hc=!1;function lm(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hc||xi==null||xi!==ca(c)||(c=xi,"selectionStart"in c&&cc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Bs&&Us(Bs,c)||(Bs=c,c=ba(dc,"onSelect"),0<c.length&&(s=new nc("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=xi)))}function ka(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Ri={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionend:ka("Transition","TransitionEnd")},fc={},um={};d&&(um=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function Na(r){if(fc[r])return fc[r];if(!Ri[r])return r;var s=Ri[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in um)return fc[r]=s[a];return r}var cm=Na("animationend"),dm=Na("animationiteration"),hm=Na("animationstart"),fm=Na("transitionend"),pm=new Map,mm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(r,s){pm.set(r,s),l(s,[r])}for(var pc=0;pc<mm.length;pc++){var mc=mm[pc],PS=mc.toLowerCase(),bS=mc[0].toUpperCase()+mc.slice(1);nr(PS,"on"+bS)}nr(cm,"onAnimationEnd"),nr(dm,"onAnimationIteration"),nr(hm,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(fm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hs));function gm(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,Pw(c,s,void 0,r),r.currentTarget=null}function vm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],h=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var _=c.length-1;0<=_;_--){var E=c[_],C=E.instance,L=E.currentTarget;if(E=E.listener,C!==m&&h.isPropagationStopped())break e;gm(h,E,L),m=C}else for(_=0;_<c.length;_++){if(E=c[_],C=E.instance,L=E.currentTarget,E=E.listener,C!==m&&h.isPropagationStopped())break e;gm(h,E,L),m=C}}}if(fa)throw r=Gu,fa=!1,Gu=null,r}function Ae(r,s){var a=s[Cc];a===void 0&&(a=s[Cc]=new Set);var c=r+"__bubble";a.has(c)||(_m(s,r,2,!1),a.add(c))}function gc(r,s,a){var c=0;s&&(c|=4),_m(a,r,c,s)}var Pa="_reactListening"+Math.random().toString(36).slice(2);function js(r){if(!r[Pa]){r[Pa]=!0,i.forEach(function(a){a!=="selectionchange"&&(AS.has(a)||gc(a,!1,r),gc(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Pa]||(s[Pa]=!0,gc("selectionchange",!1,s))}}function _m(r,s,a,c){switch(jp(s)){case 1:var h=Gw;break;case 4:h=qw;break;default:h=Zu}a=h.bind(null,s,a,r),h=void 0,!$u||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(s,a,{capture:!0,passive:h}):r.addEventListener(s,a,!0):h!==void 0?r.addEventListener(s,a,{passive:h}):r.addEventListener(s,a,!1)}function vc(r,s,a,c,h){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var E=c.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(_===4)for(_=c.return;_!==null;){var C=_.tag;if((C===3||C===4)&&(C=_.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;_=_.return}for(;E!==null;){if(_=Hr(E),_===null)return;if(C=_.tag,C===5||C===6){c=m=_;continue e}E=E.parentNode}}c=c.return}Cp(function(){var L=m,H=zu(a),j=[];e:{var B=pm.get(r);if(B!==void 0){var q=nc,Q=r;switch(r){case"keypress":if(Ia(a)===0)break e;case"keydown":case"keyup":q=lS;break;case"focusin":Q="focus",q=sc;break;case"focusout":Q="blur",q=sc;break;case"beforeblur":case"afterblur":q=sc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Vp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Yw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=dS;break;case cm:case dm:case hm:q=Zw;break;case fm:q=fS;break;case"scroll":q=Kw;break;case"wheel":q=mS;break;case"copy":case"cut":case"paste":q=tS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Gp}var Y=(s&4)!==0,Ve=!Y&&r==="scroll",N=Y?B!==null?B+"Capture":null:B;Y=[];for(var I=L,b;I!==null;){b=I;var W=b.stateNode;if(b.tag===5&&W!==null&&(b=W,N!==null&&(W=Cs(I,N),W!=null&&Y.push(zs(I,W,b)))),Ve)break;I=I.return}0<Y.length&&(B=new q(B,Q,null,a,H),j.push({event:B,listeners:Y}))}}if((s&7)===0){e:{if(B=r==="mouseover"||r==="pointerover",q=r==="mouseout"||r==="pointerout",B&&a!==ju&&(Q=a.relatedTarget||a.fromElement)&&(Hr(Q)||Q[kn]))break e;if((q||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,q?(Q=a.relatedTarget||a.toElement,q=L,Q=Q?Hr(Q):null,Q!==null&&(Ve=Br(Q),Q!==Ve||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(q=null,Q=L),q!==Q)){if(Y=Vp,W="onMouseLeave",N="onMouseEnter",I="mouse",(r==="pointerout"||r==="pointerover")&&(Y=Gp,W="onPointerLeave",N="onPointerEnter",I="pointer"),Ve=q==null?B:Pi(q),b=Q==null?B:Pi(Q),B=new Y(W,I+"leave",q,a,H),B.target=Ve,B.relatedTarget=b,W=null,Hr(H)===L&&(Y=new Y(N,I+"enter",Q,a,H),Y.target=b,Y.relatedTarget=Ve,W=Y),Ve=W,q&&Q)t:{for(Y=q,N=Q,I=0,b=Y;b;b=ki(b))I++;for(b=0,W=N;W;W=ki(W))b++;for(;0<I-b;)Y=ki(Y),I--;for(;0<b-I;)N=ki(N),b--;for(;I--;){if(Y===N||N!==null&&Y===N.alternate)break t;Y=ki(Y),N=ki(N)}Y=null}else Y=null;q!==null&&ym(j,B,q,Y,!1),Q!==null&&Ve!==null&&ym(j,Ve,Q,Y,!0)}}e:{if(B=L?Pi(L):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var ee=SS;else if(Jp(B))if(em)ee=xS;else{ee=IS;var re=CS}else(q=B.nodeName)&&q.toLowerCase()==="input"&&(B.type==="checkbox"||B.type==="radio")&&(ee=TS);if(ee&&(ee=ee(r,L))){Zp(j,ee,a,H);break e}re&&re(r,B,L),r==="focusout"&&(re=B._wrapperState)&&re.controlled&&B.type==="number"&&Mu(B,"number",B.value)}switch(re=L?Pi(L):window,r){case"focusin":(Jp(re)||re.contentEditable==="true")&&(xi=re,dc=L,Bs=null);break;case"focusout":Bs=dc=xi=null;break;case"mousedown":hc=!0;break;case"contextmenu":case"mouseup":case"dragend":hc=!1,lm(j,a,H);break;case"selectionchange":if(NS)break;case"keydown":case"keyup":lm(j,a,H)}var ie;if(ac)e:{switch(r){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else Ti?Yp(r,a)&&(ae="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(ae="onCompositionStart");ae&&(qp&&a.locale!=="ko"&&(Ti||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&Ti&&(ie=zp()):(tr=H,tc="value"in tr?tr.value:tr.textContent,Ti=!0)),re=ba(L,ae),0<re.length&&(ae=new $p(ae,r,null,a,H),j.push({event:ae,listeners:re}),ie?ae.data=ie:(ie=Xp(a),ie!==null&&(ae.data=ie)))),(ie=vS?_S(r,a):yS(r,a))&&(L=ba(L,"onBeforeInput"),0<L.length&&(H=new $p("onBeforeInput","beforeinput",null,a,H),j.push({event:H,listeners:L}),H.data=ie))}vm(j,s)})}function zs(r,s,a){return{instance:r,listener:s,currentTarget:a}}function ba(r,s){for(var a=s+"Capture",c=[];r!==null;){var h=r,m=h.stateNode;h.tag===5&&m!==null&&(h=m,m=Cs(r,a),m!=null&&c.unshift(zs(r,m,h)),m=Cs(r,s),m!=null&&c.push(zs(r,m,h))),r=r.return}return c}function ki(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function ym(r,s,a,c,h){for(var m=s._reactName,_=[];a!==null&&a!==c;){var E=a,C=E.alternate,L=E.stateNode;if(C!==null&&C===c)break;E.tag===5&&L!==null&&(E=L,h?(C=Cs(a,m),C!=null&&_.unshift(zs(a,C,E))):h||(C=Cs(a,m),C!=null&&_.push(zs(a,C,E)))),a=a.return}_.length!==0&&r.push({event:s,listeners:_})}var OS=/\r\n?/g,LS=/\u0000|\uFFFD/g;function Em(r){return(typeof r=="string"?r:""+r).replace(OS,`
`).replace(LS,"")}function Aa(r,s,a){if(s=Em(s),Em(r)!==s&&a)throw Error(n(425))}function Oa(){}var _c=null,yc=null;function Ec(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var wc=typeof setTimeout=="function"?setTimeout:void 0,DS=typeof clearTimeout=="function"?clearTimeout:void 0,wm=typeof Promise=="function"?Promise:void 0,MS=typeof queueMicrotask=="function"?queueMicrotask:typeof wm<"u"?function(r){return wm.resolve(null).then(r).catch(FS)}:wc;function FS(r){setTimeout(function(){throw r})}function Sc(r,s){var a=s,c=0;do{var h=a.nextSibling;if(r.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(c===0){r.removeChild(h),As(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=h}while(a);As(s)}function rr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Sm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Ni=Math.random().toString(36).slice(2),gn="__reactFiber$"+Ni,Ws="__reactProps$"+Ni,kn="__reactContainer$"+Ni,Cc="__reactEvents$"+Ni,US="__reactListeners$"+Ni,BS="__reactHandles$"+Ni;function Hr(r){var s=r[gn];if(s)return s;for(var a=r.parentNode;a;){if(s=a[kn]||a[gn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Sm(r);r!==null;){if(a=r[gn])return a;r=Sm(r)}return s}r=a,a=r.parentNode}return null}function Vs(r){return r=r[gn]||r[kn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Pi(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function La(r){return r[Ws]||null}var Ic=[],bi=-1;function ir(r){return{current:r}}function Oe(r){0>bi||(r.current=Ic[bi],Ic[bi]=null,bi--)}function ke(r,s){bi++,Ic[bi]=r.current,r.current=s}var sr={},dt=ir(sr),It=ir(!1),jr=sr;function Ai(r,s){var a=r.type.contextTypes;if(!a)return sr;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var h={},m;for(m in a)h[m]=s[m];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=h),h}function Tt(r){return r=r.childContextTypes,r!=null}function Da(){Oe(It),Oe(dt)}function Cm(r,s,a){if(dt.current!==sr)throw Error(n(168));ke(dt,s),ke(It,a)}function Im(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var h in c)if(!(h in s))throw Error(n(108,xe(r)||"Unknown",h));return G({},a,c)}function Ma(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||sr,jr=dt.current,ke(dt,r),ke(It,It.current),!0}function Tm(r,s,a){var c=r.stateNode;if(!c)throw Error(n(169));a?(r=Im(r,s,jr),c.__reactInternalMemoizedMergedChildContext=r,Oe(It),Oe(dt),ke(dt,r)):Oe(It),ke(It,a)}var Nn=null,Fa=!1,Tc=!1;function xm(r){Nn===null?Nn=[r]:Nn.push(r)}function HS(r){Fa=!0,xm(r)}function or(){if(!Tc&&Nn!==null){Tc=!0;var r=0,s=Ie;try{var a=Nn;for(Ie=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}Nn=null,Fa=!1}catch(h){throw Nn!==null&&(Nn=Nn.slice(r+1)),kp(qu,or),h}finally{Ie=s,Tc=!1}}return null}var Oi=[],Li=0,Ua=null,Ba=0,Bt=[],Ht=0,zr=null,Pn=1,bn="";function Wr(r,s){Oi[Li++]=Ba,Oi[Li++]=Ua,Ua=r,Ba=s}function Rm(r,s,a){Bt[Ht++]=Pn,Bt[Ht++]=bn,Bt[Ht++]=zr,zr=r;var c=Pn;r=bn;var h=32-Xt(c)-1;c&=~(1<<h),a+=1;var m=32-Xt(s)+h;if(30<m){var _=h-h%5;m=(c&(1<<_)-1).toString(32),c>>=_,h-=_,Pn=1<<32-Xt(s)+h|a<<h|c,bn=m+r}else Pn=1<<m|a<<h|c,bn=r}function xc(r){r.return!==null&&(Wr(r,1),Rm(r,1,0))}function Rc(r){for(;r===Ua;)Ua=Oi[--Li],Oi[Li]=null,Ba=Oi[--Li],Oi[Li]=null;for(;r===zr;)zr=Bt[--Ht],Bt[Ht]=null,bn=Bt[--Ht],Bt[Ht]=null,Pn=Bt[--Ht],Bt[Ht]=null}var Ot=null,Lt=null,Me=!1,Zt=null;function km(r,s){var a=Vt(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Nm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Ot=r,Lt=rr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Ot=r,Lt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=zr!==null?{id:Pn,overflow:bn}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Vt(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Ot=r,Lt=null,!0):!1;default:return!1}}function kc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Nc(r){if(Me){var s=Lt;if(s){var a=s;if(!Nm(r,s)){if(kc(r))throw Error(n(418));s=rr(a.nextSibling);var c=Ot;s&&Nm(r,s)?km(c,a):(r.flags=r.flags&-4097|2,Me=!1,Ot=r)}}else{if(kc(r))throw Error(n(418));r.flags=r.flags&-4097|2,Me=!1,Ot=r}}}function Pm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Ot=r}function Ha(r){if(r!==Ot)return!1;if(!Me)return Pm(r),Me=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Ec(r.type,r.memoizedProps)),s&&(s=Lt)){if(kc(r))throw bm(),Error(n(418));for(;s;)km(r,s),s=rr(s.nextSibling)}if(Pm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){Lt=rr(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}Lt=null}}else Lt=Ot?rr(r.stateNode.nextSibling):null;return!0}function bm(){for(var r=Lt;r;)r=rr(r.nextSibling)}function Di(){Lt=Ot=null,Me=!1}function Pc(r){Zt===null?Zt=[r]:Zt.push(r)}var jS=z.ReactCurrentBatchConfig;function $s(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var c=a.stateNode}if(!c)throw Error(n(147,r));var h=c,m=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(_){var E=h.refs;_===null?delete E[m]:E[m]=_},s._stringRef=m,s)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function ja(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Am(r){var s=r._init;return s(r._payload)}function Om(r){function s(N,I){if(r){var b=N.deletions;b===null?(N.deletions=[I],N.flags|=16):b.push(I)}}function a(N,I){if(!r)return null;for(;I!==null;)s(N,I),I=I.sibling;return null}function c(N,I){for(N=new Map;I!==null;)I.key!==null?N.set(I.key,I):N.set(I.index,I),I=I.sibling;return N}function h(N,I){return N=pr(N,I),N.index=0,N.sibling=null,N}function m(N,I,b){return N.index=b,r?(b=N.alternate,b!==null?(b=b.index,b<I?(N.flags|=2,I):b):(N.flags|=2,I)):(N.flags|=1048576,I)}function _(N){return r&&N.alternate===null&&(N.flags|=2),N}function E(N,I,b,W){return I===null||I.tag!==6?(I=wd(b,N.mode,W),I.return=N,I):(I=h(I,b),I.return=N,I)}function C(N,I,b,W){var ee=b.type;return ee===X?H(N,I,b.props.children,W,b.key):I!==null&&(I.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ct&&Am(ee)===I.type)?(W=h(I,b.props),W.ref=$s(N,I,b),W.return=N,W):(W=dl(b.type,b.key,b.props,null,N.mode,W),W.ref=$s(N,I,b),W.return=N,W)}function L(N,I,b,W){return I===null||I.tag!==4||I.stateNode.containerInfo!==b.containerInfo||I.stateNode.implementation!==b.implementation?(I=Sd(b,N.mode,W),I.return=N,I):(I=h(I,b.children||[]),I.return=N,I)}function H(N,I,b,W,ee){return I===null||I.tag!==7?(I=Xr(b,N.mode,W,ee),I.return=N,I):(I=h(I,b),I.return=N,I)}function j(N,I,b){if(typeof I=="string"&&I!==""||typeof I=="number")return I=wd(""+I,N.mode,b),I.return=N,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case O:return b=dl(I.type,I.key,I.props,null,N.mode,b),b.ref=$s(N,null,I),b.return=N,b;case $:return I=Sd(I,N.mode,b),I.return=N,I;case ct:var W=I._init;return j(N,W(I._payload),b)}if(Es(I)||Z(I))return I=Xr(I,N.mode,b,null),I.return=N,I;ja(N,I)}return null}function B(N,I,b,W){var ee=I!==null?I.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return ee!==null?null:E(N,I,""+b,W);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case O:return b.key===ee?C(N,I,b,W):null;case $:return b.key===ee?L(N,I,b,W):null;case ct:return ee=b._init,B(N,I,ee(b._payload),W)}if(Es(b)||Z(b))return ee!==null?null:H(N,I,b,W,null);ja(N,b)}return null}function q(N,I,b,W,ee){if(typeof W=="string"&&W!==""||typeof W=="number")return N=N.get(b)||null,E(I,N,""+W,ee);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case O:return N=N.get(W.key===null?b:W.key)||null,C(I,N,W,ee);case $:return N=N.get(W.key===null?b:W.key)||null,L(I,N,W,ee);case ct:var re=W._init;return q(N,I,b,re(W._payload),ee)}if(Es(W)||Z(W))return N=N.get(b)||null,H(I,N,W,ee,null);ja(I,W)}return null}function Q(N,I,b,W){for(var ee=null,re=null,ie=I,ae=I=0,Je=null;ie!==null&&ae<b.length;ae++){ie.index>ae?(Je=ie,ie=null):Je=ie.sibling;var ye=B(N,ie,b[ae],W);if(ye===null){ie===null&&(ie=Je);break}r&&ie&&ye.alternate===null&&s(N,ie),I=m(ye,I,ae),re===null?ee=ye:re.sibling=ye,re=ye,ie=Je}if(ae===b.length)return a(N,ie),Me&&Wr(N,ae),ee;if(ie===null){for(;ae<b.length;ae++)ie=j(N,b[ae],W),ie!==null&&(I=m(ie,I,ae),re===null?ee=ie:re.sibling=ie,re=ie);return Me&&Wr(N,ae),ee}for(ie=c(N,ie);ae<b.length;ae++)Je=q(ie,N,ae,b[ae],W),Je!==null&&(r&&Je.alternate!==null&&ie.delete(Je.key===null?ae:Je.key),I=m(Je,I,ae),re===null?ee=Je:re.sibling=Je,re=Je);return r&&ie.forEach(function(mr){return s(N,mr)}),Me&&Wr(N,ae),ee}function Y(N,I,b,W){var ee=Z(b);if(typeof ee!="function")throw Error(n(150));if(b=ee.call(b),b==null)throw Error(n(151));for(var re=ee=null,ie=I,ae=I=0,Je=null,ye=b.next();ie!==null&&!ye.done;ae++,ye=b.next()){ie.index>ae?(Je=ie,ie=null):Je=ie.sibling;var mr=B(N,ie,ye.value,W);if(mr===null){ie===null&&(ie=Je);break}r&&ie&&mr.alternate===null&&s(N,ie),I=m(mr,I,ae),re===null?ee=mr:re.sibling=mr,re=mr,ie=Je}if(ye.done)return a(N,ie),Me&&Wr(N,ae),ee;if(ie===null){for(;!ye.done;ae++,ye=b.next())ye=j(N,ye.value,W),ye!==null&&(I=m(ye,I,ae),re===null?ee=ye:re.sibling=ye,re=ye);return Me&&Wr(N,ae),ee}for(ie=c(N,ie);!ye.done;ae++,ye=b.next())ye=q(ie,N,ae,ye.value,W),ye!==null&&(r&&ye.alternate!==null&&ie.delete(ye.key===null?ae:ye.key),I=m(ye,I,ae),re===null?ee=ye:re.sibling=ye,re=ye);return r&&ie.forEach(function(EC){return s(N,EC)}),Me&&Wr(N,ae),ee}function Ve(N,I,b,W){if(typeof b=="object"&&b!==null&&b.type===X&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case O:e:{for(var ee=b.key,re=I;re!==null;){if(re.key===ee){if(ee=b.type,ee===X){if(re.tag===7){a(N,re.sibling),I=h(re,b.props.children),I.return=N,N=I;break e}}else if(re.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ct&&Am(ee)===re.type){a(N,re.sibling),I=h(re,b.props),I.ref=$s(N,re,b),I.return=N,N=I;break e}a(N,re);break}else s(N,re);re=re.sibling}b.type===X?(I=Xr(b.props.children,N.mode,W,b.key),I.return=N,N=I):(W=dl(b.type,b.key,b.props,null,N.mode,W),W.ref=$s(N,I,b),W.return=N,N=W)}return _(N);case $:e:{for(re=b.key;I!==null;){if(I.key===re)if(I.tag===4&&I.stateNode.containerInfo===b.containerInfo&&I.stateNode.implementation===b.implementation){a(N,I.sibling),I=h(I,b.children||[]),I.return=N,N=I;break e}else{a(N,I);break}else s(N,I);I=I.sibling}I=Sd(b,N.mode,W),I.return=N,N=I}return _(N);case ct:return re=b._init,Ve(N,I,re(b._payload),W)}if(Es(b))return Q(N,I,b,W);if(Z(b))return Y(N,I,b,W);ja(N,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,I!==null&&I.tag===6?(a(N,I.sibling),I=h(I,b),I.return=N,N=I):(a(N,I),I=wd(b,N.mode,W),I.return=N,N=I),_(N)):a(N,I)}return Ve}var Mi=Om(!0),Lm=Om(!1),za=ir(null),Wa=null,Fi=null,bc=null;function Ac(){bc=Fi=Wa=null}function Oc(r){var s=za.current;Oe(za),r._currentValue=s}function Lc(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function Ui(r,s){Wa=r,bc=Fi=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(xt=!0),r.firstContext=null)}function jt(r){var s=r._currentValue;if(bc!==r)if(r={context:r,memoizedValue:s,next:null},Fi===null){if(Wa===null)throw Error(n(308));Fi=r,Wa.dependencies={lanes:0,firstContext:r}}else Fi=Fi.next=r;return s}var Vr=null;function Dc(r){Vr===null?Vr=[r]:Vr.push(r)}function Dm(r,s,a,c){var h=s.interleaved;return h===null?(a.next=a,Dc(s)):(a.next=h.next,h.next=a),s.interleaved=a,An(r,c)}function An(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var ar=!1;function Mc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function On(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function lr(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(_e&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,An(r,a)}return h=c.interleaved,h===null?(s.next=s,Dc(c)):(s.next=h.next,h.next=s),c.interleaved=s,An(r,a)}function Va(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Yu(r,a)}}function Fm(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?h=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?h=m=s:m=m.next=s}else h=m=s;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function $a(r,s,a,c){var h=r.updateQueue;ar=!1;var m=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,L=C.next;C.next=null,_===null?m=L:_.next=L,_=C;var H=r.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==_&&(E===null?H.firstBaseUpdate=L:E.next=L,H.lastBaseUpdate=C))}if(m!==null){var j=h.baseState;_=0,H=L=C=null,E=m;do{var B=E.lane,q=E.eventTime;if((c&B)===B){H!==null&&(H=H.next={eventTime:q,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var Q=r,Y=E;switch(B=s,q=a,Y.tag){case 1:if(Q=Y.payload,typeof Q=="function"){j=Q.call(q,j,B);break e}j=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=Y.payload,B=typeof Q=="function"?Q.call(q,j,B):Q,B==null)break e;j=G({},j,B);break e;case 2:ar=!0}}E.callback!==null&&E.lane!==0&&(r.flags|=64,B=h.effects,B===null?h.effects=[E]:B.push(E))}else q={eventTime:q,lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(L=H=q,C=j):H=H.next=q,_|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);if(H===null&&(C=j),h.baseState=C,h.firstBaseUpdate=L,h.lastBaseUpdate=H,s=h.shared.interleaved,s!==null){h=s;do _|=h.lane,h=h.next;while(h!==s)}else m===null&&(h.shared.lanes=0);qr|=_,r.lanes=_,r.memoizedState=j}}function Um(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],h=c.callback;if(h!==null){if(c.callback=null,c=a,typeof h!="function")throw Error(n(191,h));h.call(c)}}}var Gs={},vn=ir(Gs),qs=ir(Gs),Ks=ir(Gs);function $r(r){if(r===Gs)throw Error(n(174));return r}function Fc(r,s){switch(ke(Ks,s),ke(qs,r),ke(vn,Gs),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Uu(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Uu(s,r)}Oe(vn),ke(vn,s)}function Bi(){Oe(vn),Oe(qs),Oe(Ks)}function Bm(r){$r(Ks.current);var s=$r(vn.current),a=Uu(s,r.type);s!==a&&(ke(qs,r),ke(vn,a))}function Uc(r){qs.current===r&&(Oe(vn),Oe(qs))}var Ue=ir(0);function Ga(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Bc=[];function Hc(){for(var r=0;r<Bc.length;r++)Bc[r]._workInProgressVersionPrimary=null;Bc.length=0}var qa=z.ReactCurrentDispatcher,jc=z.ReactCurrentBatchConfig,Gr=0,Be=null,Ge=null,Ye=null,Ka=!1,Qs=!1,Ys=0,zS=0;function ht(){throw Error(n(321))}function zc(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Jt(r[a],s[a]))return!1;return!0}function Wc(r,s,a,c,h,m){if(Gr=m,Be=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,qa.current=r===null||r.memoizedState===null?GS:qS,r=a(c,h),Qs){m=0;do{if(Qs=!1,Ys=0,25<=m)throw Error(n(301));m+=1,Ye=Ge=null,s.updateQueue=null,qa.current=KS,r=a(c,h)}while(Qs)}if(qa.current=Xa,s=Ge!==null&&Ge.next!==null,Gr=0,Ye=Ge=Be=null,Ka=!1,s)throw Error(n(300));return r}function Vc(){var r=Ys!==0;return Ys=0,r}function _n(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Be.memoizedState=Ye=r:Ye=Ye.next=r,Ye}function zt(){if(Ge===null){var r=Be.alternate;r=r!==null?r.memoizedState:null}else r=Ge.next;var s=Ye===null?Be.memoizedState:Ye.next;if(s!==null)Ye=s,Ge=r;else{if(r===null)throw Error(n(310));Ge=r,r={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},Ye===null?Be.memoizedState=Ye=r:Ye=Ye.next=r}return Ye}function Xs(r,s){return typeof s=="function"?s(r):s}function $c(r){var s=zt(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var c=Ge,h=c.baseQueue,m=a.pending;if(m!==null){if(h!==null){var _=h.next;h.next=m.next,m.next=_}c.baseQueue=h=m,a.pending=null}if(h!==null){m=h.next,c=c.baseState;var E=_=null,C=null,L=m;do{var H=L.lane;if((Gr&H)===H)C!==null&&(C=C.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),c=L.hasEagerState?L.eagerState:r(c,L.action);else{var j={lane:H,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};C===null?(E=C=j,_=c):C=C.next=j,Be.lanes|=H,qr|=H}L=L.next}while(L!==null&&L!==m);C===null?_=c:C.next=E,Jt(c,s.memoizedState)||(xt=!0),s.memoizedState=c,s.baseState=_,s.baseQueue=C,a.lastRenderedState=c}if(r=a.interleaved,r!==null){h=r;do m=h.lane,Be.lanes|=m,qr|=m,h=h.next;while(h!==r)}else h===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Gc(r){var s=zt(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var c=a.dispatch,h=a.pending,m=s.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do m=r(m,_.action),_=_.next;while(_!==h);Jt(m,s.memoizedState)||(xt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,c]}function Hm(){}function jm(r,s){var a=Be,c=zt(),h=s(),m=!Jt(c.memoizedState,h);if(m&&(c.memoizedState=h,xt=!0),c=c.queue,qc(Vm.bind(null,a,c,r),[r]),c.getSnapshot!==s||m||Ye!==null&&Ye.memoizedState.tag&1){if(a.flags|=2048,Js(9,Wm.bind(null,a,c,h,s),void 0,null),Xe===null)throw Error(n(349));(Gr&30)!==0||zm(a,s,h)}return h}function zm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=Be.updateQueue,s===null?(s={lastEffect:null,stores:null},Be.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Wm(r,s,a,c){s.value=a,s.getSnapshot=c,$m(s)&&Gm(r)}function Vm(r,s,a){return a(function(){$m(s)&&Gm(r)})}function $m(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Jt(r,a)}catch{return!0}}function Gm(r){var s=An(r,1);s!==null&&rn(s,r,1,-1)}function qm(r){var s=_n();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:r},s.queue=r,r=r.dispatch=$S.bind(null,Be,r),[s.memoizedState,r]}function Js(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=Be.updateQueue,s===null?(s={lastEffect:null,stores:null},Be.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function Km(){return zt().memoizedState}function Qa(r,s,a,c){var h=_n();Be.flags|=r,h.memoizedState=Js(1|s,a,void 0,c===void 0?null:c)}function Ya(r,s,a,c){var h=zt();c=c===void 0?null:c;var m=void 0;if(Ge!==null){var _=Ge.memoizedState;if(m=_.destroy,c!==null&&zc(c,_.deps)){h.memoizedState=Js(s,a,m,c);return}}Be.flags|=r,h.memoizedState=Js(1|s,a,m,c)}function Qm(r,s){return Qa(8390656,8,r,s)}function qc(r,s){return Ya(2048,8,r,s)}function Ym(r,s){return Ya(4,2,r,s)}function Xm(r,s){return Ya(4,4,r,s)}function Jm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Zm(r,s,a){return a=a!=null?a.concat([r]):null,Ya(4,4,Jm.bind(null,s,r),a)}function Kc(){}function eg(r,s){var a=zt();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&zc(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function tg(r,s){var a=zt();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&zc(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function ng(r,s,a){return(Gr&21)===0?(r.baseState&&(r.baseState=!1,xt=!0),r.memoizedState=a):(Jt(a,s)||(a=Ap(),Be.lanes|=a,qr|=a,r.baseState=!0),s)}function WS(r,s){var a=Ie;Ie=a!==0&&4>a?a:4,r(!0);var c=jc.transition;jc.transition={};try{r(!1),s()}finally{Ie=a,jc.transition=c}}function rg(){return zt().memoizedState}function VS(r,s,a){var c=hr(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},ig(r))sg(s,a);else if(a=Dm(r,s,a,c),a!==null){var h=_t();rn(a,r,c,h),og(a,s,c)}}function $S(r,s,a){var c=hr(r),h={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(ig(r))sg(s,h);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var _=s.lastRenderedState,E=m(_,a);if(h.hasEagerState=!0,h.eagerState=E,Jt(E,_)){var C=s.interleaved;C===null?(h.next=h,Dc(s)):(h.next=C.next,C.next=h),s.interleaved=h;return}}catch{}finally{}a=Dm(r,s,h,c),a!==null&&(h=_t(),rn(a,r,c,h),og(a,s,c))}}function ig(r){var s=r.alternate;return r===Be||s!==null&&s===Be}function sg(r,s){Qs=Ka=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function og(r,s,a){if((a&4194240)!==0){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Yu(r,a)}}var Xa={readContext:jt,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},GS={readContext:jt,useCallback:function(r,s){return _n().memoizedState=[r,s===void 0?null:s],r},useContext:jt,useEffect:Qm,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Qa(4194308,4,Jm.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Qa(4194308,4,r,s)},useInsertionEffect:function(r,s){return Qa(4,2,r,s)},useMemo:function(r,s){var a=_n();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=_n();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=VS.bind(null,Be,r),[c.memoizedState,r]},useRef:function(r){var s=_n();return r={current:r},s.memoizedState=r},useState:qm,useDebugValue:Kc,useDeferredValue:function(r){return _n().memoizedState=r},useTransition:function(){var r=qm(!1),s=r[0];return r=WS.bind(null,r[1]),_n().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=Be,h=_n();if(Me){if(a===void 0)throw Error(n(407));a=a()}else{if(a=s(),Xe===null)throw Error(n(349));(Gr&30)!==0||zm(c,s,a)}h.memoizedState=a;var m={value:a,getSnapshot:s};return h.queue=m,Qm(Vm.bind(null,c,m,r),[r]),c.flags|=2048,Js(9,Wm.bind(null,c,m,a,s),void 0,null),a},useId:function(){var r=_n(),s=Xe.identifierPrefix;if(Me){var a=bn,c=Pn;a=(c&~(1<<32-Xt(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ys++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=zS++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},qS={readContext:jt,useCallback:eg,useContext:jt,useEffect:qc,useImperativeHandle:Zm,useInsertionEffect:Ym,useLayoutEffect:Xm,useMemo:tg,useReducer:$c,useRef:Km,useState:function(){return $c(Xs)},useDebugValue:Kc,useDeferredValue:function(r){var s=zt();return ng(s,Ge.memoizedState,r)},useTransition:function(){var r=$c(Xs)[0],s=zt().memoizedState;return[r,s]},useMutableSource:Hm,useSyncExternalStore:jm,useId:rg,unstable_isNewReconciler:!1},KS={readContext:jt,useCallback:eg,useContext:jt,useEffect:qc,useImperativeHandle:Zm,useInsertionEffect:Ym,useLayoutEffect:Xm,useMemo:tg,useReducer:Gc,useRef:Km,useState:function(){return Gc(Xs)},useDebugValue:Kc,useDeferredValue:function(r){var s=zt();return Ge===null?s.memoizedState=r:ng(s,Ge.memoizedState,r)},useTransition:function(){var r=Gc(Xs)[0],s=zt().memoizedState;return[r,s]},useMutableSource:Hm,useSyncExternalStore:jm,useId:rg,unstable_isNewReconciler:!1};function en(r,s){if(r&&r.defaultProps){s=G({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Qc(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:G({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Ja={isMounted:function(r){return(r=r._reactInternals)?Br(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=_t(),h=hr(r),m=On(c,h);m.payload=s,a!=null&&(m.callback=a),s=lr(r,m,h),s!==null&&(rn(s,r,h,c),Va(s,r,h))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=_t(),h=hr(r),m=On(c,h);m.tag=1,m.payload=s,a!=null&&(m.callback=a),s=lr(r,m,h),s!==null&&(rn(s,r,h,c),Va(s,r,h))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=_t(),c=hr(r),h=On(a,c);h.tag=2,s!=null&&(h.callback=s),s=lr(r,h,c),s!==null&&(rn(s,r,c,a),Va(s,r,c))}};function ag(r,s,a,c,h,m,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,m,_):s.prototype&&s.prototype.isPureReactComponent?!Us(a,c)||!Us(h,m):!0}function lg(r,s,a){var c=!1,h=sr,m=s.contextType;return typeof m=="object"&&m!==null?m=jt(m):(h=Tt(s)?jr:dt.current,c=s.contextTypes,m=(c=c!=null)?Ai(r,h):sr),s=new s(a,m),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ja,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=h,r.__reactInternalMemoizedMaskedChildContext=m),s}function ug(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&Ja.enqueueReplaceState(s,s.state,null)}function Yc(r,s,a,c){var h=r.stateNode;h.props=a,h.state=r.memoizedState,h.refs={},Mc(r);var m=s.contextType;typeof m=="object"&&m!==null?h.context=jt(m):(m=Tt(s)?jr:dt.current,h.context=Ai(r,m)),h.state=r.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(Qc(r,s,m,a),h.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&Ja.enqueueReplaceState(h,h.state,null),$a(r,a,h,c),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308)}function Hi(r,s){try{var a="",c=s;do a+=ce(c),c=c.return;while(c);var h=a}catch(m){h=`
Error generating stack: `+m.message+`
`+m.stack}return{value:r,source:s,stack:h,digest:null}}function Xc(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Jc(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var QS=typeof WeakMap=="function"?WeakMap:Map;function cg(r,s,a){a=On(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){sl||(sl=!0,fd=c),Jc(r,s)},a}function dg(r,s,a){a=On(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=s.value;a.payload=function(){return c(h)},a.callback=function(){Jc(r,s)}}var m=r.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Jc(r,s),typeof c!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),a}function hg(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new QS;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(a)||(h.add(a),r=uC.bind(null,r,s,a),s.then(r,r))}function fg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function pg(r,s,a,c,h){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=On(-1,1),s.tag=2,lr(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=h,r)}var YS=z.ReactCurrentOwner,xt=!1;function vt(r,s,a,c){s.child=r===null?Lm(s,null,a,c):Mi(s,r.child,a,c)}function mg(r,s,a,c,h){a=a.render;var m=s.ref;return Ui(s,h),c=Wc(r,s,a,c,m,h),a=Vc(),r!==null&&!xt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,Ln(r,s,h)):(Me&&a&&xc(s),s.flags|=1,vt(r,s,c,h),s.child)}function gg(r,s,a,c,h){if(r===null){var m=a.type;return typeof m=="function"&&!Ed(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=m,vg(r,s,m,c,h)):(r=dl(a.type,null,c,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,(r.lanes&h)===0){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:Us,a(_,c)&&r.ref===s.ref)return Ln(r,s,h)}return s.flags|=1,r=pr(m,c),r.ref=s.ref,r.return=s,s.child=r}function vg(r,s,a,c,h){if(r!==null){var m=r.memoizedProps;if(Us(m,c)&&r.ref===s.ref)if(xt=!1,s.pendingProps=c=m,(r.lanes&h)!==0)(r.flags&131072)!==0&&(xt=!0);else return s.lanes=r.lanes,Ln(r,s,h)}return Zc(r,s,a,c,h)}function _g(r,s,a){var c=s.pendingProps,h=c.children,m=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(zi,Dt),Dt|=a;else{if((a&1073741824)===0)return r=m!==null?m.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,ke(zi,Dt),Dt|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,ke(zi,Dt),Dt|=c}else m!==null?(c=m.baseLanes|a,s.memoizedState=null):c=a,ke(zi,Dt),Dt|=c;return vt(r,s,h,a),s.child}function yg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Zc(r,s,a,c,h){var m=Tt(a)?jr:dt.current;return m=Ai(s,m),Ui(s,h),a=Wc(r,s,a,c,m,h),c=Vc(),r!==null&&!xt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,Ln(r,s,h)):(Me&&c&&xc(s),s.flags|=1,vt(r,s,a,h),s.child)}function Eg(r,s,a,c,h){if(Tt(a)){var m=!0;Ma(s)}else m=!1;if(Ui(s,h),s.stateNode===null)el(r,s),lg(s,a,c),Yc(s,a,c,h),c=!0;else if(r===null){var _=s.stateNode,E=s.memoizedProps;_.props=E;var C=_.context,L=a.contextType;typeof L=="object"&&L!==null?L=jt(L):(L=Tt(a)?jr:dt.current,L=Ai(s,L));var H=a.getDerivedStateFromProps,j=typeof H=="function"||typeof _.getSnapshotBeforeUpdate=="function";j||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(E!==c||C!==L)&&ug(s,_,c,L),ar=!1;var B=s.memoizedState;_.state=B,$a(s,c,_,h),C=s.memoizedState,E!==c||B!==C||It.current||ar?(typeof H=="function"&&(Qc(s,a,H,c),C=s.memoizedState),(E=ar||ag(s,a,E,c,B,C,L))?(j||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=C),_.props=c,_.state=C,_.context=L,c=E):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{_=s.stateNode,Mm(r,s),E=s.memoizedProps,L=s.type===s.elementType?E:en(s.type,E),_.props=L,j=s.pendingProps,B=_.context,C=a.contextType,typeof C=="object"&&C!==null?C=jt(C):(C=Tt(a)?jr:dt.current,C=Ai(s,C));var q=a.getDerivedStateFromProps;(H=typeof q=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(E!==j||B!==C)&&ug(s,_,c,C),ar=!1,B=s.memoizedState,_.state=B,$a(s,c,_,h);var Q=s.memoizedState;E!==j||B!==Q||It.current||ar?(typeof q=="function"&&(Qc(s,a,q,c),Q=s.memoizedState),(L=ar||ag(s,a,L,c,B,Q,C)||!1)?(H||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,Q,C),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,Q,C)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||E===r.memoizedProps&&B===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&B===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Q),_.props=c,_.state=Q,_.context=C,c=L):(typeof _.componentDidUpdate!="function"||E===r.memoizedProps&&B===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&B===r.memoizedState||(s.flags|=1024),c=!1)}return ed(r,s,a,c,m,h)}function ed(r,s,a,c,h,m){yg(r,s);var _=(s.flags&128)!==0;if(!c&&!_)return h&&Tm(s,a,!1),Ln(r,s,m);c=s.stateNode,YS.current=s;var E=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&_?(s.child=Mi(s,r.child,null,m),s.child=Mi(s,null,E,m)):vt(r,s,E,m),s.memoizedState=c.state,h&&Tm(s,a,!0),s.child}function wg(r){var s=r.stateNode;s.pendingContext?Cm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Cm(r,s.context,!1),Fc(r,s.containerInfo)}function Sg(r,s,a,c,h){return Di(),Pc(h),s.flags|=256,vt(r,s,a,c),s.child}var td={dehydrated:null,treeContext:null,retryLane:0};function nd(r){return{baseLanes:r,cachePool:null,transitions:null}}function Cg(r,s,a){var c=s.pendingProps,h=Ue.current,m=!1,_=(s.flags&128)!==0,E;if((E=_)||(E=r!==null&&r.memoizedState===null?!1:(h&2)!==0),E?(m=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(h|=1),ke(Ue,h&1),r===null)return Nc(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(_=c.children,r=c.fallback,m?(c=s.mode,m=s.child,_={mode:"hidden",children:_},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=_):m=hl(_,c,0,null),r=Xr(r,c,a,null),m.return=s,r.return=s,m.sibling=r,s.child=m,s.child.memoizedState=nd(a),s.memoizedState=td,r):rd(s,_));if(h=r.memoizedState,h!==null&&(E=h.dehydrated,E!==null))return XS(r,s,_,c,E,h,a);if(m){m=c.fallback,_=s.mode,h=r.child,E=h.sibling;var C={mode:"hidden",children:c.children};return(_&1)===0&&s.child!==h?(c=s.child,c.childLanes=0,c.pendingProps=C,s.deletions=null):(c=pr(h,C),c.subtreeFlags=h.subtreeFlags&14680064),E!==null?m=pr(E,m):(m=Xr(m,_,a,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,_=r.child.memoizedState,_=_===null?nd(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=r.childLanes&~a,s.memoizedState=td,c}return m=r.child,r=m.sibling,c=pr(m,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function rd(r,s){return s=hl({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Za(r,s,a,c){return c!==null&&Pc(c),Mi(s,r.child,null,a),r=rd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function XS(r,s,a,c,h,m,_){if(a)return s.flags&256?(s.flags&=-257,c=Xc(Error(n(422))),Za(r,s,_,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(m=c.fallback,h=s.mode,c=hl({mode:"visible",children:c.children},h,0,null),m=Xr(m,h,_,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,(s.mode&1)!==0&&Mi(s,r.child,null,_),s.child.memoizedState=nd(_),s.memoizedState=td,m);if((s.mode&1)===0)return Za(r,s,_,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var E=c.dgst;return c=E,m=Error(n(419)),c=Xc(m,c,void 0),Za(r,s,_,c)}if(E=(_&r.childLanes)!==0,xt||E){if(c=Xe,c!==null){switch(_&-_){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|_))!==0?0:h,h!==0&&h!==m.retryLane&&(m.retryLane=h,An(r,h),rn(c,r,h,-1))}return yd(),c=Xc(Error(n(421))),Za(r,s,_,c)}return h.data==="$?"?(s.flags|=128,s.child=r.child,s=cC.bind(null,r),h._reactRetry=s,null):(r=m.treeContext,Lt=rr(h.nextSibling),Ot=s,Me=!0,Zt=null,r!==null&&(Bt[Ht++]=Pn,Bt[Ht++]=bn,Bt[Ht++]=zr,Pn=r.id,bn=r.overflow,zr=s),s=rd(s,c.children),s.flags|=4096,s)}function Ig(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Lc(r.return,s,a)}function id(r,s,a,c,h){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=h)}function Tg(r,s,a){var c=s.pendingProps,h=c.revealOrder,m=c.tail;if(vt(r,s,c.children,a),c=Ue.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ig(r,a,s);else if(r.tag===19)Ig(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(ke(Ue,c),(s.mode&1)===0)s.memoizedState=null;else switch(h){case"forwards":for(a=s.child,h=null;a!==null;)r=a.alternate,r!==null&&Ga(r)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),id(s,!1,h,a,m);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Ga(r)===null){s.child=h;break}r=h.sibling,h.sibling=a,a=h,h=r}id(s,!0,a,null,m);break;case"together":id(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function el(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Ln(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),qr|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,a=pr(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=pr(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function JS(r,s,a){switch(s.tag){case 3:wg(s),Di();break;case 5:Bm(s);break;case 1:Tt(s.type)&&Ma(s);break;case 4:Fc(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,h=s.memoizedProps.value;ke(za,c._currentValue),c._currentValue=h;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(ke(Ue,Ue.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Cg(r,s,a):(ke(Ue,Ue.current&1),r=Ln(r,s,a),r!==null?r.sibling:null);ke(Ue,Ue.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(r.flags&128)!==0){if(c)return Tg(r,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ke(Ue,Ue.current),c)break;return null;case 22:case 23:return s.lanes=0,_g(r,s,a)}return Ln(r,s,a)}var xg,sd,Rg,kg;xg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},sd=function(){},Rg=function(r,s,a,c){var h=r.memoizedProps;if(h!==c){r=s.stateNode,$r(vn.current);var m=null;switch(a){case"input":h=Lu(r,h),c=Lu(r,c),m=[];break;case"select":h=G({},h,{value:void 0}),c=G({},c,{value:void 0}),m=[];break;case"textarea":h=Fu(r,h),c=Fu(r,c),m=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=Oa)}Bu(a,c);var _;a=null;for(L in h)if(!c.hasOwnProperty(L)&&h.hasOwnProperty(L)&&h[L]!=null)if(L==="style"){var E=h[L];for(_ in E)E.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(o.hasOwnProperty(L)?m||(m=[]):(m=m||[]).push(L,null));for(L in c){var C=c[L];if(E=h!=null?h[L]:void 0,c.hasOwnProperty(L)&&C!==E&&(C!=null||E!=null))if(L==="style")if(E){for(_ in E)!E.hasOwnProperty(_)||C&&C.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in C)C.hasOwnProperty(_)&&E[_]!==C[_]&&(a||(a={}),a[_]=C[_])}else a||(m||(m=[]),m.push(L,a)),a=C;else L==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,E=E?E.__html:void 0,C!=null&&E!==C&&(m=m||[]).push(L,C)):L==="children"?typeof C!="string"&&typeof C!="number"||(m=m||[]).push(L,""+C):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(o.hasOwnProperty(L)?(C!=null&&L==="onScroll"&&Ae("scroll",r),m||E===C||(m=[])):(m=m||[]).push(L,C))}a&&(m=m||[]).push("style",a);var L=m;(s.updateQueue=L)&&(s.flags|=4)}},kg=function(r,s,a,c){a!==c&&(s.flags|=4)};function Zs(r,s){if(!Me)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function ft(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var h=r.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function ZS(r,s,a){var c=s.pendingProps;switch(Rc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(s),null;case 1:return Tt(s.type)&&Da(),ft(s),null;case 3:return c=s.stateNode,Bi(),Oe(It),Oe(dt),Hc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Ha(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Zt!==null&&(gd(Zt),Zt=null))),sd(r,s),ft(s),null;case 5:Uc(s);var h=$r(Ks.current);if(a=s.type,r!==null&&s.stateNode!=null)Rg(r,s,a,c,h),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(n(166));return ft(s),null}if(r=$r(vn.current),Ha(s)){c=s.stateNode,a=s.type;var m=s.memoizedProps;switch(c[gn]=s,c[Ws]=m,r=(s.mode&1)!==0,a){case"dialog":Ae("cancel",c),Ae("close",c);break;case"iframe":case"object":case"embed":Ae("load",c);break;case"video":case"audio":for(h=0;h<Hs.length;h++)Ae(Hs[h],c);break;case"source":Ae("error",c);break;case"img":case"image":case"link":Ae("error",c),Ae("load",c);break;case"details":Ae("toggle",c);break;case"input":lp(c,m),Ae("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Ae("invalid",c);break;case"textarea":dp(c,m),Ae("invalid",c)}Bu(a,m),h=null;for(var _ in m)if(m.hasOwnProperty(_)){var E=m[_];_==="children"?typeof E=="string"?c.textContent!==E&&(m.suppressHydrationWarning!==!0&&Aa(c.textContent,E,r),h=["children",E]):typeof E=="number"&&c.textContent!==""+E&&(m.suppressHydrationWarning!==!0&&Aa(c.textContent,E,r),h=["children",""+E]):o.hasOwnProperty(_)&&E!=null&&_==="onScroll"&&Ae("scroll",c)}switch(a){case"input":ua(c),cp(c,m,!0);break;case"textarea":ua(c),fp(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Oa)}c=h,s.updateQueue=c,c!==null&&(s.flags|=4)}else{_=h.nodeType===9?h:h.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=pp(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=_.createElement(a,{is:c.is}):(r=_.createElement(a),a==="select"&&(_=r,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):r=_.createElementNS(r,a),r[gn]=s,r[Ws]=c,xg(r,s,!1,!1),s.stateNode=r;e:{switch(_=Hu(a,c),a){case"dialog":Ae("cancel",r),Ae("close",r),h=c;break;case"iframe":case"object":case"embed":Ae("load",r),h=c;break;case"video":case"audio":for(h=0;h<Hs.length;h++)Ae(Hs[h],r);h=c;break;case"source":Ae("error",r),h=c;break;case"img":case"image":case"link":Ae("error",r),Ae("load",r),h=c;break;case"details":Ae("toggle",r),h=c;break;case"input":lp(r,c),h=Lu(r,c),Ae("invalid",r);break;case"option":h=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},h=G({},c,{value:void 0}),Ae("invalid",r);break;case"textarea":dp(r,c),h=Fu(r,c),Ae("invalid",r);break;default:h=c}Bu(a,h),E=h;for(m in E)if(E.hasOwnProperty(m)){var C=E[m];m==="style"?vp(r,C):m==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&mp(r,C)):m==="children"?typeof C=="string"?(a!=="textarea"||C!=="")&&ws(r,C):typeof C=="number"&&ws(r,""+C):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?C!=null&&m==="onScroll"&&Ae("scroll",r):C!=null&&M(r,m,C,_))}switch(a){case"input":ua(r),cp(r,c,!1);break;case"textarea":ua(r),fp(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Se(c.value));break;case"select":r.multiple=!!c.multiple,m=c.value,m!=null?Ei(r,!!c.multiple,m,!1):c.defaultValue!=null&&Ei(r,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(r.onclick=Oa)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return ft(s),null;case 6:if(r&&s.stateNode!=null)kg(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(a=$r(Ks.current),$r(vn.current),Ha(s)){if(c=s.stateNode,a=s.memoizedProps,c[gn]=s,(m=c.nodeValue!==a)&&(r=Ot,r!==null))switch(r.tag){case 3:Aa(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Aa(c.nodeValue,a,(r.mode&1)!==0)}m&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[gn]=s,s.stateNode=c}return ft(s),null;case 13:if(Oe(Ue),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Me&&Lt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)bm(),Di(),s.flags|=98560,m=!1;else if(m=Ha(s),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(n(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[gn]=s}else Di(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ft(s),m=!1}else Zt!==null&&(gd(Zt),Zt=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Ue.current&1)!==0?qe===0&&(qe=3):yd())),s.updateQueue!==null&&(s.flags|=4),ft(s),null);case 4:return Bi(),sd(r,s),r===null&&js(s.stateNode.containerInfo),ft(s),null;case 10:return Oc(s.type._context),ft(s),null;case 17:return Tt(s.type)&&Da(),ft(s),null;case 19:if(Oe(Ue),m=s.memoizedState,m===null)return ft(s),null;if(c=(s.flags&128)!==0,_=m.rendering,_===null)if(c)Zs(m,!1);else{if(qe!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(_=Ga(r),_!==null){for(s.flags|=128,Zs(m,!1),c=_.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)m=a,r=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=r,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,r=_.dependencies,m.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return ke(Ue,Ue.current&1|2),s.child}r=r.sibling}m.tail!==null&&We()>Wi&&(s.flags|=128,c=!0,Zs(m,!1),s.lanes=4194304)}else{if(!c)if(r=Ga(_),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Zs(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Me)return ft(s),null}else 2*We()-m.renderingStartTime>Wi&&a!==1073741824&&(s.flags|=128,c=!0,Zs(m,!1),s.lanes=4194304);m.isBackwards?(_.sibling=s.child,s.child=_):(a=m.last,a!==null?a.sibling=_:s.child=_,m.last=_)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=We(),s.sibling=null,a=Ue.current,ke(Ue,c?a&1|2:a&1),s):(ft(s),null);case 22:case 23:return _d(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(Dt&1073741824)!==0&&(ft(s),s.subtreeFlags&6&&(s.flags|=8192)):ft(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function eC(r,s){switch(Rc(s),s.tag){case 1:return Tt(s.type)&&Da(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Bi(),Oe(It),Oe(dt),Hc(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Uc(s),null;case 13:if(Oe(Ue),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Di()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Oe(Ue),null;case 4:return Bi(),null;case 10:return Oc(s.type._context),null;case 22:case 23:return _d(),null;case 24:return null;default:return null}}var tl=!1,pt=!1,tC=typeof WeakSet=="function"?WeakSet:Set,K=null;function ji(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){je(r,s,c)}else a.current=null}function od(r,s,a){try{a()}catch(c){je(r,s,c)}}var Ng=!1;function nC(r,s){if(_c=wa,r=am(),cc(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,E=-1,C=-1,L=0,H=0,j=r,B=null;t:for(;;){for(var q;j!==a||h!==0&&j.nodeType!==3||(E=_+h),j!==m||c!==0&&j.nodeType!==3||(C=_+c),j.nodeType===3&&(_+=j.nodeValue.length),(q=j.firstChild)!==null;)B=j,j=q;for(;;){if(j===r)break t;if(B===a&&++L===h&&(E=_),B===m&&++H===c&&(C=_),(q=j.nextSibling)!==null)break;j=B,B=j.parentNode}j=q}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(yc={focusedElem:r,selectionRange:a},wa=!1,K=s;K!==null;)if(s=K,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,K=r;else for(;K!==null;){s=K;try{var Q=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var Y=Q.memoizedProps,Ve=Q.memoizedState,N=s.stateNode,I=N.getSnapshotBeforeUpdate(s.elementType===s.type?Y:en(s.type,Y),Ve);N.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var b=s.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(W){je(s,s.return,W)}if(r=s.sibling,r!==null){r.return=s.return,K=r;break}K=s.return}return Q=Ng,Ng=!1,Q}function eo(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&r)===r){var m=h.destroy;h.destroy=void 0,m!==void 0&&od(s,a,m)}h=h.next}while(h!==c)}}function nl(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function ad(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Pg(r){var s=r.alternate;s!==null&&(r.alternate=null,Pg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[gn],delete s[Ws],delete s[Cc],delete s[US],delete s[BS])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function bg(r){return r.tag===5||r.tag===3||r.tag===4}function Ag(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||bg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ld(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Oa));else if(c!==4&&(r=r.child,r!==null))for(ld(r,s,a),r=r.sibling;r!==null;)ld(r,s,a),r=r.sibling}function ud(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(ud(r,s,a),r=r.sibling;r!==null;)ud(r,s,a),r=r.sibling}var rt=null,tn=!1;function ur(r,s,a){for(a=a.child;a!==null;)Og(r,s,a),a=a.sibling}function Og(r,s,a){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(ma,a)}catch{}switch(a.tag){case 5:pt||ji(a,s);case 6:var c=rt,h=tn;rt=null,ur(r,s,a),rt=c,tn=h,rt!==null&&(tn?(r=rt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):rt.removeChild(a.stateNode));break;case 18:rt!==null&&(tn?(r=rt,a=a.stateNode,r.nodeType===8?Sc(r.parentNode,a):r.nodeType===1&&Sc(r,a),As(r)):Sc(rt,a.stateNode));break;case 4:c=rt,h=tn,rt=a.stateNode.containerInfo,tn=!0,ur(r,s,a),rt=c,tn=h;break;case 0:case 11:case 14:case 15:if(!pt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var m=h,_=m.destroy;m=m.tag,_!==void 0&&((m&2)!==0||(m&4)!==0)&&od(a,s,_),h=h.next}while(h!==c)}ur(r,s,a);break;case 1:if(!pt&&(ji(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(E){je(a,s,E)}ur(r,s,a);break;case 21:ur(r,s,a);break;case 22:a.mode&1?(pt=(c=pt)||a.memoizedState!==null,ur(r,s,a),pt=c):ur(r,s,a);break;default:ur(r,s,a)}}function Lg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new tC),s.forEach(function(c){var h=dC.bind(null,r,c);a.has(c)||(a.add(c),c.then(h,h))})}}function nn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];try{var m=r,_=s,E=_;e:for(;E!==null;){switch(E.tag){case 5:rt=E.stateNode,tn=!1;break e;case 3:rt=E.stateNode.containerInfo,tn=!0;break e;case 4:rt=E.stateNode.containerInfo,tn=!0;break e}E=E.return}if(rt===null)throw Error(n(160));Og(m,_,h),rt=null,tn=!1;var C=h.alternate;C!==null&&(C.return=null),h.return=null}catch(L){je(h,s,L)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Dg(s,r),s=s.sibling}function Dg(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(nn(s,r),yn(r),c&4){try{eo(3,r,r.return),nl(3,r)}catch(Y){je(r,r.return,Y)}try{eo(5,r,r.return)}catch(Y){je(r,r.return,Y)}}break;case 1:nn(s,r),yn(r),c&512&&a!==null&&ji(a,a.return);break;case 5:if(nn(s,r),yn(r),c&512&&a!==null&&ji(a,a.return),r.flags&32){var h=r.stateNode;try{ws(h,"")}catch(Y){je(r,r.return,Y)}}if(c&4&&(h=r.stateNode,h!=null)){var m=r.memoizedProps,_=a!==null?a.memoizedProps:m,E=r.type,C=r.updateQueue;if(r.updateQueue=null,C!==null)try{E==="input"&&m.type==="radio"&&m.name!=null&&up(h,m),Hu(E,_);var L=Hu(E,m);for(_=0;_<C.length;_+=2){var H=C[_],j=C[_+1];H==="style"?vp(h,j):H==="dangerouslySetInnerHTML"?mp(h,j):H==="children"?ws(h,j):M(h,H,j,L)}switch(E){case"input":Du(h,m);break;case"textarea":hp(h,m);break;case"select":var B=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!m.multiple;var q=m.value;q!=null?Ei(h,!!m.multiple,q,!1):B!==!!m.multiple&&(m.defaultValue!=null?Ei(h,!!m.multiple,m.defaultValue,!0):Ei(h,!!m.multiple,m.multiple?[]:"",!1))}h[Ws]=m}catch(Y){je(r,r.return,Y)}}break;case 6:if(nn(s,r),yn(r),c&4){if(r.stateNode===null)throw Error(n(162));h=r.stateNode,m=r.memoizedProps;try{h.nodeValue=m}catch(Y){je(r,r.return,Y)}}break;case 3:if(nn(s,r),yn(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{As(s.containerInfo)}catch(Y){je(r,r.return,Y)}break;case 4:nn(s,r),yn(r);break;case 13:nn(s,r),yn(r),h=r.child,h.flags&8192&&(m=h.memoizedState!==null,h.stateNode.isHidden=m,!m||h.alternate!==null&&h.alternate.memoizedState!==null||(hd=We())),c&4&&Lg(r);break;case 22:if(H=a!==null&&a.memoizedState!==null,r.mode&1?(pt=(L=pt)||H,nn(s,r),pt=L):nn(s,r),yn(r),c&8192){if(L=r.memoizedState!==null,(r.stateNode.isHidden=L)&&!H&&(r.mode&1)!==0)for(K=r,H=r.child;H!==null;){for(j=K=H;K!==null;){switch(B=K,q=B.child,B.tag){case 0:case 11:case 14:case 15:eo(4,B,B.return);break;case 1:ji(B,B.return);var Q=B.stateNode;if(typeof Q.componentWillUnmount=="function"){c=B,a=B.return;try{s=c,Q.props=s.memoizedProps,Q.state=s.memoizedState,Q.componentWillUnmount()}catch(Y){je(c,a,Y)}}break;case 5:ji(B,B.return);break;case 22:if(B.memoizedState!==null){Ug(j);continue}}q!==null?(q.return=B,K=q):Ug(j)}H=H.sibling}e:for(H=null,j=r;;){if(j.tag===5){if(H===null){H=j;try{h=j.stateNode,L?(m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(E=j.stateNode,C=j.memoizedProps.style,_=C!=null&&C.hasOwnProperty("display")?C.display:null,E.style.display=gp("display",_))}catch(Y){je(r,r.return,Y)}}}else if(j.tag===6){if(H===null)try{j.stateNode.nodeValue=L?"":j.memoizedProps}catch(Y){je(r,r.return,Y)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===r)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===r)break e;for(;j.sibling===null;){if(j.return===null||j.return===r)break e;H===j&&(H=null),j=j.return}H===j&&(H=null),j.sibling.return=j.return,j=j.sibling}}break;case 19:nn(s,r),yn(r),c&4&&Lg(r);break;case 21:break;default:nn(s,r),yn(r)}}function yn(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(bg(a)){var c=a;break e}a=a.return}throw Error(n(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(ws(h,""),c.flags&=-33);var m=Ag(r);ud(r,m,h);break;case 3:case 4:var _=c.stateNode.containerInfo,E=Ag(r);ld(r,E,_);break;default:throw Error(n(161))}}catch(C){je(r,r.return,C)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function rC(r,s,a){K=r,Mg(r)}function Mg(r,s,a){for(var c=(r.mode&1)!==0;K!==null;){var h=K,m=h.child;if(h.tag===22&&c){var _=h.memoizedState!==null||tl;if(!_){var E=h.alternate,C=E!==null&&E.memoizedState!==null||pt;E=tl;var L=pt;if(tl=_,(pt=C)&&!L)for(K=h;K!==null;)_=K,C=_.child,_.tag===22&&_.memoizedState!==null?Bg(h):C!==null?(C.return=_,K=C):Bg(h);for(;m!==null;)K=m,Mg(m),m=m.sibling;K=h,tl=E,pt=L}Fg(r)}else(h.subtreeFlags&8772)!==0&&m!==null?(m.return=h,K=m):Fg(r)}}function Fg(r){for(;K!==null;){var s=K;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:pt||nl(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!pt)if(a===null)c.componentDidMount();else{var h=s.elementType===s.type?a.memoizedProps:en(s.type,a.memoizedProps);c.componentDidUpdate(h,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&Um(s,m,c);break;case 3:var _=s.updateQueue;if(_!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Um(s,_,a)}break;case 5:var E=s.stateNode;if(a===null&&s.flags&4){a=E;var C=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&a.focus();break;case"img":C.src&&(a.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var L=s.alternate;if(L!==null){var H=L.memoizedState;if(H!==null){var j=H.dehydrated;j!==null&&As(j)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}pt||s.flags&512&&ad(s)}catch(B){je(s,s.return,B)}}if(s===r){K=null;break}if(a=s.sibling,a!==null){a.return=s.return,K=a;break}K=s.return}}function Ug(r){for(;K!==null;){var s=K;if(s===r){K=null;break}var a=s.sibling;if(a!==null){a.return=s.return,K=a;break}K=s.return}}function Bg(r){for(;K!==null;){var s=K;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{nl(4,s)}catch(C){je(s,a,C)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var h=s.return;try{c.componentDidMount()}catch(C){je(s,h,C)}}var m=s.return;try{ad(s)}catch(C){je(s,m,C)}break;case 5:var _=s.return;try{ad(s)}catch(C){je(s,_,C)}}}catch(C){je(s,s.return,C)}if(s===r){K=null;break}var E=s.sibling;if(E!==null){E.return=s.return,K=E;break}K=s.return}}var iC=Math.ceil,rl=z.ReactCurrentDispatcher,cd=z.ReactCurrentOwner,Wt=z.ReactCurrentBatchConfig,_e=0,Xe=null,$e=null,it=0,Dt=0,zi=ir(0),qe=0,to=null,qr=0,il=0,dd=0,no=null,Rt=null,hd=0,Wi=1/0,Dn=null,sl=!1,fd=null,cr=null,ol=!1,dr=null,al=0,ro=0,pd=null,ll=-1,ul=0;function _t(){return(_e&6)!==0?We():ll!==-1?ll:ll=We()}function hr(r){return(r.mode&1)===0?1:(_e&2)!==0&&it!==0?it&-it:jS.transition!==null?(ul===0&&(ul=Ap()),ul):(r=Ie,r!==0||(r=window.event,r=r===void 0?16:jp(r.type)),r)}function rn(r,s,a,c){if(50<ro)throw ro=0,pd=null,Error(n(185));Rs(r,a,c),((_e&2)===0||r!==Xe)&&(r===Xe&&((_e&2)===0&&(il|=a),qe===4&&fr(r,it)),kt(r,c),a===1&&_e===0&&(s.mode&1)===0&&(Wi=We()+500,Fa&&or()))}function kt(r,s){var a=r.callbackNode;jw(r,s);var c=_a(r,r===Xe?it:0);if(c===0)a!==null&&Np(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&Np(a),s===1)r.tag===0?HS(jg.bind(null,r)):xm(jg.bind(null,r)),MS(function(){(_e&6)===0&&or()}),a=null;else{switch(Op(c)){case 1:a=qu;break;case 4:a=Pp;break;case 16:a=pa;break;case 536870912:a=bp;break;default:a=pa}a=Qg(a,Hg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Hg(r,s){if(ll=-1,ul=0,(_e&6)!==0)throw Error(n(327));var a=r.callbackNode;if(Vi()&&r.callbackNode!==a)return null;var c=_a(r,r===Xe?it:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||s)s=cl(r,c);else{s=c;var h=_e;_e|=2;var m=Wg();(Xe!==r||it!==s)&&(Dn=null,Wi=We()+500,Qr(r,s));do try{aC();break}catch(E){zg(r,E)}while(!0);Ac(),rl.current=m,_e=h,$e!==null?s=0:(Xe=null,it=0,s=qe)}if(s!==0){if(s===2&&(h=Ku(r),h!==0&&(c=h,s=md(r,h))),s===1)throw a=to,Qr(r,0),fr(r,c),kt(r,We()),a;if(s===6)fr(r,c);else{if(h=r.current.alternate,(c&30)===0&&!sC(h)&&(s=cl(r,c),s===2&&(m=Ku(r),m!==0&&(c=m,s=md(r,m))),s===1))throw a=to,Qr(r,0),fr(r,c),kt(r,We()),a;switch(r.finishedWork=h,r.finishedLanes=c,s){case 0:case 1:throw Error(n(345));case 2:Yr(r,Rt,Dn);break;case 3:if(fr(r,c),(c&130023424)===c&&(s=hd+500-We(),10<s)){if(_a(r,0)!==0)break;if(h=r.suspendedLanes,(h&c)!==c){_t(),r.pingedLanes|=r.suspendedLanes&h;break}r.timeoutHandle=wc(Yr.bind(null,r,Rt,Dn),s);break}Yr(r,Rt,Dn);break;case 4:if(fr(r,c),(c&4194240)===c)break;for(s=r.eventTimes,h=-1;0<c;){var _=31-Xt(c);m=1<<_,_=s[_],_>h&&(h=_),c&=~m}if(c=h,c=We()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*iC(c/1960))-c,10<c){r.timeoutHandle=wc(Yr.bind(null,r,Rt,Dn),c);break}Yr(r,Rt,Dn);break;case 5:Yr(r,Rt,Dn);break;default:throw Error(n(329))}}}return kt(r,We()),r.callbackNode===a?Hg.bind(null,r):null}function md(r,s){var a=no;return r.current.memoizedState.isDehydrated&&(Qr(r,s).flags|=256),r=cl(r,s),r!==2&&(s=Rt,Rt=a,s!==null&&gd(s)),r}function gd(r){Rt===null?Rt=r:Rt.push.apply(Rt,r)}function sC(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var h=a[c],m=h.getSnapshot;h=h.value;try{if(!Jt(m(),h))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fr(r,s){for(s&=~dd,s&=~il,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Xt(s),c=1<<a;r[a]=-1,s&=~c}}function jg(r){if((_e&6)!==0)throw Error(n(327));Vi();var s=_a(r,0);if((s&1)===0)return kt(r,We()),null;var a=cl(r,s);if(r.tag!==0&&a===2){var c=Ku(r);c!==0&&(s=c,a=md(r,c))}if(a===1)throw a=to,Qr(r,0),fr(r,s),kt(r,We()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Yr(r,Rt,Dn),kt(r,We()),null}function vd(r,s){var a=_e;_e|=1;try{return r(s)}finally{_e=a,_e===0&&(Wi=We()+500,Fa&&or())}}function Kr(r){dr!==null&&dr.tag===0&&(_e&6)===0&&Vi();var s=_e;_e|=1;var a=Wt.transition,c=Ie;try{if(Wt.transition=null,Ie=1,r)return r()}finally{Ie=c,Wt.transition=a,_e=s,(_e&6)===0&&or()}}function _d(){Dt=zi.current,Oe(zi)}function Qr(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,DS(a)),$e!==null)for(a=$e.return;a!==null;){var c=a;switch(Rc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Da();break;case 3:Bi(),Oe(It),Oe(dt),Hc();break;case 5:Uc(c);break;case 4:Bi();break;case 13:Oe(Ue);break;case 19:Oe(Ue);break;case 10:Oc(c.type._context);break;case 22:case 23:_d()}a=a.return}if(Xe=r,$e=r=pr(r.current,null),it=Dt=s,qe=0,to=null,dd=il=qr=0,Rt=no=null,Vr!==null){for(s=0;s<Vr.length;s++)if(a=Vr[s],c=a.interleaved,c!==null){a.interleaved=null;var h=c.next,m=a.pending;if(m!==null){var _=m.next;m.next=h,c.next=_}a.pending=c}Vr=null}return r}function zg(r,s){do{var a=$e;try{if(Ac(),qa.current=Xa,Ka){for(var c=Be.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Ka=!1}if(Gr=0,Ye=Ge=Be=null,Qs=!1,Ys=0,cd.current=null,a===null||a.return===null){qe=1,to=s,$e=null;break}e:{var m=r,_=a.return,E=a,C=s;if(s=it,E.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var L=C,H=E,j=H.tag;if((H.mode&1)===0&&(j===0||j===11||j===15)){var B=H.alternate;B?(H.updateQueue=B.updateQueue,H.memoizedState=B.memoizedState,H.lanes=B.lanes):(H.updateQueue=null,H.memoizedState=null)}var q=fg(_);if(q!==null){q.flags&=-257,pg(q,_,E,m,s),q.mode&1&&hg(m,L,s),s=q,C=L;var Q=s.updateQueue;if(Q===null){var Y=new Set;Y.add(C),s.updateQueue=Y}else Q.add(C);break e}else{if((s&1)===0){hg(m,L,s),yd();break e}C=Error(n(426))}}else if(Me&&E.mode&1){var Ve=fg(_);if(Ve!==null){(Ve.flags&65536)===0&&(Ve.flags|=256),pg(Ve,_,E,m,s),Pc(Hi(C,E));break e}}m=C=Hi(C,E),qe!==4&&(qe=2),no===null?no=[m]:no.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var N=cg(m,C,s);Fm(m,N);break e;case 1:E=C;var I=m.type,b=m.stateNode;if((m.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(cr===null||!cr.has(b)))){m.flags|=65536,s&=-s,m.lanes|=s;var W=dg(m,E,s);Fm(m,W);break e}}m=m.return}while(m!==null)}$g(a)}catch(ee){s=ee,$e===a&&a!==null&&($e=a=a.return);continue}break}while(!0)}function Wg(){var r=rl.current;return rl.current=Xa,r===null?Xa:r}function yd(){(qe===0||qe===3||qe===2)&&(qe=4),Xe===null||(qr&268435455)===0&&(il&268435455)===0||fr(Xe,it)}function cl(r,s){var a=_e;_e|=2;var c=Wg();(Xe!==r||it!==s)&&(Dn=null,Qr(r,s));do try{oC();break}catch(h){zg(r,h)}while(!0);if(Ac(),_e=a,rl.current=c,$e!==null)throw Error(n(261));return Xe=null,it=0,qe}function oC(){for(;$e!==null;)Vg($e)}function aC(){for(;$e!==null&&!Aw();)Vg($e)}function Vg(r){var s=Kg(r.alternate,r,Dt);r.memoizedProps=r.pendingProps,s===null?$g(r):$e=s,cd.current=null}function $g(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=ZS(a,s,Dt),a!==null){$e=a;return}}else{if(a=eC(a,s),a!==null){a.flags&=32767,$e=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{qe=6,$e=null;return}}if(s=s.sibling,s!==null){$e=s;return}$e=s=r}while(s!==null);qe===0&&(qe=5)}function Yr(r,s,a){var c=Ie,h=Wt.transition;try{Wt.transition=null,Ie=1,lC(r,s,a,c)}finally{Wt.transition=h,Ie=c}return null}function lC(r,s,a,c){do Vi();while(dr!==null);if((_e&6)!==0)throw Error(n(327));a=r.finishedWork;var h=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var m=a.lanes|a.childLanes;if(zw(r,m),r===Xe&&($e=Xe=null,it=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||ol||(ol=!0,Qg(pa,function(){return Vi(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=Wt.transition,Wt.transition=null;var _=Ie;Ie=1;var E=_e;_e|=4,cd.current=null,nC(r,a),Dg(a,r),kS(yc),wa=!!_c,yc=_c=null,r.current=a,rC(a),Ow(),_e=E,Ie=_,Wt.transition=m}else r.current=a;if(ol&&(ol=!1,dr=r,al=h),m=r.pendingLanes,m===0&&(cr=null),Mw(a.stateNode),kt(r,We()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)h=s[a],c(h.value,{componentStack:h.stack,digest:h.digest});if(sl)throw sl=!1,r=fd,fd=null,r;return(al&1)!==0&&r.tag!==0&&Vi(),m=r.pendingLanes,(m&1)!==0?r===pd?ro++:(ro=0,pd=r):ro=0,or(),null}function Vi(){if(dr!==null){var r=Op(al),s=Wt.transition,a=Ie;try{if(Wt.transition=null,Ie=16>r?16:r,dr===null)var c=!1;else{if(r=dr,dr=null,al=0,(_e&6)!==0)throw Error(n(331));var h=_e;for(_e|=4,K=r.current;K!==null;){var m=K,_=m.child;if((K.flags&16)!==0){var E=m.deletions;if(E!==null){for(var C=0;C<E.length;C++){var L=E[C];for(K=L;K!==null;){var H=K;switch(H.tag){case 0:case 11:case 15:eo(8,H,m)}var j=H.child;if(j!==null)j.return=H,K=j;else for(;K!==null;){H=K;var B=H.sibling,q=H.return;if(Pg(H),H===L){K=null;break}if(B!==null){B.return=q,K=B;break}K=q}}}var Q=m.alternate;if(Q!==null){var Y=Q.child;if(Y!==null){Q.child=null;do{var Ve=Y.sibling;Y.sibling=null,Y=Ve}while(Y!==null)}}K=m}}if((m.subtreeFlags&2064)!==0&&_!==null)_.return=m,K=_;else e:for(;K!==null;){if(m=K,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:eo(9,m,m.return)}var N=m.sibling;if(N!==null){N.return=m.return,K=N;break e}K=m.return}}var I=r.current;for(K=I;K!==null;){_=K;var b=_.child;if((_.subtreeFlags&2064)!==0&&b!==null)b.return=_,K=b;else e:for(_=I;K!==null;){if(E=K,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:nl(9,E)}}catch(ee){je(E,E.return,ee)}if(E===_){K=null;break e}var W=E.sibling;if(W!==null){W.return=E.return,K=W;break e}K=E.return}}if(_e=h,or(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(ma,r)}catch{}c=!0}return c}finally{Ie=a,Wt.transition=s}}return!1}function Gg(r,s,a){s=Hi(a,s),s=cg(r,s,1),r=lr(r,s,1),s=_t(),r!==null&&(Rs(r,1,s),kt(r,s))}function je(r,s,a){if(r.tag===3)Gg(r,r,a);else for(;s!==null;){if(s.tag===3){Gg(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(cr===null||!cr.has(c))){r=Hi(a,r),r=dg(s,r,1),s=lr(s,r,1),r=_t(),s!==null&&(Rs(s,1,r),kt(s,r));break}}s=s.return}}function uC(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=_t(),r.pingedLanes|=r.suspendedLanes&a,Xe===r&&(it&a)===a&&(qe===4||qe===3&&(it&130023424)===it&&500>We()-hd?Qr(r,0):dd|=a),kt(r,s)}function qg(r,s){s===0&&((r.mode&1)===0?s=1:(s=va,va<<=1,(va&130023424)===0&&(va=4194304)));var a=_t();r=An(r,s),r!==null&&(Rs(r,s,a),kt(r,a))}function cC(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),qg(r,a)}function dC(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(s),qg(r,a)}var Kg;Kg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||It.current)xt=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return xt=!1,JS(r,s,a);xt=(r.flags&131072)!==0}else xt=!1,Me&&(s.flags&1048576)!==0&&Rm(s,Ba,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;el(r,s),r=s.pendingProps;var h=Ai(s,dt.current);Ui(s,a),h=Wc(null,s,c,r,h,a);var m=Vc();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Tt(c)?(m=!0,Ma(s)):m=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Mc(s),h.updater=Ja,s.stateNode=h,h._reactInternals=s,Yc(s,c,r,a),s=ed(null,s,c,!0,m,a)):(s.tag=0,Me&&m&&xc(s),vt(null,s,h,a),s=s.child),s;case 16:c=s.elementType;e:{switch(el(r,s),r=s.pendingProps,h=c._init,c=h(c._payload),s.type=c,h=s.tag=fC(c),r=en(c,r),h){case 0:s=Zc(null,s,c,r,a);break e;case 1:s=Eg(null,s,c,r,a);break e;case 11:s=mg(null,s,c,r,a);break e;case 14:s=gg(null,s,c,en(c.type,r),a);break e}throw Error(n(306,c,""))}return s;case 0:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:en(c,h),Zc(r,s,c,h,a);case 1:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:en(c,h),Eg(r,s,c,h,a);case 3:e:{if(wg(s),r===null)throw Error(n(387));c=s.pendingProps,m=s.memoizedState,h=m.element,Mm(r,s),$a(s,c,null,a);var _=s.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){h=Hi(Error(n(423)),s),s=Sg(r,s,c,a,h);break e}else if(c!==h){h=Hi(Error(n(424)),s),s=Sg(r,s,c,a,h);break e}else for(Lt=rr(s.stateNode.containerInfo.firstChild),Ot=s,Me=!0,Zt=null,a=Lm(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Di(),c===h){s=Ln(r,s,a);break e}vt(r,s,c,a)}s=s.child}return s;case 5:return Bm(s),r===null&&Nc(s),c=s.type,h=s.pendingProps,m=r!==null?r.memoizedProps:null,_=h.children,Ec(c,h)?_=null:m!==null&&Ec(c,m)&&(s.flags|=32),yg(r,s),vt(r,s,_,a),s.child;case 6:return r===null&&Nc(s),null;case 13:return Cg(r,s,a);case 4:return Fc(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Mi(s,null,c,a):vt(r,s,c,a),s.child;case 11:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:en(c,h),mg(r,s,c,h,a);case 7:return vt(r,s,s.pendingProps,a),s.child;case 8:return vt(r,s,s.pendingProps.children,a),s.child;case 12:return vt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,h=s.pendingProps,m=s.memoizedProps,_=h.value,ke(za,c._currentValue),c._currentValue=_,m!==null)if(Jt(m.value,_)){if(m.children===h.children&&!It.current){s=Ln(r,s,a);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var E=m.dependencies;if(E!==null){_=m.child;for(var C=E.firstContext;C!==null;){if(C.context===c){if(m.tag===1){C=On(-1,a&-a),C.tag=2;var L=m.updateQueue;if(L!==null){L=L.shared;var H=L.pending;H===null?C.next=C:(C.next=H.next,H.next=C),L.pending=C}}m.lanes|=a,C=m.alternate,C!==null&&(C.lanes|=a),Lc(m.return,a,s),E.lanes|=a;break}C=C.next}}else if(m.tag===10)_=m.type===s.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(n(341));_.lanes|=a,E=_.alternate,E!==null&&(E.lanes|=a),Lc(_,a,s),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===s){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}vt(r,s,h.children,a),s=s.child}return s;case 9:return h=s.type,c=s.pendingProps.children,Ui(s,a),h=jt(h),c=c(h),s.flags|=1,vt(r,s,c,a),s.child;case 14:return c=s.type,h=en(c,s.pendingProps),h=en(c.type,h),gg(r,s,c,h,a);case 15:return vg(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:en(c,h),el(r,s),s.tag=1,Tt(c)?(r=!0,Ma(s)):r=!1,Ui(s,a),lg(s,c,h),Yc(s,c,h,a),ed(null,s,c,!0,r,a);case 19:return Tg(r,s,a);case 22:return _g(r,s,a)}throw Error(n(156,s.tag))};function Qg(r,s){return kp(r,s)}function hC(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(r,s,a,c){return new hC(r,s,a,c)}function Ed(r){return r=r.prototype,!(!r||!r.isReactComponent)}function fC(r){if(typeof r=="function")return Ed(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Ct)return 11;if(r===Ut)return 14}return 2}function pr(r,s){var a=r.alternate;return a===null?(a=Vt(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function dl(r,s,a,c,h,m){var _=2;if(c=r,typeof r=="function")Ed(r)&&(_=1);else if(typeof r=="string")_=5;else e:switch(r){case X:return Xr(a.children,h,m,s);case ue:_=8,h|=8;break;case te:return r=Vt(12,a,s,h|2),r.elementType=te,r.lanes=m,r;case ut:return r=Vt(13,a,s,h),r.elementType=ut,r.lanes=m,r;case gt:return r=Vt(19,a,s,h),r.elementType=gt,r.lanes=m,r;case De:return hl(a,h,m,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case we:_=10;break e;case mt:_=9;break e;case Ct:_=11;break e;case Ut:_=14;break e;case ct:_=16,c=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Vt(_,a,s,h),s.elementType=r,s.type=c,s.lanes=m,s}function Xr(r,s,a,c){return r=Vt(7,r,c,s),r.lanes=a,r}function hl(r,s,a,c){return r=Vt(22,r,c,s),r.elementType=De,r.lanes=a,r.stateNode={isHidden:!1},r}function wd(r,s,a){return r=Vt(6,r,null,s),r.lanes=a,r}function Sd(r,s,a){return s=Vt(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function pC(r,s,a,c,h){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qu(0),this.expirationTimes=Qu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qu(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Cd(r,s,a,c,h,m,_,E,C){return r=new pC(r,s,a,E,C),s===1?(s=1,m===!0&&(s|=8)):s=0,m=Vt(3,null,null,s),r.current=m,m.stateNode=r,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mc(m),r}function mC(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function Yg(r){if(!r)return sr;r=r._reactInternals;e:{if(Br(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Tt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(Tt(a))return Im(r,a,s)}return s}function Xg(r,s,a,c,h,m,_,E,C){return r=Cd(a,c,!0,r,h,m,_,E,C),r.context=Yg(null),a=r.current,c=_t(),h=hr(a),m=On(c,h),m.callback=s??null,lr(a,m,h),r.current.lanes=h,Rs(r,h,c),kt(r,c),r}function fl(r,s,a,c){var h=s.current,m=_t(),_=hr(h);return a=Yg(a),s.context===null?s.context=a:s.pendingContext=a,s=On(m,_),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=lr(h,s,_),r!==null&&(rn(r,h,_,m),Va(r,h,_)),_}function pl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Jg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Id(r,s){Jg(r,s),(r=r.alternate)&&Jg(r,s)}function gC(){return null}var Zg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Td(r){this._internalRoot=r}ml.prototype.render=Td.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));fl(r,s,null,null)},ml.prototype.unmount=Td.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Kr(function(){fl(null,r,null,null)}),s[kn]=null}};function ml(r){this._internalRoot=r}ml.prototype.unstable_scheduleHydration=function(r){if(r){var s=Mp();r={blockedOn:null,target:r,priority:s};for(var a=0;a<er.length&&s!==0&&s<er[a].priority;a++);er.splice(a,0,r),a===0&&Bp(r)}};function xd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function gl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function ev(){}function vC(r,s,a,c,h){if(h){if(typeof c=="function"){var m=c;c=function(){var L=pl(_);m.call(L)}}var _=Xg(s,c,r,0,null,!1,!1,"",ev);return r._reactRootContainer=_,r[kn]=_.current,js(r.nodeType===8?r.parentNode:r),Kr(),_}for(;h=r.lastChild;)r.removeChild(h);if(typeof c=="function"){var E=c;c=function(){var L=pl(C);E.call(L)}}var C=Cd(r,0,!1,null,null,!1,!1,"",ev);return r._reactRootContainer=C,r[kn]=C.current,js(r.nodeType===8?r.parentNode:r),Kr(function(){fl(s,C,a,c)}),C}function vl(r,s,a,c,h){var m=a._reactRootContainer;if(m){var _=m;if(typeof h=="function"){var E=h;h=function(){var C=pl(_);E.call(C)}}fl(s,_,r,h)}else _=vC(a,s,r,h,c);return pl(_)}Lp=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=xs(s.pendingLanes);a!==0&&(Yu(s,a|1),kt(s,We()),(_e&6)===0&&(Wi=We()+500,or()))}break;case 13:Kr(function(){var c=An(r,1);if(c!==null){var h=_t();rn(c,r,1,h)}}),Id(r,1)}},Xu=function(r){if(r.tag===13){var s=An(r,134217728);if(s!==null){var a=_t();rn(s,r,134217728,a)}Id(r,134217728)}},Dp=function(r){if(r.tag===13){var s=hr(r),a=An(r,s);if(a!==null){var c=_t();rn(a,r,s,c)}Id(r,s)}},Mp=function(){return Ie},Fp=function(r,s){var a=Ie;try{return Ie=r,s()}finally{Ie=a}},Wu=function(r,s,a){switch(s){case"input":if(Du(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var h=La(c);if(!h)throw Error(n(90));ap(c),Du(c,h)}}}break;case"textarea":hp(r,a);break;case"select":s=a.value,s!=null&&Ei(r,!!a.multiple,s,!1)}},wp=vd,Sp=Kr;var _C={usingClientEntryPoint:!1,Events:[Vs,Pi,La,yp,Ep,vd]},io={findFiberByHostInstance:Hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yC={bundleType:io.bundleType,version:io.version,rendererPackageName:io.rendererPackageName,rendererConfig:io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=xp(r),r===null?null:r.stateNode},findFiberByHostInstance:io.findFiberByHostInstance||gC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_l.isDisabled&&_l.supportsFiber)try{ma=_l.inject(yC),mn=_l}catch{}}return Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_C,Nt.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xd(s))throw Error(n(200));return mC(r,s,null,a)},Nt.createRoot=function(r,s){if(!xd(r))throw Error(n(299));var a=!1,c="",h=Zg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=Cd(r,1,!1,null,null,a,!1,c,h),r[kn]=s.current,js(r.nodeType===8?r.parentNode:r),new Td(s)},Nt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=xp(s),r=r===null?null:r.stateNode,r},Nt.flushSync=function(r){return Kr(r)},Nt.hydrate=function(r,s,a){if(!gl(s))throw Error(n(200));return vl(null,r,s,!0,a)},Nt.hydrateRoot=function(r,s,a){if(!xd(r))throw Error(n(405));var c=a!=null&&a.hydratedSources||null,h=!1,m="",_=Zg;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),s=Xg(s,null,r,1,a??null,h,!1,m,_),r[kn]=s.current,js(r),c)for(r=0;r<c.length;r++)a=c[r],h=a._getVersion,h=h(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,h]:s.mutableSourceEagerHydrationData.push(a,h);return new ml(s)},Nt.render=function(r,s,a){if(!gl(s))throw Error(n(200));return vl(null,r,s,!1,a)},Nt.unmountComponentAtNode=function(r){if(!gl(r))throw Error(n(40));return r._reactRootContainer?(Kr(function(){vl(null,null,r,!1,function(){r._reactRootContainer=null,r[kn]=null})}),!0):!1},Nt.unstable_batchedUpdates=vd,Nt.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!gl(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return vl(r,s,a,!1,c)},Nt.version="18.3.1-next-f1338f8080-20240426",Nt}var lv;function bC(){if(lv)return Nd.exports;lv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Nd.exports=PC(),Nd.exports}var uv;function AC(){if(uv)return yl;uv=1;var t=bC();return yl.createRoot=t.createRoot,yl.hydrateRoot=t.hydrateRoot,yl}var OC=AC(),oo={},cv;function LC(){if(cv)return oo;cv=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.parse=u,oo.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,S){const w=new l,R=v.length;if(R<2)return w;const A=(S==null?void 0:S.decode)||g;let P=0;do{const D=v.indexOf("=",P);if(D===-1)break;const M=v.indexOf(";",P),z=M===-1?R:M;if(D>z){P=v.lastIndexOf(";",D-1)+1;continue}const O=d(v,P,D),$=f(v,D,O),X=v.slice(O,$);if(w[X]===void 0){let ue=d(v,D+1,z),te=f(v,z,ue);const we=A(v.slice(ue,te));w[X]=we}P=z+1}while(P<R);return w}function d(v,S,w){do{const R=v.charCodeAt(S);if(R!==32&&R!==9)return S}while(++S<w);return w}function f(v,S,w){for(;S>w;){const R=v.charCodeAt(--S);if(R!==32&&R!==9)return S+1}return w}function p(v,S,w){const R=(w==null?void 0:w.encode)||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const A=R(S);if(!e.test(A))throw new TypeError(`argument val is invalid: ${S}`);let P=v+"="+A;if(!w)return P;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);P+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);P+="; Domain="+w.domain}if(w.path){if(!i.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);P+="; Path="+w.path}if(w.expires){if(!y(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);P+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(P+="; HttpOnly"),w.secure&&(P+="; Secure"),w.partitioned&&(P+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return P}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return o.call(v)==="[object Date]"}return oo}LC();var dv="popstate";function DC(t={}){function e(i,o){let{pathname:l,search:u,hash:d}=i.location;return lh("",{pathname:l,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:To(o)}return FC(e,n,null,t)}function Fe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MC(){return Math.random().toString(36).substring(2,10)}function hv(t,e){return{usr:t.state,key:t.key,idx:e}}function lh(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ls(e):e,state:n,key:e&&e.key||i||MC()}}function To({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ls(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function FC(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,u=o.history,d="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function y(){d="POP";let A=g(),P=A==null?null:A-p;p=A,f&&f({action:d,location:R.location,delta:P})}function v(A,P){d="PUSH";let D=lh(R.location,A,P);p=g()+1;let M=hv(D,p),z=R.createHref(D);try{u.pushState(M,"",z)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;o.location.assign(z)}l&&f&&f({action:d,location:R.location,delta:1})}function S(A,P){d="REPLACE";let D=lh(R.location,A,P);p=g();let M=hv(D,p),z=R.createHref(D);u.replaceState(M,"",z),l&&f&&f({action:d,location:R.location,delta:0})}function w(A){return UC(A)}let R={get action(){return d},get location(){return t(o,u)},listen(A){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(dv,y),f=A,()=>{o.removeEventListener(dv,y),f=null}},createHref(A){return e(o,A)},createURL:w,encodeLocation(A){let P=w(A);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:v,replace:S,go(A){return u.go(A)}};return R}function UC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Fe(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:To(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function ly(t,e,n="/"){return BC(t,e,n,!1)}function BC(t,e,n,i){let o=typeof e=="string"?ls(e):e,l=Vn(o.pathname||"/",n);if(l==null)return null;let u=uy(t);HC(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=XC(l);d=QC(u[f],p,i)}return d}function uy(t,e=[],n=[],i=""){let o=(l,u,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};f.relativePath.startsWith("/")&&(Fe(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let p=Hn([i,f.relativePath]),g=n.concat(f);l.children&&l.children.length>0&&(Fe(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),uy(l.children,e,g,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:qC(p,l.index),routesMeta:g})};return t.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,u);else for(let f of cy(l.path))o(l,u,f)}),e}function cy(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let u=cy(i.join("/")),d=[];return d.push(...u.map(f=>f===""?l:[l,f].join("/"))),o&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function HC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var jC=/^:[\w-]+$/,zC=3,WC=2,VC=1,$C=10,GC=-2,fv=t=>t==="*";function qC(t,e){let n=t.split("/"),i=n.length;return n.some(fv)&&(i+=GC),e&&(i+=WC),n.filter(o=>!fv(o)).reduce((o,l)=>o+(jC.test(l)?zC:l===""?VC:$C),i)}function KC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function QC(t,e,n=!1){let{routesMeta:i}=t,o={},l="/",u=[];for(let d=0;d<i.length;++d){let f=i[d],p=d===i.length-1,g=l==="/"?e:e.slice(l.length)||"/",y=Fl({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),v=f.route;if(!y&&p&&n&&!i[i.length-1].route.index&&(y=Fl({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!y)return null;Object.assign(o,y.params),u.push({params:o,pathname:Hn([l,y.pathname]),pathnameBase:tI(Hn([l,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(l=Hn([l,y.pathnameBase]))}return u}function Fl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=YC(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((p,{paramName:g,isOptional:y},v)=>{if(g==="*"){let w=d[v]||"";u=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const S=d[v];return y&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function YC(t,e=!1,n=!0){hn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function XC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Vn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function JC(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?ls(t):t;return{pathname:n?n.startsWith("/")?n:ZC(n,e):e,search:nI(i),hash:rI(o)}}function ZC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ad(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Yh(t){let e=eI(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Xh(t,e,n,i=!1){let o;typeof t=="string"?o=ls(t):(o={...t},Fe(!o.pathname||!o.pathname.includes("?"),Ad("?","pathname","search",o)),Fe(!o.pathname||!o.pathname.includes("#"),Ad("#","pathname","hash",o)),Fe(!o.search||!o.search.includes("#"),Ad("#","search","hash",o)));let l=t===""||o.pathname==="",u=l?"/":o.pathname,d;if(u==null)d=n;else{let y=e.length-1;if(!i&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),y-=1;o.pathname=v.join("/")}d=y>=0?e[y]:"/"}let f=JC(o,d),p=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var Hn=t=>t.join("/").replace(/\/\/+/g,"/"),tI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var dy=["POST","PUT","PATCH","DELETE"];new Set(dy);var sI=["GET",...dy];new Set(sI);var us=k.createContext(null);us.displayName="DataRouter";var du=k.createContext(null);du.displayName="DataRouterState";var hy=k.createContext({isTransitioning:!1});hy.displayName="ViewTransition";var oI=k.createContext(new Map);oI.displayName="Fetchers";var aI=k.createContext(null);aI.displayName="Await";var pn=k.createContext(null);pn.displayName="Navigation";var Wo=k.createContext(null);Wo.displayName="Location";var xn=k.createContext({outlet:null,matches:[],isDataRoute:!1});xn.displayName="Route";var Jh=k.createContext(null);Jh.displayName="RouteError";function lI(t,{relative:e}={}){Fe(cs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=k.useContext(pn),{hash:o,pathname:l,search:u}=$o(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Hn([n,l])),i.createHref({pathname:d,search:u,hash:o})}function cs(){return k.useContext(Wo)!=null}function Lr(){return Fe(cs(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Wo).location}var fy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function py(t){k.useContext(pn).static||k.useLayoutEffect(t)}function Vo(){let{isDataRoute:t}=k.useContext(xn);return t?wI():uI()}function uI(){Fe(cs(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(us),{basename:e,navigator:n}=k.useContext(pn),{matches:i}=k.useContext(xn),{pathname:o}=Lr(),l=JSON.stringify(Yh(i)),u=k.useRef(!1);return py(()=>{u.current=!0}),k.useCallback((f,p={})=>{if(hn(u.current,fy),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=Xh(f,JSON.parse(l),o,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Hn([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,l,o,t])}k.createContext(null);function $o(t,{relative:e}={}){let{matches:n}=k.useContext(xn),{pathname:i}=Lr(),o=JSON.stringify(Yh(n));return k.useMemo(()=>Xh(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function cI(t,e){return my(t,e)}function my(t,e,n,i){var P;Fe(cs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=k.useContext(pn),{matches:l}=k.useContext(xn),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let D=g&&g.path||"";gy(f,!g||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let y=Lr(),v;if(e){let D=typeof e=="string"?ls(e):e;Fe(p==="/"||((P=D.pathname)==null?void 0:P.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${D.pathname}" was given in the \`location\` prop.`),v=D}else v=y;let S=v.pathname||"/",w=S;if(p!=="/"){let D=p.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(D.length).join("/")}let R=ly(t,{pathname:w});hn(g||R!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),hn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=mI(R&&R.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:Hn([p,o.encodeLocation?o.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?p:Hn([p,o.encodeLocation?o.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),l,n,i);return e&&A?k.createElement(Wo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},A):A}function dI(){let t=EI(),e=iI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:o},n):null,u)}var hI=k.createElement(dI,null),fI=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(xn.Provider,{value:this.props.routeContext},k.createElement(Jh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pI({routeContext:t,match:e,children:n}){let i=k.useContext(us);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(xn.Provider,{value:t},n)}function mI(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n==null?void 0:n.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Fe(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(n)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:y}=n,v=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let y,v=!1,S=null,w=null;n&&(y=l&&p.route.id?l[p.route.id]:void 0,S=p.route.errorElement||hI,u&&(d<0&&g===0?(gy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):d===g&&(v=!0,w=p.route.hydrateFallbackElement||null)));let R=e.concat(o.slice(0,g+1)),A=()=>{let P;return y?P=S:v?P=w:p.route.Component?P=k.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=f,k.createElement(pI,{match:p,routeContext:{outlet:f,matches:R,isDataRoute:n!=null},children:P})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?k.createElement(fI,{location:n.location,revalidation:n.revalidation,component:S,error:y,children:A(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):A()},null)}function Zh(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gI(t){let e=k.useContext(us);return Fe(e,Zh(t)),e}function vI(t){let e=k.useContext(du);return Fe(e,Zh(t)),e}function _I(t){let e=k.useContext(xn);return Fe(e,Zh(t)),e}function ef(t){let e=_I(t),n=e.matches[e.matches.length-1];return Fe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function yI(){return ef("useRouteId")}function EI(){var i;let t=k.useContext(Jh),e=vI("useRouteError"),n=ef("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function wI(){let{router:t}=gI("useNavigate"),e=ef("useNavigate"),n=k.useRef(!1);return py(()=>{n.current=!0}),k.useCallback(async(o,l={})=>{hn(n.current,fy),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var pv={};function gy(t,e,n){!e&&!pv[t]&&(pv[t]=!0,hn(!1,n))}k.memo(SI);function SI({routes:t,future:e,state:n}){return my(t,void 0,n,e)}function vy({to:t,replace:e,state:n,relative:i}){Fe(cs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(pn);hn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(xn),{pathname:u}=Lr(),d=Vo(),f=Xh(t,Yh(l),u,i==="path"),p=JSON.stringify(f);return k.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:i})},[d,p,i,e,n]),null}function vr(t){Fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CI({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:l=!1}){Fe(!cs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof n=="string"&&(n=ls(n));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:v="default"}=n,S=k.useMemo(()=>{let w=Vn(f,u);return w==null?null:{location:{pathname:w,search:p,hash:g,state:y,key:v},navigationType:i}},[u,f,p,g,y,v,i]);return hn(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:k.createElement(pn.Provider,{value:d},k.createElement(Wo.Provider,{children:e,value:S}))}function II({children:t,location:e}){return cI(uh(t),e)}function uh(t,e=[]){let n=[];return k.Children.forEach(t,(i,o)=>{if(!k.isValidElement(i))return;let l=[...e,o];if(i.type===k.Fragment){n.push.apply(n,uh(i.props.children,l));return}Fe(i.type===vr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=uh(i.props.children,l)),n.push(u)}),n}var kl="get",Nl="application/x-www-form-urlencoded";function hu(t){return t!=null&&typeof t.tagName=="string"}function TI(t){return hu(t)&&t.tagName.toLowerCase()==="button"}function xI(t){return hu(t)&&t.tagName.toLowerCase()==="form"}function RI(t){return hu(t)&&t.tagName.toLowerCase()==="input"}function kI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function NI(t,e){return t.button===0&&(!e||e==="_self")&&!kI(t)}var El=null;function PI(){if(El===null)try{new FormData(document.createElement("form"),0),El=!1}catch{El=!0}return El}var bI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Od(t){return t!=null&&!bI.has(t)?(hn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nl}"`),null):t}function AI(t,e){let n,i,o,l,u;if(xI(t)){let d=t.getAttribute("action");i=d?Vn(d,e):null,n=t.getAttribute("method")||kl,o=Od(t.getAttribute("enctype"))||Nl,l=new FormData(t)}else if(TI(t)||RI(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(i=f?Vn(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||kl,o=Od(t.getAttribute("formenctype"))||Od(d.getAttribute("enctype"))||Nl,l=new FormData(d,t),!PI()){let{name:p,type:g,value:y}=t;if(g==="image"){let v=p?`${p}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else p&&l.append(p,y)}}else{if(hu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=kl,i=null,o=Nl,u=t}return l&&o==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:l,body:u}}function tf(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function OI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function DI(t,e,n){let i=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await OI(l,n);return u.links?u.links():[]}return[]}));return BI(i.flat(1).filter(LI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function mv(t,e,n,i,o,l){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>{var g;return n[p].pathname!==f.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,p)=>u(f,p)||d(f,p)):l==="data"?e.filter((f,p)=>{var y;let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function MI(t,e,{includeHydrateFallback:n}={}){return FI(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function FI(t){return[...new Set(t)]}function UI(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function BI(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let l=JSON.stringify(UI(o));return n.has(l)||(n.add(l),i.push({key:l,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var HI=new Set([100,101,204,205]);function jI(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Vn(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function _y(){let t=k.useContext(us);return tf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function zI(){let t=k.useContext(du);return tf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var nf=k.createContext(void 0);nf.displayName="FrameworkContext";function yy(){let t=k.useContext(nf);return tf(t,"You must render this element inside a <HydratedRouter> element"),t}function WI(t,e){let n=k.useContext(nf),[i,o]=k.useState(!1),[l,u]=k.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=e,v=k.useRef(null);k.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let R=P=>{P.forEach(D=>{u(D.isIntersecting)})},A=new IntersectionObserver(R,{threshold:.5});return v.current&&A.observe(v.current),()=>{A.disconnect()}}},[t]),k.useEffect(()=>{if(i){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[i]);let S=()=>{o(!0)},w=()=>{o(!1),u(!1)};return n?t!=="intent"?[l,v,{}]:[l,v,{onFocus:ao(d,S),onBlur:ao(f,w),onMouseEnter:ao(p,S),onMouseLeave:ao(g,w),onTouchStart:ao(y,S)}]:[!1,v,{}]}function ao(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function VI({page:t,...e}){let{router:n}=_y(),i=k.useMemo(()=>ly(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?k.createElement(GI,{page:t,matches:i,...e}):null}function $I(t){let{manifest:e,routeModules:n}=yy(),[i,o]=k.useState([]);return k.useEffect(()=>{let l=!1;return DI(t,e,n).then(u=>{l||o(u)}),()=>{l=!0}},[t,e,n]),i}function GI({page:t,matches:e,...n}){let i=Lr(),{manifest:o,routeModules:l}=yy(),{basename:u}=_y(),{loaderData:d,matches:f}=zI(),p=k.useMemo(()=>mv(t,e,f,o,i,"data"),[t,e,f,o,i]),g=k.useMemo(()=>mv(t,e,f,o,i,"assets"),[t,e,f,o,i]),y=k.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let w=new Set,R=!1;if(e.forEach(P=>{var M;let D=o.routes[P.route.id];!D||!D.hasLoader||(!p.some(z=>z.route.id===P.route.id)&&P.route.id in d&&((M=l[P.route.id])!=null&&M.shouldRevalidate)||D.hasClientLoader?R=!0:w.add(P.route.id))}),w.size===0)return[];let A=jI(t,u);return R&&w.size>0&&A.searchParams.set("_routes",e.filter(P=>w.has(P.route.id)).map(P=>P.route.id).join(",")),[A.pathname+A.search]},[u,d,i,o,p,e,t,l]),v=k.useMemo(()=>MI(g,o),[g,o]),S=$I(g);return k.createElement(k.Fragment,null,y.map(w=>k.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>k.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),S.map(({key:w,link:R})=>k.createElement("link",{key:w,...R})))}function qI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Ey=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ey&&(window.__reactRouterVersion="7.6.1")}catch{}function KI({basename:t,children:e,window:n}){let i=k.useRef();i.current==null&&(i.current=DC({window:n,v5Compat:!0}));let o=i.current,[l,u]=k.useState({action:o.action,location:o.location}),d=k.useCallback(f=>{k.startTransition(()=>u(f))},[u]);return k.useLayoutEffect(()=>o.listen(d),[o,d]),k.createElement(CI,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o})}var wy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ni=k.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:l,replace:u,state:d,target:f,to:p,preventScrollReset:g,viewTransition:y,...v},S){let{basename:w}=k.useContext(pn),R=typeof p=="string"&&wy.test(p),A,P=!1;if(typeof p=="string"&&R&&(A=p,Ey))try{let te=new URL(window.location.href),we=p.startsWith("//")?new URL(te.protocol+p):new URL(p),mt=Vn(we.pathname,w);we.origin===te.origin&&mt!=null?p=mt+we.search+we.hash:P=!0}catch{hn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=lI(p,{relative:o}),[M,z,O]=WI(i,v),$=JI(p,{replace:u,state:d,target:f,preventScrollReset:g,relative:o,viewTransition:y});function X(te){e&&e(te),te.defaultPrevented||$(te)}let ue=k.createElement("a",{...v,...O,href:A||D,onClick:P||l?e:X,ref:qI(S,z),target:f,"data-discover":!R&&n==="render"?"true":void 0});return M&&!R?k.createElement(k.Fragment,null,ue,k.createElement(VI,{page:D})):ue});ni.displayName="Link";var QI=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:l,to:u,viewTransition:d,children:f,...p},g){let y=$o(u,{relative:p.relative}),v=Lr(),S=k.useContext(du),{navigator:w,basename:R}=k.useContext(pn),A=S!=null&&rT(y)&&d===!0,P=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,D=v.pathname,M=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(D=D.toLowerCase(),M=M?M.toLowerCase():null,P=P.toLowerCase()),M&&R&&(M=Vn(M,R)||M);const z=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let O=D===P||!o&&D.startsWith(P)&&D.charAt(z)==="/",$=M!=null&&(M===P||!o&&M.startsWith(P)&&M.charAt(P.length)==="/"),X={isActive:O,isPending:$,isTransitioning:A},ue=O?e:void 0,te;typeof i=="function"?te=i(X):te=[i,O?"active":null,$?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let we=typeof l=="function"?l(X):l;return k.createElement(ni,{...p,"aria-current":ue,className:te,ref:g,style:we,to:u,viewTransition:d},typeof f=="function"?f(X):f)});QI.displayName="NavLink";var YI=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:l,method:u=kl,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:y,...v},S)=>{let w=tT(),R=nT(d,{relative:p}),A=u.toLowerCase()==="get"?"get":"post",P=typeof d=="string"&&wy.test(d),D=M=>{if(f&&f(M),M.defaultPrevented)return;M.preventDefault();let z=M.nativeEvent.submitter,O=(z==null?void 0:z.getAttribute("formmethod"))||u;w(z||M.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:o,state:l,relative:p,preventScrollReset:g,viewTransition:y})};return k.createElement("form",{ref:S,method:A,action:R,onSubmit:i?f:D,...v,"data-discover":!P&&t==="render"?"true":void 0})});YI.displayName="Form";function XI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sy(t){let e=k.useContext(us);return Fe(e,XI(t)),e}function JI(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:l,viewTransition:u}={}){let d=Vo(),f=Lr(),p=$o(t,{relative:l});return k.useCallback(g=>{if(NI(g,e)){g.preventDefault();let y=n!==void 0?n:To(f)===To(p);d(t,{replace:y,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[f,d,p,n,i,e,t,o,l,u])}var ZI=0,eT=()=>`__${String(++ZI)}__`;function tT(){let{router:t}=Sy("useSubmit"),{basename:e}=k.useContext(pn),n=yI();return k.useCallback(async(i,o={})=>{let{action:l,method:u,encType:d,formData:f,body:p}=AI(i,e);if(o.navigate===!1){let g=o.fetcherKey||eT();await t.fetch(g,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function nT(t,{relative:e}={}){let{basename:n}=k.useContext(pn),i=k.useContext(xn);Fe(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...$o(t||".",{relative:e})},u=Lr();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Hn([n,l.pathname])),To(l)}function rT(t,e={}){let n=k.useContext(hy);Fe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Sy("useViewTransitionState"),o=$o(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Vn(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Vn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Fl(o.pathname,u)!=null||Fl(o.pathname,l)!=null}[...HI];var Cr=(t=>(t.ADMIN="ADMIN",t.USER="USER",t))(Cr||{});const iT=()=>{};var gv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V=function(t,e){if(!t)throw ds(e)},ds=function(t){return new Error("Firebase Database ("+Cy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},sT=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],u=t[n++],d=t[n++],f=((o&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},rf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const l=t[o],u=o+1<t.length,d=u?t[o+1]:0,f=o+2<t.length,p=f?t[o+2]:0,g=l>>2,y=(l&3)<<4|d>>4;let v=(d&15)<<2|p>>6,S=p&63;f||(S=64,u||(v=64)),i.push(n[g],n[y],n[v],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Iy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||d==null||p==null||y==null)throw new oT;const v=l<<2|d>>4;if(i.push(v),p!==64){const S=d<<4&240|p>>2;if(i.push(S),y!==64){const w=p<<6&192|y;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ty=function(t){const e=Iy(t);return rf.encodeByteArray(e,!0)},Ul=function(t){return Ty(t).replace(/\./g,"")},Bl=function(t){try{return rf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t){return xy(void 0,t)}function xy(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!lT(n)||(t[n]=xy(t[n],e[n]));return t}function lT(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=()=>uT().__FIREBASE_DEFAULTS__,dT=()=>{if(typeof process>"u"||typeof gv>"u")return;const t=gv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Bl(t[1]);return e&&JSON.parse(e)},sf=()=>{try{return iT()||cT()||dT()||hT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ry=t=>{var e,n;return(n=(e=sf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fT=t=>{const e=Ry(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},ky=()=>{var t;return(t=sf())===null||t===void 0?void 0:t.config},Ny=t=>{var e;return(e=sf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t){return t.endsWith(".cloudworkstations.dev")}async function Py(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ul(JSON.stringify(n)),Ul(JSON.stringify(u)),""].join(".")}const vo={};function mT(){const t={prod:[],emulator:[]};for(const e of Object.keys(vo))vo[e]?t.emulator.push(e):t.prod.push(e);return t}function gT(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let vv=!1;function by(t,e){if(typeof window>"u"||typeof document>"u"||!qo(window.location.host)||vo[t]===e||vo[t]||vv)return;vo[t]=e;function n(v){return`__firebase__banner__${v}`}const i="__firebase__banner",l=mT().prod.length>0;function u(){const v=document.getElementById(i);v&&v.remove()}function d(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,S){v.setAttribute("width","24"),v.setAttribute("id",S),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function p(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{vv=!0,u()},v}function g(v,S){v.setAttribute("id",S),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=gT(i),S=n("text"),w=document.getElementById(S)||document.createElement("span"),R=n("learnmore"),A=document.getElementById(R)||document.createElement("a"),P=n("preprendIcon"),D=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const M=v.element;d(M),g(A,R);const z=p();f(D,P),M.append(D,w,A,z),document.body.appendChild(M)}l?(w.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function of(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function vT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _T(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ay(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yT(){const t=St();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ET(){return Cy.NODE_ADMIN===!0}function wT(){try{return typeof indexedDB=="object"}catch{return!1}}function ST(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="FirebaseError";class Dr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=CT,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ko.prototype.create)}}class Ko{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?IT(l,i):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new Dr(o,d,i)}}function IT(t,e){return t.replace(TT,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const TT=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(t){return JSON.parse(t)}function Qe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=function(t){let e={},n={},i={},o="";try{const l=t.split(".");e=xo(Bl(l[0])||""),n=xo(Bl(l[1])||""),o=l[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:o}},xT=function(t){const e=Oy(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},RT=function(t){const e=Oy(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Zi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ch(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hl(t,e,n){const i={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=e.call(n,t[o],o,t));return i}function oi(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const l=t[o],u=e[o];if(_v(l)&&_v(u)){if(!oi(l,u))return!1}else if(l!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function _v(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function po(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function mo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)i[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)i[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const v=i[y-3]^i[y-8]^i[y-14]^i[y-16];i[y]=(v<<1|v>>>31)&4294967295}let o=this.chain_[0],l=this.chain_[1],u=this.chain_[2],d=this.chain_[3],f=this.chain_[4],p,g;for(let y=0;y<80;y++){y<40?y<20?(p=d^l&(u^d),g=1518500249):(p=l^u^d,g=1859775393):y<60?(p=l&u|d&(l|u),g=2400959708):(p=l^u^d,g=3395469782);const v=(o<<5|o>>>27)+p+f+g+i[y]&4294967295;f=d,d=u,u=(l<<30|l>>>2)&4294967295,l=o,o=v}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let o=0;const l=this.buf_;let u=this.inbuf_;for(;o<n;){if(u===0)for(;o<=i;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(l[u]=e.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(l),u=0;break}}else for(;o<n;)if(l[u]=e[o],++u,++o,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let o=0;o<5;o++)for(let l=24;l>=0;l-=8)e[i]=this.chain_[o]>>l&255,++i;return e}}function NT(t,e){const n=new PT(t,e);return n.subscribe.bind(n)}class PT{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");bT(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Ld),o.error===void 0&&(o.error=Ld),o.complete===void 0&&(o.complete=Ld);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bT(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ld(){}function fu(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);if(o>=55296&&o<=56319){const l=o-55296;i++,V(i<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(i)-56320;o=65536+(l<<10)+u}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},pu=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class ai{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OT=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Go;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DT(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zr){return this.instances.has(e)}getOptions(e=Zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&u.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const u=this.instances.get(o);return u&&e(u,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:LT(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Zr){return this.component?this.component.multipleInstances?e:Zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function LT(t){return t===Zr?void 0:t}function DT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const FT={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},UT=Re.INFO,BT={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},HT=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=BT[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let af=class{constructor(e){this.name=e,this._logLevel=UT,this._logHandler=HT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}};const jT=(t,e)=>e.some(n=>t instanceof n);let yv,Ev;function zT(){return yv||(yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WT(){return Ev||(Ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ly=new WeakMap,dh=new WeakMap,Dy=new WeakMap,Dd=new WeakMap,lf=new WeakMap;function VT(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Ir(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Ly.set(n,t)}).catch(()=>{}),lf.set(e,t),e}function $T(t){if(dh.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});dh.set(t,e)}let hh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Dy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ir(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GT(t){hh=t(hh)}function qT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Md(this),e,...n);return Dy.set(i,e.sort?e.sort():[e]),Ir(i)}:WT().includes(t)?function(...e){return t.apply(Md(this),e),Ir(Ly.get(this))}:function(...e){return Ir(t.apply(Md(this),e))}}function KT(t){return typeof t=="function"?qT(t):(t instanceof IDBTransaction&&$T(t),jT(t,zT())?new Proxy(t,hh):t)}function Ir(t){if(t instanceof IDBRequest)return VT(t);if(Dd.has(t))return Dd.get(t);const e=KT(t);return e!==t&&(Dd.set(t,e),lf.set(e,t)),e}const Md=t=>lf.get(t);function QT(t,e,{blocked:n,upgrade:i,blocking:o,terminated:l}={}){const u=indexedDB.open(t,e),d=Ir(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Ir(u.result),f.oldVersion,f.newVersion,Ir(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{l&&f.addEventListener("close",()=>l()),o&&f.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const YT=["get","getKey","getAll","getAllKeys","count"],XT=["put","add","delete","clear"],Fd=new Map;function wv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fd.get(e))return Fd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=XT.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||YT.includes(n)))return;const l=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),o&&f.done]))[0]};return Fd.set(e,l),l}GT(t=>({...t,get:(e,n,i)=>wv(e,n)||t.get(e,n,i),has:(e,n)=>!!wv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZT(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function ZT(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fh="@firebase/app",Sv="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new af("@firebase/app"),e1="@firebase/app-compat",t1="@firebase/analytics-compat",n1="@firebase/analytics",r1="@firebase/app-check-compat",i1="@firebase/app-check",s1="@firebase/auth",o1="@firebase/auth-compat",a1="@firebase/database",l1="@firebase/data-connect",u1="@firebase/database-compat",c1="@firebase/functions",d1="@firebase/functions-compat",h1="@firebase/installations",f1="@firebase/installations-compat",p1="@firebase/messaging",m1="@firebase/messaging-compat",g1="@firebase/performance",v1="@firebase/performance-compat",_1="@firebase/remote-config",y1="@firebase/remote-config-compat",E1="@firebase/storage",w1="@firebase/storage-compat",S1="@firebase/firestore",C1="@firebase/ai",I1="@firebase/firestore-compat",T1="firebase",x1="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="[DEFAULT]",R1={[fh]:"fire-core",[e1]:"fire-core-compat",[n1]:"fire-analytics",[t1]:"fire-analytics-compat",[i1]:"fire-app-check",[r1]:"fire-app-check-compat",[s1]:"fire-auth",[o1]:"fire-auth-compat",[a1]:"fire-rtdb",[l1]:"fire-data-connect",[u1]:"fire-rtdb-compat",[c1]:"fire-fn",[d1]:"fire-fn-compat",[h1]:"fire-iid",[f1]:"fire-iid-compat",[p1]:"fire-fcm",[m1]:"fire-fcm-compat",[g1]:"fire-perf",[v1]:"fire-perf-compat",[_1]:"fire-rc",[y1]:"fire-rc-compat",[E1]:"fire-gcs",[w1]:"fire-gcs-compat",[S1]:"fire-fst",[I1]:"fire-fst-compat",[C1]:"fire-vertex","fire-js":"fire-js",[T1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new Map,k1=new Map,mh=new Map;function Cv(t,e){try{t.container.addComponent(e)}catch(n){$n.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function es(t){const e=t.name;if(mh.has(e))return $n.debug(`There were multiple attempts to register component ${e}.`),!1;mh.set(e,t);for(const n of Ro.values())Cv(n,t);for(const n of k1.values())Cv(n,t);return!0}function uf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $t(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new Ko("app","Firebase",N1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=x1;function My(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ph,automaticDataCollectionEnabled:!0},e),o=i.name;if(typeof o!="string"||!o)throw Tr.create("bad-app-name",{appName:String(o)});if(n||(n=ky()),!n)throw Tr.create("no-options");const l=Ro.get(o);if(l){if(oi(n,l.options)&&oi(i,l.config))return l;throw Tr.create("duplicate-app",{appName:o})}const u=new MT(o);for(const f of mh.values())u.addComponent(f);const d=new P1(n,i,u);return Ro.set(o,d),d}function Fy(t=ph){const e=Ro.get(t);if(!e&&t===ph&&ky())return My();if(!e)throw Tr.create("no-app",{appName:t});return e}function Iv(){return Array.from(Ro.values())}function xr(t,e,n){var i;let o=(i=R1[t])!==null&&i!==void 0?i:t;n&&(o+=`-${n}`);const l=o.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$n.warn(d.join(" "));return}es(new ai(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="firebase-heartbeat-database",A1=1,ko="firebase-heartbeat-store";let Ud=null;function Uy(){return Ud||(Ud=QT(b1,A1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ko)}catch(n){console.warn(n)}}}}).catch(t=>{throw Tr.create("idb-open",{originalErrorMessage:t.message})})),Ud}async function O1(t){try{const n=(await Uy()).transaction(ko),i=await n.objectStore(ko).get(By(t));return await n.done,i}catch(e){if(e instanceof Dr)$n.warn(e.message);else{const n=Tr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$n.warn(n.message)}}}async function Tv(t,e){try{const i=(await Uy()).transaction(ko,"readwrite");await i.objectStore(ko).put(e,By(t)),await i.done}catch(n){if(n instanceof Dr)$n.warn(n.message);else{const i=Tr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$n.warn(i.message)}}}function By(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=1024,D1=30;class M1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new U1(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=xv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>D1){const u=B1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){$n.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xv(),{heartbeatsToSend:i,unsentEntries:o}=F1(this._heartbeatsCache.heartbeats),l=Ul(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return $n.warn(n),""}}}function xv(){return new Date().toISOString().substring(0,10)}function F1(t,e=L1){const n=[];let i=t.slice();for(const o of t){const l=n.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),Rv(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Rv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class U1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wT()?ST().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await O1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Tv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Tv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Rv(t){return Ul(JSON.stringify({version:2,heartbeats:t})).length}function B1(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t){es(new ai("platform-logger",e=>new JT(e),"PRIVATE")),es(new ai("heartbeat",e=>new M1(e),"PRIVATE")),xr(fh,Sv,t),xr(fh,Sv,"esm2017"),xr("fire-js","")}H1("");var gh=function(t,e){return gh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},gh(t,e)};function Qt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");gh(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var J=function(){return J=Object.assign||function(e){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},J.apply(this,arguments)};function Gn(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function Sn(t,e,n){if(n||arguments.length===2)for(var i=0,o=e.length,l;i<o;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return t.concat(l||Array.prototype.slice.call(e))}function Hy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const j1=Hy,jy=new Ko("auth","Firebase",Hy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=new af("@firebase/auth");function z1(t,...e){jl.logLevel<=Re.WARN&&jl.warn(`Auth (${fs}): ${t}`,...e)}function Pl(t,...e){jl.logLevel<=Re.ERROR&&jl.error(`Auth (${fs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t,...e){throw cf(t,...e)}function Cn(t,...e){return cf(t,...e)}function zy(t,e,n){const i=Object.assign(Object.assign({},j1()),{[e]:n});return new Ko("auth","Firebase",i).create(e,{appName:t.name})}function jn(t){return zy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cf(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return jy.create(t,...e)}function se(t,e,...n){if(!t)throw cf(e,...n)}function Fn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pl(e),new Error(e)}function qn(t,e){t||Fn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function W1(){return kv()==="http:"||kv()==="https:"}function kv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W1()||_T()||"connection"in navigator)?navigator.onLine:!0}function $1(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){this.shortDelay=e,this.longDelay=n,qn(n>e,"Short delay should be less than long delay!"),this.isMobile=of()||Ay()}get(){return V1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t,e){qn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],K1=new Qo(3e4,6e4);function Mr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fr(t,e,n,i,o={}){return Vy(t,o,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const d=hs(Object.assign({key:t.config.apiKey},u)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:f},l);return vT()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&qo(t.emulatorConfig.host)&&(p.credentials="include"),Wy.fetch()(await $y(t,t.config.apiHost,n,d),p)})}async function Vy(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},G1),e);try{const o=new Y1(t),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw wl(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw wl(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw wl(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw wl(t,"user-disabled",u);const g=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw zy(t,g,p);fn(t,g)}}catch(o){if(o instanceof Dr)throw o;fn(t,"network-request-failed",{message:String(o)})}}async function Yo(t,e,n,i,o={}){const l=await Fr(t,e,n,i,o);return"mfaPendingCredential"in l&&fn(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function $y(t,e,n,i){const o=`${e}${n}?${i}`,l=t,u=l.config.emulator?df(t.config,o):`${t.config.apiScheme}://${o}`;return q1.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function Q1(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Y1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Cn(this.auth,"network-request-failed")),K1.get())})}}function wl(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=Cn(t,e,i);return o.customData._tokenResponse=n,o}function Nv(t){return t!==void 0&&t.enterprise!==void 0}class X1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Q1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function J1(t,e){return Fr(t,"GET","/v2/recaptchaConfig",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1(t,e){return Fr(t,"POST","/v1/accounts:delete",e)}async function zl(t,e){return Fr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ex(t,e=!1){const n=lt(t),i=await n.getIdToken(e),o=hf(i);se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:_o(Bd(o.auth_time)),issuedAtTime:_o(Bd(o.iat)),expirationTime:_o(Bd(o.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Bd(t){return Number(t)*1e3}function hf(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Pl("JWT malformed, contained fewer than 3 sections"),null;try{const o=Bl(n);return o?JSON.parse(o):(Pl("Failed to decode base64 JWT payload"),null)}catch(o){return Pl("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Pv(t){const e=hf(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Dr&&tx(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function tx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_o(this.lastLoginAt),this.creationTime=_o(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(t){var e;const n=t.auth,i=await t.getIdToken(),o=await No(t,zl(n,{idToken:i}));se(o==null?void 0:o.users.length,n,"internal-error");const l=o.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Gy(l.providerUserInfo):[],d=ix(t.providerData,u),f=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(d!=null&&d.length),g=f?p:!1,y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new _h(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function rx(t){const e=lt(t);await Wl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ix(t,e){return[...t.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Gy(t){return t.map(e=>{var{providerId:n}=e,i=Gn(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sx(t,e){const n=await Vy(t,{},async()=>{const i=hs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=t.config,u=await $y(t,o,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Wy.fetch()(u,{method:"POST",headers:d,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ox(t,e){return Fr(t,"POST","/v2/accounts:revokeToken",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Pv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=Pv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:l}=await sx(e,n);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:l}=n,u=new Qi;return i&&(se(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(se(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(se(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qi,this.toJSON())}_performRefresh(){return Fn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class an{constructor(e){var{uid:n,auth:i,stsTokenManager:o}=e,l=Gn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new _h(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await No(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ex(this,e)}reload(){return rx(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new an(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Wl(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($t(this.auth.app))return Promise.reject(jn(this.auth));const e=await this.getIdToken();return await No(this,Z1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,o,l,u,d,f,p,g;const y=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(o=n.email)!==null&&o!==void 0?o:void 0,S=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,w=(u=n.photoURL)!==null&&u!==void 0?u:void 0,R=(d=n.tenantId)!==null&&d!==void 0?d:void 0,A=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,P=(p=n.createdAt)!==null&&p!==void 0?p:void 0,D=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:M,emailVerified:z,isAnonymous:O,providerData:$,stsTokenManager:X}=n;se(M&&X,e,"internal-error");const ue=Qi.fromJSON(this.name,X);se(typeof M=="string",e,"internal-error"),gr(y,e.name),gr(v,e.name),se(typeof z=="boolean",e,"internal-error"),se(typeof O=="boolean",e,"internal-error"),gr(S,e.name),gr(w,e.name),gr(R,e.name),gr(A,e.name),gr(P,e.name),gr(D,e.name);const te=new an({uid:M,auth:e,email:v,emailVerified:z,displayName:y,isAnonymous:O,photoURL:w,phoneNumber:S,tenantId:R,stsTokenManager:ue,createdAt:P,lastLoginAt:D});return $&&Array.isArray($)&&(te.providerData=$.map(we=>Object.assign({},we))),A&&(te._redirectEventId=A),te}static async _fromIdTokenResponse(e,n,i=!1){const o=new Qi;o.updateFromServerResponse(n);const l=new an({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Wl(l),l}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];se(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Gy(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new Qi;d.updateFromIdToken(i);const f=new an({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new _h(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=new Map;function Un(t){qn(t instanceof Function,"Expected a class definition");let e=bv.get(t);return e?(qn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qy.type="NONE";const Av=qy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t,e,n){return`firebase:${t}:${e}:${n}`}class Yi{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=bl(this.userKey,o.apiKey,l),this.fullPersistenceKey=bl("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zl(this.auth,{idToken:e}).catch(()=>{});return n?an._fromGetAccountInfoResponse(this.auth,n,e):null}return an._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Yi(Un(Av),e,i);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=o[0]||Un(Av);const u=bl(i,e.config.apiKey,e.name);let d=null;for(const p of n)try{const g=await p._get(u);if(g){let y;if(typeof g=="string"){const v=await zl(e,{idToken:g}).catch(()=>{});if(!v)break;y=await an._fromGetAccountInfoResponse(e,v,g)}else y=an._fromJSON(e,g);p!==l&&(d=y),l=p;break}}catch{}const f=o.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new Yi(l,e,i):(l=f[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Yi(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ky(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zy(e))return"Blackberry";if(e0(e))return"Webos";if(Qy(e))return"Safari";if((e.includes("chrome/")||Yy(e))&&!e.includes("edge/"))return"Chrome";if(Jy(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Ky(t=St()){return/firefox\//i.test(t)}function Qy(t=St()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yy(t=St()){return/crios\//i.test(t)}function Xy(t=St()){return/iemobile/i.test(t)}function Jy(t=St()){return/android/i.test(t)}function Zy(t=St()){return/blackberry/i.test(t)}function e0(t=St()){return/webos/i.test(t)}function ff(t=St()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ax(t=St()){var e;return ff(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lx(){return yT()&&document.documentMode===10}function t0(t=St()){return ff(t)||Jy(t)||e0(t)||Zy(t)||/windows phone/i.test(t)||Xy(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(t,e=[]){let n;switch(t){case"Browser":n=Ov(St());break;case"Worker":n=`${Ov(St())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fs}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,d)=>{try{const f=e(l);u(f)}catch(f){d(f)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cx(t,e={}){return Fr(t,"GET","/v2/passwordPolicy",Mr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=6;class hx{constructor(e){var n,i,o,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:dx,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,o,l,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(l=f.containsUppercaseLetter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lv(this),this.idTokenSubscription=new Lv(this),this.beforeStateQueue=new ux(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Un(n)),this._initializationPromise=this.queue(async()=>{var i,o,l;if(!this._deleted&&(this.persistenceManager=await Yi.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zl(this,{idToken:e}),i=await an._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if($t(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(o=f.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($t(this.app))return Promise.reject(jn(this));const n=e?lt(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $t(this.app)?Promise.reject(jn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $t(this.app)?Promise.reject(jn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Un(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cx(this),n=new hx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ko("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await ox(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Un(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await Yi.create(this,[Un(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,o);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if($t(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&z1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function vi(t){return lt(t)}class Lv{constructor(e){this.auth=e,this.observer=null,this.addObserver=NT(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function px(t){mu=t}function r0(t){return mu.loadJS(t)}function mx(){return mu.recaptchaEnterpriseScript}function gx(){return mu.gapiScript}function vx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class _x{constructor(){this.enterprise=new yx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class yx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Ex="recaptcha-enterprise",i0="NO_RECAPTCHA";class wx{constructor(e){this.type=Ex,this.auth=vi(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,d)=>{J1(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new X1(f);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(f=>{d(f)})})}function o(l,u,d){const f=window.grecaptcha;Nv(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(i0)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _x().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(d=>{if(!n&&Nv(window.grecaptcha))o(d,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=mx();f.length!==0&&(f+=d),r0(f).then(()=>{o(d,l,u)}).catch(p=>{u(p)})}}).catch(d=>{u(d)})})}}async function Dv(t,e,n,i=!1,o=!1){const l=new wx(t);let u;if(o)u=i0;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function yh(t,e,n,i,o){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Dv(t,e,n,n==="getOobCode");return i(t,u)}else return i(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Dv(t,e,n,n==="getOobCode");return i(t,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(t,e){const n=uf(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(oi(l,e??{}))return o;fn(o,"already-initialized")}return n.initialize({options:e})}function Cx(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Un);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Ix(t,e,n){const i=vi(t);se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=s0(e),{host:u,port:d}=Tx(e),f=d===null?"":`:${d}`,p={url:`${l}//${u}${f}/`},g=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),se(oi(p,i.config.emulator)&&oi(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,qo(u)?(Py(`${l}//${u}${f}`),by("Auth",!0)):xx()}function s0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Tx(t){const e=s0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Mv(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:Mv(u)}}}function Mv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xx(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fn("not implemented")}_getIdTokenResponse(e){return Fn("not implemented")}_linkToIdToken(e,n){return Fn("not implemented")}_getReauthenticationResolver(e){return Fn("not implemented")}}async function Rx(t,e){return Fr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kx(t,e){return Yo(t,"POST","/v1/accounts:signInWithPassword",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx(t,e){return Yo(t,"POST","/v1/accounts:signInWithEmailLink",Mr(t,e))}async function Px(t,e){return Yo(t,"POST","/v1/accounts:signInWithEmailLink",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends pf{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Po(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Po(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yh(e,n,"signInWithPassword",kx);case"emailLink":return Nx(e,{email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yh(e,i,"signUpPassword",Rx);case"emailLink":return Px(e,{idToken:n,email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xi(t,e){return Yo(t,"POST","/v1/accounts:signInWithIdp",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="http://localhost";class li extends pf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new li(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=n,l=Gn(n,["providerId","signInMethod"]);if(!i||!o)return null;const u=new li(i,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Xi(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Xi(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xi(e,n)}buildRequest(){const e={requestUri:bx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hs(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ox(t){const e=po(mo(t)).link,n=e?po(mo(e)).deep_link_id:null,i=po(mo(t)).deep_link_id;return(i?po(mo(i)).link:null)||i||n||e||t}class mf{constructor(e){var n,i,o,l,u,d;const f=po(mo(e)),p=(n=f.apiKey)!==null&&n!==void 0?n:null,g=(i=f.oobCode)!==null&&i!==void 0?i:null,y=Ax((o=f.mode)!==null&&o!==void 0?o:null);se(p&&g&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=g,this.continueUrl=(l=f.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=Ox(e);try{return new mf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(){this.providerId=ps.PROVIDER_ID}static credential(e,n){return Po._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=mf.parseLink(n);return se(i,"argument-error"),Po._fromEmailAndCode(e,i.code,i.tenantId)}}ps.PROVIDER_ID="password";ps.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ps.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends o0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends Xo{constructor(){super("facebook.com")}static credential(e){return li._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.FACEBOOK_SIGN_IN_METHOD="facebook.com";_r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Xo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return li._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return yr.credential(n,i)}catch{return null}}}yr.GOOGLE_SIGN_IN_METHOD="google.com";yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Xo{constructor(){super("github.com")}static credential(e){return li._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Er.credential(e.oauthAccessToken)}catch{return null}}}Er.GITHUB_SIGN_IN_METHOD="github.com";Er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Xo{constructor(){super("twitter.com")}static credential(e,n){return li._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return wr.credential(n,i)}catch{return null}}}wr.TWITTER_SIGN_IN_METHOD="twitter.com";wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(t,e){return Yo(t,"POST","/v1/accounts:signUp",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const l=await an._fromIdTokenResponse(e,i,o),u=Fv(i);return new ui({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=Fv(i);return new ui({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function Fv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends Dr{constructor(e,n,i,o){var l;super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Vl.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new Vl(e,n,i,o)}}function a0(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Vl._fromErrorAndOperation(t,l,e,i):l})}async function Dx(t,e,n=!1){const i=await No(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ui._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mx(t,e,n=!1){const{auth:i}=t;if($t(i.app))return Promise.reject(jn(i));const o="reauthenticate";try{const l=await No(t,a0(i,o,e,t),n);se(l.idToken,i,"internal-error");const u=hf(l.idToken);se(u,i,"internal-error");const{sub:d}=u;return se(t.uid===d,i,"user-mismatch"),ui._forOperation(t,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&fn(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l0(t,e,n=!1){if($t(t.app))return Promise.reject(jn(t));const i="signIn",o=await a0(t,i,e),l=await ui._fromIdTokenResponse(t,i,o);return n||await t._updateCurrentUser(l.user),l}async function Fx(t,e){return l0(vi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u0(t){const e=vi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ux(t,e,n){if($t(t.app))return Promise.reject(jn(t));const i=vi(t),u=await yh(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Lx).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&u0(t),f}),d=await ui._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(d.user),d}function Bx(t,e,n){return $t(t.app)?Promise.reject(jn(t)):Fx(lt(t),ps.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&u0(t),i})}function Hx(t,e,n,i){return lt(t).onIdTokenChanged(e,n,i)}function jx(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function zx(t,e,n,i){return lt(t).onAuthStateChanged(e,n,i)}function Wx(t){return lt(t).signOut()}const $l="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($l,"1"),this.storage.removeItem($l),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=1e3,$x=10;class d0 extends c0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);lx()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,$x):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},Vx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}d0.type="LOCAL";const Gx=d0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends c0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}h0.type="SESSION";const f0=h0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new gu(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:l}=n.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(u).map(async p=>p(n.origin,l)),f=await qx(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((d,f)=>{const p=gf("",20);o.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(y){const v=y;if(v.data.eventId===p)switch(v.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(v.data.response);break;default:clearTimeout(g),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return window}function Qx(t){In().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(){return typeof In().WorkerGlobalScope<"u"&&typeof In().importScripts=="function"}async function Yx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xx(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Jx(){return p0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="firebaseLocalStorageDb",Zx=1,Gl="firebaseLocalStorage",g0="fbase_key";class Jo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vu(t,e){return t.transaction([Gl],e?"readwrite":"readonly").objectStore(Gl)}function eR(){const t=indexedDB.deleteDatabase(m0);return new Jo(t).toPromise()}function Eh(){const t=indexedDB.open(m0,Zx);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Gl,{keyPath:g0})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Gl)?e(i):(i.close(),await eR(),e(await Eh()))})})}async function Uv(t,e,n){const i=vu(t,!0).put({[g0]:e,value:n});return new Jo(i).toPromise()}async function tR(t,e){const n=vu(t,!1).get(e),i=await new Jo(n).toPromise();return i===void 0?null:i.value}function Bv(t,e){const n=vu(t,!0).delete(e);return new Jo(n).toPromise()}const nR=800,rR=3;class v0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Eh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>rR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gu._getInstance(Jx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Yx(),!this.activeServiceWorker)return;this.sender=new Kx(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Xx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Eh();return await Uv(e,$l,"1"),await Bv(e,$l),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Uv(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>tR(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=vu(o,!1).getAll();return new Jo(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v0.type="LOCAL";const iR=v0;new Qo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t,e){return e?Un(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends pf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oR(t){return l0(t.auth,new vf(t),t.bypassAuthState)}function aR(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),Mx(n,new vf(t),t.bypassAuthState)}async function lR(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),Dx(n,new vf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oR;case"linkViaPopup":case"linkViaRedirect":return lR;case"reauthViaPopup":case"reauthViaRedirect":return aR;default:fn(this.auth,"internal-error")}}resolve(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=new Qo(2e3,1e4);class qi extends _0{constructor(e,n,i,o,l){super(e,n,o,l),this.provider=i,this.authWindow=null,this.pollId=null,qi.currentPopupAction&&qi.currentPopupAction.cancel(),qi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){qn(this.filter.length===1,"Popup operations only handle one event");const e=gf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uR.get())};e()}}qi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="pendingRedirect",Al=new Map;class dR extends _0{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Al.get(this.auth._key());if(!e){try{const i=await hR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Al.set(this.auth._key(),e)}return this.bypassAuthState||Al.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hR(t,e){const n=mR(e),i=pR(t);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function fR(t,e){Al.set(t._key(),e)}function pR(t){return Un(t._redirectPersistence)}function mR(t){return bl(cR,t.config.apiKey,t.name)}async function gR(t,e,n=!1){if($t(t.app))return Promise.reject(jn(t));const i=vi(t),o=sR(i,e),u=await new dR(i,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=10*60*1e3;class _R{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!y0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Cn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hv(e))}saveEventToCache(e){this.cachedEventUids.add(Hv(e)),this.lastProcessedEventTime=Date.now()}}function Hv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function y0({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return y0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(t,e={}){return Fr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SR=/^https?/;async function CR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ER(t);for(const n of e)try{if(IR(n))return}catch{}fn(t,"unauthorized-domain")}function IR(t){const e=vh(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!SR.test(n))return!1;if(wR.test(t))return i===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=new Qo(3e4,6e4);function jv(){const t=In().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xR(t){return new Promise((e,n)=>{var i,o,l;function u(){jv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jv(),n(Cn(t,"network-request-failed"))},timeout:TR.get()})}if(!((o=(i=In().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=In().gapi)===null||l===void 0)&&l.load)u();else{const d=vx("iframefcb");return In()[d]=()=>{gapi.load?u():n(Cn(t,"network-request-failed"))},r0(`${gx()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw Ol=null,e})}let Ol=null;function RR(t){return Ol=Ol||xR(t),Ol}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new Qo(5e3,15e3),NR="__/auth/iframe",PR="emulator/auth/iframe",bR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OR(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?df(e,PR):`https://${t.config.authDomain}/${NR}`,i={apiKey:e.apiKey,appName:t.name,v:fs},o=AR.get(t.config.apiHost);o&&(i.eid=o);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${hs(i).slice(1)}`}async function LR(t){const e=await RR(t),n=In().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:OR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bR,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const u=Cn(t,"network-request-failed"),d=In().setTimeout(()=>{l(u)},kR.get());function f(){In().clearTimeout(d),o(i)}i.ping(f).then(f,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MR=500,FR=600,UR="_blank",BR="http://localhost";class zv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HR(t,e,n,i=MR,o=FR){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const f=Object.assign(Object.assign({},DR),{width:i.toString(),height:o.toString(),top:l,left:u}),p=St().toLowerCase();n&&(d=Yy(p)?UR:n),Ky(p)&&(e=e||BR,f.scrollbars="yes");const g=Object.entries(f).reduce((v,[S,w])=>`${v}${S}=${w},`,"");if(ax(p)&&d!=="_self")return jR(e||"",d),new zv(null);const y=window.open(e||"",d,g);se(y,t,"popup-blocked");try{y.focus()}catch{}return new zv(y)}function jR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="__/auth/handler",WR="emulator/auth/handler",VR=encodeURIComponent("fac");async function Wv(t,e,n,i,o,l){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:fs,eventId:o};if(e instanceof o0){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",ch(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))u[g]=y}if(e instanceof Xo){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const f=await t._getAppCheckToken(),p=f?`#${VR}=${encodeURIComponent(f)}`:"";return`${$R(t)}?${hs(d).slice(1)}${p}`}function $R({config:t}){return t.emulator?df(t,WR):`https://${t.authDomain}/${zR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="webStorageSupport";class GR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f0,this._completeRedirectFn=gR,this._overrideRedirectResult=fR}async _openPopup(e,n,i,o){var l;qn((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await Wv(e,n,i,vh(),o);return HR(e,u,gf())}async _openRedirect(e,n,i,o){await this._originValidation(e);const l=await Wv(e,n,i,vh(),o);return Qx(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(qn(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await LR(e),i=new _R(e);return n.register("authEvent",o=>(se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hd,{type:Hd},o=>{var l;const u=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Hd];u!==void 0&&n(!!u),fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return t0()||Qy()||ff()}}const qR=GR;var Vv="@firebase/auth",$v="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YR(t){es(new ai("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;se(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n0(t)},p=new fx(i,o,l,f);return Cx(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),es(new ai("auth-internal",e=>{const n=vi(e.getProvider("auth").getImmediate());return(i=>new KR(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(Vv,$v,QR(t)),xr(Vv,$v,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=5*60,JR=Ny("authIdTokenMaxAge")||XR;let Gv=null;const ZR=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>JR)return;const o=n==null?void 0:n.token;Gv!==o&&(Gv=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ek(t=Fy()){const e=uf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Sx(t,{popupRedirectResolver:qR,persistence:[iR,Gx,f0]}),i=Ny("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=ZR(l.toString());jx(n,u,()=>u(n.currentUser)),Hx(n,d=>u(d))}}const o=Ry("auth");return o&&Ix(n,`http://${o}`),n}function tk(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}px({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=o=>{const l=Cn("internal-error");l.customData=o,n(l)},i.type="text/javascript",i.charset="UTF-8",tk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YR("Browser");var nk="firebase",rk="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(nk,rk,"app");const ik={apiKey:"AIzaSyCNEJDVMHQY8BnaO2ZKkGBQbvoEHXhZBeo",authDomain:"diri-9ed53.firebaseapp.com",databaseURL:"https://diri-9ed53-default-rtdb.firebaseio.com",projectId:"diri-9ed53",storageBucket:"diri-9ed53.firebasestorage.app",messagingSenderId:"710505225558",appId:"1:710505225558:web:a1489ff5c4b458c28b4af7",measurementId:"G-4SMWBK22RK"},Gt=Iv().length?Iv()[0]:My(ik);var qv={};const Kv="@firebase/database",Qv="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E0="";function sk(t){E0=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Qe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:xo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Rn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ok(e)}}catch{}return new ak},ri=w0("localStorage"),lk=w0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new af("@firebase/database"),uk=function(){let t=1;return function(){return t++}}(),S0=function(t){const e=AT(t),n=new kT;n.update(e);const i=n.digest();return rf.encodeByteArray(i)},Zo=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Zo.apply(null,i):typeof i=="object"?e+=Qe(i):e+=i,e+=" "}return e};let yo=null,Yv=!0;const ck=function(t,e){V(!0,"Can't turn on custom loggers persistently."),Ji.logLevel=Re.VERBOSE,yo=Ji.log.bind(Ji)},ot=function(...t){if(Yv===!0&&(Yv=!1,yo===null&&lk.get("logging_enabled")===!0&&ck()),yo){const e=Zo.apply(null,t);yo(e)}},ea=function(t){return function(...e){ot(t,...e)}},wh=function(...t){const e="FIREBASE INTERNAL ERROR: "+Zo(...t);Ji.error(e)},Kn=function(...t){const e=`FIREBASE FATAL ERROR: ${Zo(...t)}`;throw Ji.error(e),new Error(e)},wt=function(...t){const e="FIREBASE WARNING: "+Zo(...t);Ji.warn(e)},dk=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},_f=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},hk=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ci="[MIN_NAME]",Nr="[MAX_NAME]",_i=function(t,e){if(t===e)return 0;if(t===ci||e===Nr)return-1;if(e===ci||t===Nr)return 1;{const n=Xv(t),i=Xv(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},fk=function(t,e){return t===e?0:t<e?-1:1},lo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Qe(e))},yf=function(t){if(typeof t!="object"||t===null)return Qe(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Qe(e[i]),n+=":",n+=yf(t[e[i]]);return n+="}",n},C0=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let o=0;o<n;o+=e)o+e>n?i.push(t.substring(o,n)):i.push(t.substring(o,o+e));return i};function at(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const I0=function(t){V(!_f(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let o,l,u,d,f;t===0?(l=0,u=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(t)/Math.LN2),i),l=d+i,u=Math.round(t*Math.pow(2,n-d)-Math.pow(2,n))):(l=0,u=Math.round(t/Math.pow(2,1-i-n))));const p=[];for(f=n;f;f-=1)p.push(u%2?1:0),u=Math.floor(u/2);for(f=e;f;f-=1)p.push(l%2?1:0),l=Math.floor(l/2);p.push(o?1:0),p.reverse();const g=p.join("");let y="";for(f=0;f<64;f+=8){let v=parseInt(g.substr(f,8),2).toString(16);v.length===1&&(v="0"+v),y=y+v}return y.toLowerCase()},pk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},mk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function gk(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const vk=new RegExp("^-?(0*)\\d{1,10}$"),_k=-2147483648,yk=2147483647,Xv=function(t){if(vk.test(t)){const e=Number(t);if(e>=_k&&e<=yk)return e}return null},ms=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw wt("Exception was thrown by user callback.",n),e},Math.floor(0))}},Ek=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Eo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,$t(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){wt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ot("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wt(e)}}class Ll{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ll.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="5",T0="v",x0="s",R0="r",k0="f",N0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,P0="ls",b0="p",Sh="ac",A0="websocket",O0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n,i,o,l=!1,u="",d=!1,f=!1,p=null){this.secure=n,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=f,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ri.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ri.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Ck(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function D0(t,e,n){V(typeof e=="string","typeof type must == string"),V(typeof n=="object","typeof params must == object");let i;if(e===A0)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===O0)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Ck(t)&&(n.ns=t.namespace);const o=[];return at(n,(l,u)=>{o.push(l+"="+u)}),i+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.counters_={}}incrementCounter(e,n=1){Rn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return aT(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd={},zd={};function wf(t){const e=t.toString();return jd[e]||(jd[e]=new Ik),jd[e]}function Tk(t,e){const n=t.toString();return zd[n]||(zd[n]=e()),zd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&ms(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="start",Rk="close",kk="pLPCommand",Nk="pRTLPCB",M0="id",F0="pw",U0="ser",Pk="cb",bk="seg",Ak="ts",Ok="d",Lk="dframe",B0=1870,H0=30,Dk=B0-H0,Mk=25e3,Fk=3e4;class Ki{constructor(e,n,i,o,l,u,d){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.transportSessionId=u,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ea(e),this.stats_=wf(n),this.urlFn=f=>(this.appCheckToken&&(f[Sh]=this.appCheckToken),D0(n,O0,f))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new xk(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Fk)),hk(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Sf((...l)=>{const[u,d,f,p,g]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===Jv)this.id=d,this.password=f;else if(u===Rk)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,d]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,d)},()=>{this.onClosed_()},this.urlFn);const i={};i[Jv]="t",i[U0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Pk]=this.scriptTagHolder.uniqueCallbackIdentifier),i[T0]=Ef,this.transportSessionId&&(i[x0]=this.transportSessionId),this.lastSessionId&&(i[P0]=this.lastSessionId),this.applicationId&&(i[b0]=this.applicationId),this.appCheckToken&&(i[Sh]=this.appCheckToken),typeof location<"u"&&location.hostname&&N0.test(location.hostname)&&(i[R0]=k0);const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ki.forceAllow_=!0}static forceDisallow(){Ki.forceDisallow_=!0}static isAvailable(){return Ki.forceAllow_?!0:!Ki.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!pk()&&!mk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Qe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Ty(n),o=C0(i,Dk);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[Lk]="t",i[M0]=e,i[F0]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Qe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Sf{constructor(e,n,i,o){this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=uk(),window[kk+this.uniqueCallbackIdentifier]=e,window[Nk+this.uniqueCallbackIdentifier]=n,this.myIFrame=Sf.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(d){ot("frame writing exception"),d.stack&&ot(d.stack),ot(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ot("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[M0]=this.myID,e[F0]=this.myPW,e[U0]=this.currentSerial;let n=this.urlFn(e),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+H0+i.length<=B0;){const u=this.pendingSegs.shift();i=i+"&"+bk+o+"="+u.seg+"&"+Ak+o+"="+u.ts+"&"+Ok+o+"="+u.d,o++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(i,Math.floor(Mk)),l=()=>{clearTimeout(o),i()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{ot("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=16384,Bk=45e3;let ql=null;typeof MozWebSocket<"u"?ql=MozWebSocket:typeof WebSocket<"u"&&(ql=WebSocket);class sn{constructor(e,n,i,o,l,u,d){this.connId=e,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ea(this.connId),this.stats_=wf(n),this.connURL=sn.connectionURL_(n,u,d,o,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,o,l){const u={};return u[T0]=Ef,typeof location<"u"&&location.hostname&&N0.test(location.hostname)&&(u[R0]=k0),n&&(u[x0]=n),i&&(u[P0]=i),o&&(u[Sh]=o),l&&(u[b0]=l),D0(e,A0,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ri.set("previous_websocket_failure",!0);try{let i;ET(),this.mySock=new ql(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){sn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&ql!==null&&!sn.forceDisallow_}static previouslyFailed(){return ri.isInMemoryStorage||ri.get("previous_websocket_failure")===!0}markConnectionHealthy(){ri.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=xo(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(V(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Qe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=C0(n,Uk);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Bk))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}sn.responsesRequiredToBeHealthy=2;sn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static get ALL_TRANSPORTS(){return[Ki,sn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=sn&&sn.isAvailable();let i=n&&!sn.previouslyFailed();if(e.webSocketOnly&&(n||wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[sn];else{const o=this.transports_=[];for(const l of bo.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l);bo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}bo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=6e4,jk=5e3,zk=10*1024,Wk=100*1024,Wd="t",Zv="d",Vk="s",e_="r",$k="e",t_="o",n_="a",r_="n",i_="p",Gk="h";class qk{constructor(e,n,i,o,l,u,d,f,p,g){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=u,this.onReady_=d,this.onDisconnect_=f,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ea("c:"+this.id+":"),this.transportManager_=new bo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Eo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Wk?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>zk?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Wd in e){const n=e[Wd];n===n_?this.upgradeIfSecondaryHealthy_():n===e_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===t_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=lo("t",e),i=lo("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:i_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:n_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:r_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=lo("t",e),i=lo("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=lo(Wd,e);if(Zv in e){const i=e[Zv];if(n===Gk){const o=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===r_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Vk?this.onConnectionShutdown_(i):n===e_?this.onReset_(i):n===$k?wh("Server Error: "+i):n===t_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ef!==i&&wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Eo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Hk))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Eo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(jk))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:i_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ri.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{put(e,n,i,o){}merge(e,n,i,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e){this.allowedEvents_=e,this.listeners_={},V(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const o=this.getInitialEvent(e);o&&n.apply(i,o)}off(e,n,i){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let l=0;l<o.length;l++)if(o[l].callback===n&&(!i||i===o[l].context)){o.splice(l,1);return}}validateEventType_(e){V(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends z0{static getInstance(){return new Kl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!of()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return V(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=32,o_=768;class Te{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ee(){return new Te("")}function me(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Pr(t){return t.pieces_.length-t.pieceNum_}function Pe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Te(t.pieces_,e)}function Cf(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Kk(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ao(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function W0(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Te(e,0)}function ze(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Te)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&n.push(i[o])}return new Te(n,0)}function he(t){return t.pieceNum_>=t.pieces_.length}function Et(t,e){const n=me(t),i=me(e);if(n===null)return e;if(n===i)return Et(Pe(t),Pe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Qk(t,e){const n=Ao(t,0),i=Ao(e,0);for(let o=0;o<n.length&&o<i.length;o++){const l=_i(n[o],i[o]);if(l!==0)return l}return n.length===i.length?0:n.length<i.length?-1:1}function V0(t,e){if(Pr(t)!==Pr(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function qt(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Pr(t)>Pr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class Yk{constructor(e,n){this.errorPrefix_=n,this.parts_=Ao(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=pu(this.parts_[i]);$0(this)}}function Xk(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=pu(e),$0(t)}function Jk(t){const e=t.parts_.pop();t.byteLength_-=pu(e),t.parts_.length>0&&(t.byteLength_-=1)}function $0(t){if(t.byteLength_>o_)throw new Error(t.errorPrefix_+"has a key path longer than "+o_+" bytes ("+t.byteLength_+").");if(t.parts_.length>s_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+s_+") or object contains a cycle "+ei(t))}function ei(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends z0{static getInstance(){return new If}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return V(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=1e3,Zk=60*5*1e3,a_=30*1e3,eN=1.3,tN=3e4,nN="server_kill",l_=3;class zn extends j0{constructor(e,n,i,o,l,u,d,f){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=d,this.authOverride_=f,this.id=zn.nextPersistentConnectionId_++,this.log_=ea("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=uo,this.maxReconnectDelay_=Zk,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");If.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Kl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const o=++this.requestNumber_,l={r:o,a:e,b:n};this.log_(Qe(l)),V(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[o]=i)}get(e){this.initConnection_();const n=new Go,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const d=u.d;u.s==="ok"?n.resolve(d):n.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,i,o){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),V(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:n,query:e,tag:i};this.listens.get(u).set(l,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+i+" for "+o);const l={p:i},u="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,d=>{const f=d.d,p=d.s;zn.warnOnListenWarnings_(f,n),(this.listens.get(i)&&this.listens.get(i).get(o))===e&&(this.log_("listen response",d),p!=="ok"&&this.removeListen_(i,o),e.onComplete&&e.onComplete(p,f))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Rn(e,"w")){const i=Zi(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||RT(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=a_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=xT(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,o=>{const l=o.s,u=o.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,e._queryObject,n)}sendUnlisten_(e,n,i,o){this.log_("Unlisten on "+e+" for "+n);const l={p:e},u="n";o&&(l.q=i,l.t=o),this.sendRequest(u,l)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,o){const l={p:n,d:i};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,n,i,o){this.putInternal("p",e,n,i,o)}merge(e,n,i,o){this.putInternal("m",e,n,i,o)}putInternal(e,n,i,o,l){this.initConnection_();const u={p:n,d:i};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const l=i.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Qe(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):wh("Unrecognized action received from server: "+Qe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){V(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=uo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=uo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>tN&&(this.reconnectDelay_=uo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*eN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+zn.nextConnectionId_++,l=this.lastSessionId;let u=!1,d=null;const f=function(){d?d.close():(u=!0,i())},p=function(y){V(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(y)};this.realtime_={close:f,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,v]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);u?ot("getToken() completed but was canceled"):(ot("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=v&&v.token,d=new qk(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,S=>{wt(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(nN)},l))}catch(y){this.log_("Failed to get token: "+y),u||(this.repoInfo_.nodeAdmin&&wt(y),f())}}}interrupt(e){ot("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ot("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ch(this.interruptReasons_)&&(this.reconnectDelay_=uo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(l=>yf(l)).join("$"):i="default";const o=this.removeListen_(e,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const i=new Te(e).toString();let o;if(this.listens.has(i)){const l=this.listens.get(i);o=l.get(n),l.delete(n),l.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(e,n){ot("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=l_&&(this.reconnectDelay_=a_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ot("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=l_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+E0.replace(/\./g,"-")]=1,of()?e["framework.cordova"]=1:Ay()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Kl.getInstance().currentlyOnline();return ch(this.interruptReasons_)&&e}}zn.nextPersistentConnectionId_=0;zn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new fe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new fe(ci,e),o=new fe(ci,n);return this.compare(i,o)!==0}minPost(){return fe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl;class G0 extends _u{static get __EMPTY_NODE(){return Sl}static set __EMPTY_NODE(e){Sl=e}compare(e,n){return _i(e.name,n.name)}isDefinedOn(e){throw ds("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return fe.MIN}maxPost(){return new fe(Nr,Sl)}makePost(e,n){return V(typeof e=="string","KeyIndex indexValue must always be a string."),new fe(e,Sl)}toString(){return".key"}}const ii=new G0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n,i,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?i(e.key,n):1,o&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class nt{constructor(e,n,i,o,l){this.key=e,this.value=n,this.color=i??nt.RED,this.left=o??Pt.EMPTY_NODE,this.right=l??Pt.EMPTY_NODE}copy(e,n,i,o,l){return new nt(e??this.key,n??this.value,i??this.color,o??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const l=i(e,o.key);return l<0?o=o.copy(null,null,null,o.left.insert(e,n,i),null):l===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,o;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Pt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}nt.RED=!0;nt.BLACK=!1;class rN{copy(e,n,i,o,l){return this}insert(e,n,i){return new nt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Pt{constructor(e,n=Pt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Pt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,nt.BLACK,null,null))}remove(e){return new Pt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,nt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,o=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(o=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Cl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Cl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Cl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Cl(this.root_,null,this.comparator_,!0,e)}}Pt.EMPTY_NODE=new rN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t,e){return _i(t.name,e.name)}function Tf(t,e){return _i(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch;function sN(t){Ch=t}const q0=function(t){return typeof t=="number"?"number:"+I0(t):"string:"+t},K0=function(t){if(t.isLeafNode()){const e=t.val();V(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Rn(e,".sv"),"Priority must be a string or number.")}else V(t===Ch||t.isEmpty(),"priority of unexpected type.");V(t===Ch||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u_;class et{static set __childrenNodeConstructor(e){u_=e}static get __childrenNodeConstructor(){return u_}constructor(e,n=et.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,V(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),K0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new et(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return he(e)?this:me(e)===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:et.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=me(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(V(i!==".priority"||Pr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,et.__childrenNodeConstructor.EMPTY_NODE.updateChild(Pe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+q0(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=I0(this.value_):e+=this.value_,this.lazyHash_=S0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===et.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof et.__childrenNodeConstructor?-1:(V(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,o=et.VALUE_TYPE_ORDER.indexOf(n),l=et.VALUE_TYPE_ORDER.indexOf(i);return V(o>=0,"Unknown leaf type: "+n),V(l>=0,"Unknown leaf type: "+i),o===l?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}et.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q0,Y0;function oN(t){Q0=t}function aN(t){Y0=t}class lN extends _u{compare(e,n){const i=e.node.getPriority(),o=n.node.getPriority(),l=i.compareTo(o);return l===0?_i(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return fe.MIN}maxPost(){return new fe(Nr,new et("[PRIORITY-POST]",Y0))}makePost(e,n){const i=Q0(e);return new fe(n,new et("[PRIORITY-POST]",i))}toString(){return".priority"}}const He=new lN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=Math.log(2);class cN{constructor(e){const n=l=>parseInt(Math.log(l)/uN,10),i=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=i(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ql=function(t,e,n,i){t.sort(e);const o=function(f,p){const g=p-f;let y,v;if(g===0)return null;if(g===1)return y=t[f],v=n?n(y):y,new nt(v,y.node,nt.BLACK,null,null);{const S=parseInt(g/2,10)+f,w=o(f,S),R=o(S+1,p);return y=t[S],v=n?n(y):y,new nt(v,y.node,nt.BLACK,w,R)}},l=function(f){let p=null,g=null,y=t.length;const v=function(w,R){const A=y-w,P=y;y-=w;const D=o(A+1,P),M=t[A],z=n?n(M):M;S(new nt(z,M.node,R,null,D))},S=function(w){p?(p.left=w,p=w):(g=w,p=w)};for(let w=0;w<f.count;++w){const R=f.nextBitIsOne(),A=Math.pow(2,f.count-(w+1));R?v(A,nt.BLACK):(v(A,nt.BLACK),v(A,nt.RED))}return g},u=new cN(t.length),d=l(u);return new Pt(i||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vd;const Gi={};class Bn{static get Default(){return V(Gi&&He,"ChildrenNode.ts has not been loaded"),Vd=Vd||new Bn({".priority":Gi},{".priority":He}),Vd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Zi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Pt?n:null}hasIndex(e){return Rn(this.indexSet_,e.toString())}addIndex(e,n){V(e!==ii,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const l=n.getIterator(fe.Wrap);let u=l.getNext();for(;u;)o=o||e.isDefinedOn(u.node),i.push(u),u=l.getNext();let d;o?d=Ql(i,e.getCompare()):d=Gi;const f=e.toString(),p=Object.assign({},this.indexSet_);p[f]=e;const g=Object.assign({},this.indexes_);return g[f]=d,new Bn(g,p)}addToIndexes(e,n){const i=Hl(this.indexes_,(o,l)=>{const u=Zi(this.indexSet_,l);if(V(u,"Missing index implementation for "+l),o===Gi)if(u.isDefinedOn(e.node)){const d=[],f=n.getIterator(fe.Wrap);let p=f.getNext();for(;p;)p.name!==e.name&&d.push(p),p=f.getNext();return d.push(e),Ql(d,u.getCompare())}else return Gi;else{const d=n.get(e.name);let f=o;return d&&(f=f.remove(new fe(e.name,d))),f.insert(e,e.node)}});return new Bn(i,this.indexSet_)}removeFromIndexes(e,n){const i=Hl(this.indexes_,o=>{if(o===Gi)return o;{const l=n.get(e.name);return l?o.remove(new fe(e.name,l)):o}});return new Bn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co;class oe{static get EMPTY_NODE(){return co||(co=new oe(new Pt(Tf),null,Bn.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&K0(this.priorityNode_),this.children_.isEmpty()&&V(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||co}updatePriority(e){return this.children_.isEmpty()?this:new oe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?co:n}}getChild(e){const n=me(e);return n===null?this:this.getImmediateChild(n).getChild(Pe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(V(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new fe(e,n);let o,l;n.isEmpty()?(o=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(i,this.children_));const u=o.isEmpty()?co:this.priorityNode_;return new oe(o,u,l)}}updateChild(e,n){const i=me(e);if(i===null)return n;{V(me(e)!==".priority"||Pr(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Pe(e),n);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,o=0,l=!0;if(this.forEachChild(He,(u,d)=>{n[u]=d.val(e),i++,l&&oe.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):l=!1}),!e&&l&&o<2*i){const u=[];for(const d in n)u[d]=n[d];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+q0(this.getPriority().val())+":"),this.forEachChild(He,(n,i)=>{const o=i.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":S0(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const o=this.resolveIndex_(i);if(o){const l=o.getPredecessorKey(new fe(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new fe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new fe(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,fe.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)<0;)o.getNext(),l=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,fe.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)>0;)o.getNext(),l=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ta?-1:0}withIndex(e){if(e===ii||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new oe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ii||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(He),o=n.getIterator(He);let l=i.getNext(),u=o.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=i.getNext(),u=o.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===ii?null:this.indexMap_.get(e.toString())}}oe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class dN extends oe{constructor(){super(new Pt(Tf),oe.EMPTY_NODE,Bn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return oe.EMPTY_NODE}isEmpty(){return!1}}const ta=new dN;Object.defineProperties(fe,{MIN:{value:new fe(ci,oe.EMPTY_NODE)},MAX:{value:new fe(Nr,ta)}});G0.__EMPTY_NODE=oe.EMPTY_NODE;et.__childrenNodeConstructor=oe;sN(ta);aN(ta);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=!0;function Ke(t,e=null){if(t===null)return oe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),V(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new et(n,Ke(e))}if(!(t instanceof Array)&&hN){const n=[];let i=!1;if(at(t,(u,d)=>{if(u.substring(0,1)!=="."){const f=Ke(d);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),n.push(new fe(u,f)))}}),n.length===0)return oe.EMPTY_NODE;const l=Ql(n,iN,u=>u.name,Tf);if(i){const u=Ql(n,He.getCompare());return new oe(l,Ke(e),new Bn({".priority":u},{".priority":He}))}else return new oe(l,Ke(e),Bn.Default)}else{let n=oe.EMPTY_NODE;return at(t,(i,o)=>{if(Rn(t,i)&&i.substring(0,1)!=="."){const l=Ke(o);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(i,l))}}),n.updatePriority(Ke(e))}}oN(Ke);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends _u{constructor(e){super(),this.indexPath_=e,V(!he(e)&&me(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),o=this.extractChild(n.node),l=i.compareTo(o);return l===0?_i(e.name,n.name):l}makePost(e,n){const i=Ke(e),o=oe.EMPTY_NODE.updateChild(this.indexPath_,i);return new fe(n,o)}maxPost(){const e=oe.EMPTY_NODE.updateChild(this.indexPath_,ta);return new fe(Nr,e)}toString(){return Ao(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN extends _u{compare(e,n){const i=e.node.compareTo(n.node);return i===0?_i(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return fe.MIN}maxPost(){return fe.MAX}makePost(e,n){const i=Ke(e);return new fe(n,i)}toString(){return".value"}}const X0=new fN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(t){return{type:"value",snapshotNode:t}}function ts(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Oo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Lo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function pN(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this.index_=e}updateChild(e,n,i,o,l,u){V(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(n);return d.getChild(o).equals(i.getChild(o))&&d.isEmpty()===i.isEmpty()||(u!=null&&(i.isEmpty()?e.hasChild(n)?u.trackChildChange(Oo(n,d)):V(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?u.trackChildChange(ts(n,i)):u.trackChildChange(Lo(n,i,d))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(He,(o,l)=>{n.hasChild(o)||i.trackChildChange(Oo(o,l))}),n.isLeafNode()||n.forEachChild(He,(o,l)=>{if(e.hasChild(o)){const u=e.getImmediateChild(o);u.equals(l)||i.trackChildChange(Lo(o,l,u))}else i.trackChildChange(ts(o,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?oe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.indexedFilter_=new Rf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Do.getStartPost_(e),this.endPost_=Do.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,o,l,u){return this.matches(new fe(n,i))||(i=oe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,o,l,u)}updateFullNode(e,n,i){n.isLeafNode()&&(n=oe.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(oe.EMPTY_NODE);const l=this;return n.forEachChild(He,(u,d)=>{l.matches(new fe(u,d))||(o=o.updateImmediateChild(u,oe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Do(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,o,l,u){return this.rangedFilter_.matches(new fe(n,i))||(i=oe.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,o,l,u):this.fullLimitUpdateChild_(e,n,i,l,u)}updateFullNode(e,n,i){let o;if(n.isLeafNode()||n.isEmpty())o=oe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=oe.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const d=l.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),u++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(oe.EMPTY_NODE);let l;this.reverse_?l=o.getReverseIterator(this.index_):l=o.getIterator(this.index_);let u=0;for(;l.hasNext();){const d=l.getNext();u<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?u++:o=o.updateImmediateChild(d.name,oe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,o,l){let u;if(this.reverse_){const y=this.index_.getCompare();u=(v,S)=>y(S,v)}else u=this.index_.getCompare();const d=e;V(d.numChildren()===this.limit_,"");const f=new fe(n,i),p=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),g=this.rangedFilter_.matches(f);if(d.hasChild(n)){const y=d.getImmediateChild(n);let v=o.getChildAfterChild(this.index_,p,this.reverse_);for(;v!=null&&(v.name===n||d.hasChild(v.name));)v=o.getChildAfterChild(this.index_,v,this.reverse_);const S=v==null?1:u(v,f);if(g&&!i.isEmpty()&&S>=0)return l!=null&&l.trackChildChange(Lo(n,i,y)),d.updateImmediateChild(n,i);{l!=null&&l.trackChildChange(Oo(n,y));const R=d.updateImmediateChild(n,oe.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(l!=null&&l.trackChildChange(ts(v.name,v.node)),R.updateImmediateChild(v.name,v.node)):R}}else return i.isEmpty()?e:g&&u(p,f)>=0?(l!=null&&(l.trackChildChange(Oo(p.name,p.node)),l.trackChildChange(ts(n,i))),d.updateImmediateChild(n,i).updateImmediateChild(p.name,oe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return V(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return V(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ci}hasEnd(){return this.endSet_}getIndexEndValue(){return V(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return V(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Nr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return V(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===He}copy(){const e=new kf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function gN(t){return t.loadsAllData()?new Rf(t.getIndex()):t.hasLimit()?new mN(t):new Do(t)}function vN(t,e,n){const i=t.copy();return i.startSet_=!0,e===void 0&&(e=null),i.indexStartValue_=e,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function _N(t,e,n){const i=t.copy();return i.endSet_=!0,e===void 0&&(e=null),i.indexEndValue_=e,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function yN(t,e){const n=t.copy();return n.index_=e,n}function c_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===He?n="$priority":t.index_===X0?n="$value":t.index_===ii?n="$key":(V(t.index_ instanceof xf,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Qe(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Qe(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Qe(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Qe(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Qe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function d_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==He&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends j0{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(V(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=ea("p:rest:"),this.listens_={}}listen(e,n,i,o){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=Yl.getListenId_(e,i),d={};this.listens_[u]=d;const f=c_(e._queryParams);this.restRequest_(l+".json",f,(p,g)=>{let y=g;if(p===404&&(y=null,p=null),p===null&&this.onDataUpdate_(l,y,!1,i),Zi(this.listens_,u)===d){let v;p?p===401?v="permission_denied":v="rest_error:"+p:v="ok",o(v,null)}})}unlisten(e,n){const i=Yl.getListenId_(e,n);delete this.listens_[i]}get(e){const n=c_(e._queryParams),i=e._path.toString(),o=new Go;return this.restRequest_(i+".json",n,(l,u)=>{let d=u;l===404&&(d=null,l=null),l===null?(this.onDataUpdate_(i,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(n.auth=o.accessToken),l&&l.token&&(n.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+hs(n);this.log_("Sending REST request for "+u);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&d.readyState===4){this.log_("REST Response for "+u+" received. status:",d.status,"response:",d.responseText);let f=null;if(d.status>=200&&d.status<300){try{f=xo(d.responseText)}catch{wt("Failed to parse JSON response for "+u+": "+d.responseText)}i(null,f)}else d.status!==401&&d.status!==404&&wt("Got unsuccessful REST response for "+u+" Status: "+d.status),i(d.status);i=null}},d.open("GET",u,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this.rootNode_=oe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(){return{value:null,children:new Map}}function Z0(t,e,n){if(he(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=me(e);t.children.has(i)||t.children.set(i,Xl());const o=t.children.get(i);e=Pe(e),Z0(o,e,n)}}function Ih(t,e,n){t.value!==null?n(e,t.value):wN(t,(i,o)=>{const l=new Te(e.toString()+"/"+i);Ih(o,l,n)})}function wN(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&at(this.last_,(i,o)=>{n[i]=n[i]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=10*1e3,CN=30*1e3,IN=5*60*1e3;class TN{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new SN(e);const i=h_+(CN-h_)*Math.random();Eo(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;at(e,(o,l)=>{l>0&&Rn(this.statsToReport_,o)&&(n[o]=l,i=!0)}),i&&this.server_.reportStats(n),Eo(this.reportStats_.bind(this),Math.floor(Math.random()*2*IN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ln||(ln={}));function Nf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Pf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function bf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=ln.ACK_USER_WRITE,this.source=Nf()}operationForChild(e){if(he(this.path)){if(this.affectedTree.value!=null)return V(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Te(e));return new Jl(Ee(),n,this.revert)}}else return V(me(this.path)===e,"operationForChild called for unrelated child."),new Jl(Pe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n){this.source=e,this.path=n,this.type=ln.LISTEN_COMPLETE}operationForChild(e){return he(this.path)?new Mo(this.source,Ee()):new Mo(this.source,Pe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=ln.OVERWRITE}operationForChild(e){return he(this.path)?new di(this.source,Ee(),this.snap.getImmediateChild(e)):new di(this.source,Pe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=ln.MERGE}operationForChild(e){if(he(this.path)){const n=this.children.subtree(new Te(e));return n.isEmpty()?null:n.value?new di(this.source,Ee(),n.value):new ns(this.source,Ee(),n)}else return V(me(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ns(this.source,Pe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(he(e))return this.isFullyInitialized()&&!this.filtered_;const n=me(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function RN(t,e,n,i){const o=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(pN(u.childName,u.snapshotNode))}),ho(t,o,"child_removed",e,i,n),ho(t,o,"child_added",e,i,n),ho(t,o,"child_moved",l,i,n),ho(t,o,"child_changed",e,i,n),ho(t,o,"value",e,i,n),o}function ho(t,e,n,i,o,l){const u=i.filter(d=>d.type===n);u.sort((d,f)=>NN(t,d,f)),u.forEach(d=>{const f=kN(t,d,l);o.forEach(p=>{p.respondsTo(d.type)&&e.push(p.createEvent(f,t.query_))})})}function kN(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function NN(t,e,n){if(e.childName==null||n.childName==null)throw ds("Should only compare child_ events.");const i=new fe(e.childName,e.snapshotNode),o=new fe(n.childName,n.snapshotNode);return t.index_.compare(i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t,e){return{eventCache:t,serverCache:e}}function wo(t,e,n,i){return yu(new br(e,n,i),t.serverCache)}function eE(t,e,n,i){return yu(t.eventCache,new br(e,n,i))}function Zl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function hi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $d;const PN=()=>($d||($d=new Pt(fk)),$d);class Ne{static fromObject(e){let n=new Ne(null);return at(e,(i,o)=>{n=n.set(new Te(i),o)}),n}constructor(e,n=PN()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ee(),value:this.value};if(he(e))return null;{const i=me(e),o=this.children.get(i);if(o!==null){const l=o.findRootMostMatchingPathAndValue(Pe(e),n);return l!=null?{path:ze(new Te(i),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(he(e))return this;{const n=me(e),i=this.children.get(n);return i!==null?i.subtree(Pe(e)):new Ne(null)}}set(e,n){if(he(e))return new Ne(n,this.children);{const i=me(e),l=(this.children.get(i)||new Ne(null)).set(Pe(e),n),u=this.children.insert(i,l);return new Ne(this.value,u)}}remove(e){if(he(e))return this.children.isEmpty()?new Ne(null):new Ne(null,this.children);{const n=me(e),i=this.children.get(n);if(i){const o=i.remove(Pe(e));let l;return o.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,o),this.value===null&&l.isEmpty()?new Ne(null):new Ne(this.value,l)}else return this}}get(e){if(he(e))return this.value;{const n=me(e),i=this.children.get(n);return i?i.get(Pe(e)):null}}setTree(e,n){if(he(e))return n;{const i=me(e),l=(this.children.get(i)||new Ne(null)).setTree(Pe(e),n);let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),new Ne(this.value,u)}}fold(e){return this.fold_(Ee(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((o,l)=>{i[o]=l.fold_(ze(e,o),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Ee(),n)}findOnPath_(e,n,i){const o=this.value?i(n,this.value):!1;if(o)return o;if(he(e))return null;{const l=me(e),u=this.children.get(l);return u?u.findOnPath_(Pe(e),ze(n,l),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ee(),n)}foreachOnPath_(e,n,i){if(he(e))return this;{this.value&&i(n,this.value);const o=me(e),l=this.children.get(o);return l?l.foreachOnPath_(Pe(e),ze(n,o),i):new Ne(null)}}foreach(e){this.foreach_(Ee(),e)}foreach_(e,n){this.children.inorderTraversal((i,o)=>{o.foreach_(ze(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.writeTree_=e}static empty(){return new dn(new Ne(null))}}function So(t,e,n){if(he(e))return new dn(new Ne(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const o=i.path;let l=i.value;const u=Et(o,e);return l=l.updateChild(u,n),new dn(t.writeTree_.set(o,l))}else{const o=new Ne(n),l=t.writeTree_.setTree(e,o);return new dn(l)}}}function Th(t,e,n){let i=t;return at(n,(o,l)=>{i=So(i,ze(e,o),l)}),i}function f_(t,e){if(he(e))return dn.empty();{const n=t.writeTree_.setTree(e,new Ne(null));return new dn(n)}}function xh(t,e){return yi(t,e)!=null}function yi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Et(n.path,e)):null}function p_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(He,(i,o)=>{e.push(new fe(i,o))}):t.writeTree_.children.inorderTraversal((i,o)=>{o.value!=null&&e.push(new fe(i,o.value))}),e}function Rr(t,e){if(he(e))return t;{const n=yi(t,e);return n!=null?new dn(new Ne(n)):new dn(t.writeTree_.subtree(e))}}function Rh(t){return t.writeTree_.isEmpty()}function rs(t,e){return tE(Ee(),t.writeTree_,e)}function tE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((o,l)=>{o===".priority"?(V(l.value!==null,"Priority writes must always be leaf nodes"),i=l.value):n=tE(ze(t,o),l,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(ze(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t,e){return sE(e,t)}function bN(t,e,n,i,o){V(i>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:o}),o&&(t.visibleWrites=So(t.visibleWrites,e,n)),t.lastWriteId=i}function AN(t,e,n,i){V(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=Th(t.visibleWrites,e,n),t.lastWriteId=i}function ON(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function LN(t,e){const n=t.allWrites.findIndex(d=>d.writeId===e);V(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let o=i.visible,l=!1,u=t.allWrites.length-1;for(;o&&u>=0;){const d=t.allWrites[u];d.visible&&(u>=n&&DN(d,i.path)?o=!1:qt(i.path,d.path)&&(l=!0)),u--}if(o){if(l)return MN(t),!0;if(i.snap)t.visibleWrites=f_(t.visibleWrites,i.path);else{const d=i.children;at(d,f=>{t.visibleWrites=f_(t.visibleWrites,ze(i.path,f))})}return!0}else return!1}function DN(t,e){if(t.snap)return qt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&qt(ze(t.path,n),e))return!0;return!1}function MN(t){t.visibleWrites=nE(t.allWrites,FN,Ee()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function FN(t){return t.visible}function nE(t,e,n){let i=dn.empty();for(let o=0;o<t.length;++o){const l=t[o];if(e(l)){const u=l.path;let d;if(l.snap)qt(n,u)?(d=Et(n,u),i=So(i,d,l.snap)):qt(u,n)&&(d=Et(u,n),i=So(i,Ee(),l.snap.getChild(d)));else if(l.children){if(qt(n,u))d=Et(n,u),i=Th(i,d,l.children);else if(qt(u,n))if(d=Et(u,n),he(d))i=Th(i,Ee(),l.children);else{const f=Zi(l.children,me(d));if(f){const p=f.getChild(Pe(d));i=So(i,Ee(),p)}}}else throw ds("WriteRecord should have .snap or .children")}}return i}function rE(t,e,n,i,o){if(!i&&!o){const l=yi(t.visibleWrites,e);if(l!=null)return l;{const u=Rr(t.visibleWrites,e);if(Rh(u))return n;if(n==null&&!xh(u,Ee()))return null;{const d=n||oe.EMPTY_NODE;return rs(u,d)}}}else{const l=Rr(t.visibleWrites,e);if(!o&&Rh(l))return n;if(!o&&n==null&&!xh(l,Ee()))return null;{const u=function(p){return(p.visible||o)&&(!i||!~i.indexOf(p.writeId))&&(qt(p.path,e)||qt(e,p.path))},d=nE(t.allWrites,u,e),f=n||oe.EMPTY_NODE;return rs(d,f)}}}function UN(t,e,n){let i=oe.EMPTY_NODE;const o=yi(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(He,(l,u)=>{i=i.updateImmediateChild(l,u)}),i;if(n){const l=Rr(t.visibleWrites,e);return n.forEachChild(He,(u,d)=>{const f=rs(Rr(l,new Te(u)),d);i=i.updateImmediateChild(u,f)}),p_(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}else{const l=Rr(t.visibleWrites,e);return p_(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}}function BN(t,e,n,i,o){V(i||o,"Either existingEventSnap or existingServerSnap must exist");const l=ze(e,n);if(xh(t.visibleWrites,l))return null;{const u=Rr(t.visibleWrites,l);return Rh(u)?o.getChild(n):rs(u,o.getChild(n))}}function HN(t,e,n,i){const o=ze(e,n),l=yi(t.visibleWrites,o);if(l!=null)return l;if(i.isCompleteForChild(n)){const u=Rr(t.visibleWrites,o);return rs(u,i.getNode().getImmediateChild(n))}else return null}function jN(t,e){return yi(t.visibleWrites,e)}function zN(t,e,n,i,o,l,u){let d;const f=Rr(t.visibleWrites,e),p=yi(f,Ee());if(p!=null)d=p;else if(n!=null)d=rs(f,n);else return[];if(d=d.withIndex(u),!d.isEmpty()&&!d.isLeafNode()){const g=[],y=u.getCompare(),v=l?d.getReverseIteratorFrom(i,u):d.getIteratorFrom(i,u);let S=v.getNext();for(;S&&g.length<o;)y(S,i)!==0&&g.push(S),S=v.getNext();return g}else return[]}function WN(){return{visibleWrites:dn.empty(),allWrites:[],lastWriteId:-1}}function eu(t,e,n,i){return rE(t.writeTree,t.treePath,e,n,i)}function Af(t,e){return UN(t.writeTree,t.treePath,e)}function m_(t,e,n,i){return BN(t.writeTree,t.treePath,e,n,i)}function tu(t,e){return jN(t.writeTree,ze(t.treePath,e))}function VN(t,e,n,i,o,l){return zN(t.writeTree,t.treePath,e,n,i,o,l)}function Of(t,e,n){return HN(t.writeTree,t.treePath,e,n)}function iE(t,e){return sE(ze(t.treePath,e),t.writeTree)}function sE(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;V(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),V(i!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const l=o.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(i,Lo(i,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(i,Oo(i,o.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(i,ts(i,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(i,Lo(i,e.snapshotNode,o.oldSnap));else throw ds("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const oE=new GN;class Lf{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new br(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Of(this.writes_,e,i)}}getChildAfterChild(e,n,i){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:hi(this.viewCache_),l=VN(this.writes_,o,n,1,i,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(t){return{filter:t}}function KN(t,e){V(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),V(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function QN(t,e,n,i,o){const l=new $N;let u,d;if(n.type===ln.OVERWRITE){const p=n;p.source.fromUser?u=kh(t,e,p.path,p.snap,i,o,l):(V(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered()&&!he(p.path),u=nu(t,e,p.path,p.snap,i,o,d,l))}else if(n.type===ln.MERGE){const p=n;p.source.fromUser?u=XN(t,e,p.path,p.children,i,o,l):(V(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered(),u=Nh(t,e,p.path,p.children,i,o,d,l))}else if(n.type===ln.ACK_USER_WRITE){const p=n;p.revert?u=eP(t,e,p.path,i,o,l):u=JN(t,e,p.path,p.affectedTree,i,o,l)}else if(n.type===ln.LISTEN_COMPLETE)u=ZN(t,e,n.path,i,l);else throw ds("Unknown operation type: "+n.type);const f=l.getChanges();return YN(e,u,f),{viewCache:u,changes:f}}function YN(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=Zl(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&n.push(J0(Zl(e)))}}function aE(t,e,n,i,o,l){const u=e.eventCache;if(tu(i,n)!=null)return e;{let d,f;if(he(n))if(V(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=hi(e),g=p instanceof oe?p:oe.EMPTY_NODE,y=Af(i,g);d=t.filter.updateFullNode(e.eventCache.getNode(),y,l)}else{const p=eu(i,hi(e));d=t.filter.updateFullNode(e.eventCache.getNode(),p,l)}else{const p=me(n);if(p===".priority"){V(Pr(n)===1,"Can't have a priority with additional path components");const g=u.getNode();f=e.serverCache.getNode();const y=m_(i,n,g,f);y!=null?d=t.filter.updatePriority(g,y):d=u.getNode()}else{const g=Pe(n);let y;if(u.isCompleteForChild(p)){f=e.serverCache.getNode();const v=m_(i,n,u.getNode(),f);v!=null?y=u.getNode().getImmediateChild(p).updateChild(g,v):y=u.getNode().getImmediateChild(p)}else y=Of(i,p,e.serverCache);y!=null?d=t.filter.updateChild(u.getNode(),p,y,g,o,l):d=u.getNode()}}return wo(e,d,u.isFullyInitialized()||he(n),t.filter.filtersNodes())}}function nu(t,e,n,i,o,l,u,d){const f=e.serverCache;let p;const g=u?t.filter:t.filter.getIndexedFilter();if(he(n))p=g.updateFullNode(f.getNode(),i,null);else if(g.filtersNodes()&&!f.isFiltered()){const S=f.getNode().updateChild(n,i);p=g.updateFullNode(f.getNode(),S,null)}else{const S=me(n);if(!f.isCompleteForPath(n)&&Pr(n)>1)return e;const w=Pe(n),A=f.getNode().getImmediateChild(S).updateChild(w,i);S===".priority"?p=g.updatePriority(f.getNode(),A):p=g.updateChild(f.getNode(),S,A,w,oE,null)}const y=eE(e,p,f.isFullyInitialized()||he(n),g.filtersNodes()),v=new Lf(o,y,l);return aE(t,y,n,o,v,d)}function kh(t,e,n,i,o,l,u){const d=e.eventCache;let f,p;const g=new Lf(o,e,l);if(he(n))p=t.filter.updateFullNode(e.eventCache.getNode(),i,u),f=wo(e,p,!0,t.filter.filtersNodes());else{const y=me(n);if(y===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),i),f=wo(e,p,d.isFullyInitialized(),d.isFiltered());else{const v=Pe(n),S=d.getNode().getImmediateChild(y);let w;if(he(v))w=i;else{const R=g.getCompleteChild(y);R!=null?Cf(v)===".priority"&&R.getChild(W0(v)).isEmpty()?w=R:w=R.updateChild(v,i):w=oe.EMPTY_NODE}if(S.equals(w))f=e;else{const R=t.filter.updateChild(d.getNode(),y,w,v,g,u);f=wo(e,R,d.isFullyInitialized(),t.filter.filtersNodes())}}}return f}function g_(t,e){return t.eventCache.isCompleteForChild(e)}function XN(t,e,n,i,o,l,u){let d=e;return i.foreach((f,p)=>{const g=ze(n,f);g_(e,me(g))&&(d=kh(t,d,g,p,o,l,u))}),i.foreach((f,p)=>{const g=ze(n,f);g_(e,me(g))||(d=kh(t,d,g,p,o,l,u))}),d}function v_(t,e,n){return n.foreach((i,o)=>{e=e.updateChild(i,o)}),e}function Nh(t,e,n,i,o,l,u,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,p;he(n)?p=i:p=new Ne(null).setTree(n,i);const g=e.serverCache.getNode();return p.children.inorderTraversal((y,v)=>{if(g.hasChild(y)){const S=e.serverCache.getNode().getImmediateChild(y),w=v_(t,S,v);f=nu(t,f,new Te(y),w,o,l,u,d)}}),p.children.inorderTraversal((y,v)=>{const S=!e.serverCache.isCompleteForChild(y)&&v.value===null;if(!g.hasChild(y)&&!S){const w=e.serverCache.getNode().getImmediateChild(y),R=v_(t,w,v);f=nu(t,f,new Te(y),R,o,l,u,d)}}),f}function JN(t,e,n,i,o,l,u){if(tu(o,n)!=null)return e;const d=e.serverCache.isFiltered(),f=e.serverCache;if(i.value!=null){if(he(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return nu(t,e,n,f.getNode().getChild(n),o,l,d,u);if(he(n)){let p=new Ne(null);return f.getNode().forEachChild(ii,(g,y)=>{p=p.set(new Te(g),y)}),Nh(t,e,n,p,o,l,d,u)}else return e}else{let p=new Ne(null);return i.foreach((g,y)=>{const v=ze(n,g);f.isCompleteForPath(v)&&(p=p.set(g,f.getNode().getChild(v)))}),Nh(t,e,n,p,o,l,d,u)}}function ZN(t,e,n,i,o){const l=e.serverCache,u=eE(e,l.getNode(),l.isFullyInitialized()||he(n),l.isFiltered());return aE(t,u,n,i,oE,o)}function eP(t,e,n,i,o,l){let u;if(tu(i,n)!=null)return e;{const d=new Lf(i,e,o),f=e.eventCache.getNode();let p;if(he(n)||me(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=eu(i,hi(e));else{const y=e.serverCache.getNode();V(y instanceof oe,"serverChildren would be complete if leaf node"),g=Af(i,y)}g=g,p=t.filter.updateFullNode(f,g,l)}else{const g=me(n);let y=Of(i,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=f.getImmediateChild(g)),y!=null?p=t.filter.updateChild(f,g,y,Pe(n),d,l):e.eventCache.getNode().hasChild(g)?p=t.filter.updateChild(f,g,oe.EMPTY_NODE,Pe(n),d,l):p=f,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=eu(i,hi(e)),u.isLeafNode()&&(p=t.filter.updateFullNode(p,u,l)))}return u=e.serverCache.isFullyInitialized()||tu(i,Ee())!=null,wo(e,p,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new Rf(i.getIndex()),l=gN(i);this.processor_=qN(l);const u=n.serverCache,d=n.eventCache,f=o.updateFullNode(oe.EMPTY_NODE,u.getNode(),null),p=l.updateFullNode(oe.EMPTY_NODE,d.getNode(),null),g=new br(f,u.isFullyInitialized(),o.filtersNodes()),y=new br(p,d.isFullyInitialized(),l.filtersNodes());this.viewCache_=yu(y,g),this.eventGenerator_=new xN(this.query_)}get query(){return this.query_}}function nP(t){return t.viewCache_.serverCache.getNode()}function rP(t){return Zl(t.viewCache_)}function iP(t,e){const n=hi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!he(e)&&!n.getImmediateChild(me(e)).isEmpty())?n.getChild(e):null}function __(t){return t.eventRegistrations_.length===0}function sP(t,e){t.eventRegistrations_.push(e)}function y_(t,e,n){const i=[];if(n){V(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(n,o);u&&i.push(u)})}if(e){let o=[];for(let l=0;l<t.eventRegistrations_.length;++l){const u=t.eventRegistrations_[l];if(!u.matches(e))o.push(u);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return i}function E_(t,e,n,i){e.type===ln.MERGE&&e.source.queryId!==null&&(V(hi(t.viewCache_),"We should always have a full cache before handling merges"),V(Zl(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,l=QN(t.processor_,o,e,n,i);return KN(t.processor_,l.viewCache),V(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,lE(t,l.changes,l.viewCache.eventCache.getNode(),null)}function oP(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(He,(l,u)=>{i.push(ts(l,u))}),n.isFullyInitialized()&&i.push(J0(n.getNode())),lE(t,i,n.getNode(),e)}function lE(t,e,n,i){const o=i?[i]:t.eventRegistrations_;return RN(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru;class uE{constructor(){this.views=new Map}}function aP(t){V(!ru,"__referenceConstructor has already been defined"),ru=t}function lP(){return V(ru,"Reference.ts has not been loaded"),ru}function uP(t){return t.views.size===0}function Df(t,e,n,i){const o=e.source.queryId;if(o!==null){const l=t.views.get(o);return V(l!=null,"SyncTree gave us an op for an invalid query."),E_(l,e,n,i)}else{let l=[];for(const u of t.views.values())l=l.concat(E_(u,e,n,i));return l}}function cE(t,e,n,i,o){const l=e._queryIdentifier,u=t.views.get(l);if(!u){let d=eu(n,o?i:null),f=!1;d?f=!0:i instanceof oe?(d=Af(n,i),f=!1):(d=oe.EMPTY_NODE,f=!1);const p=yu(new br(d,f,!1),new br(i,o,!1));return new tP(e,p)}return u}function cP(t,e,n,i,o,l){const u=cE(t,e,i,o,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),sP(u,n),oP(u,n)}function dP(t,e,n,i){const o=e._queryIdentifier,l=[];let u=[];const d=Ar(t);if(o==="default")for(const[f,p]of t.views.entries())u=u.concat(y_(p,n,i)),__(p)&&(t.views.delete(f),p.query._queryParams.loadsAllData()||l.push(p.query));else{const f=t.views.get(o);f&&(u=u.concat(y_(f,n,i)),__(f)&&(t.views.delete(o),f.query._queryParams.loadsAllData()||l.push(f.query)))}return d&&!Ar(t)&&l.push(new(lP())(e._repo,e._path)),{removed:l,events:u}}function dE(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function kr(t,e){let n=null;for(const i of t.views.values())n=n||iP(i,e);return n}function hE(t,e){if(e._queryParams.loadsAllData())return wu(t);{const i=e._queryIdentifier;return t.views.get(i)}}function fE(t,e){return hE(t,e)!=null}function Ar(t){return wu(t)!=null}function wu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu;function hP(t){V(!iu,"__referenceConstructor has already been defined"),iu=t}function fP(){return V(iu,"Reference.ts has not been loaded"),iu}let pP=1;class w_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ne(null),this.pendingWriteTree_=WN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pE(t,e,n,i,o){return bN(t.pendingWriteTree_,e,n,i,o),o?gs(t,new di(Nf(),e,n)):[]}function mP(t,e,n,i){AN(t.pendingWriteTree_,e,n,i);const o=Ne.fromObject(n);return gs(t,new ns(Nf(),e,o))}function Sr(t,e,n=!1){const i=ON(t.pendingWriteTree_,e);if(LN(t.pendingWriteTree_,e)){let l=new Ne(null);return i.snap!=null?l=l.set(Ee(),!0):at(i.children,u=>{l=l.set(new Te(u),!0)}),gs(t,new Jl(i.path,l,n))}else return[]}function na(t,e,n){return gs(t,new di(Pf(),e,n))}function gP(t,e,n){const i=Ne.fromObject(n);return gs(t,new ns(Pf(),e,i))}function vP(t,e){return gs(t,new Mo(Pf(),e))}function _P(t,e,n){const i=Ff(t,n);if(i){const o=Uf(i),l=o.path,u=o.queryId,d=Et(l,e),f=new Mo(bf(u),d);return Bf(t,l,f)}else return[]}function mE(t,e,n,i,o=!1){const l=e._path,u=t.syncPointTree_.get(l);let d=[];if(u&&(e._queryIdentifier==="default"||fE(u,e))){const f=dP(u,e,n,i);uP(u)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const p=f.removed;if(d=f.events,!o){const g=p.findIndex(v=>v._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(l,(v,S)=>Ar(S));if(g&&!y){const v=t.syncPointTree_.subtree(l);if(!v.isEmpty()){const S=SP(v);for(let w=0;w<S.length;++w){const R=S[w],A=R.query,P=yE(t,R);t.listenProvider_.startListening(Co(A),Fo(t,A),P.hashFn,P.onComplete)}}}!y&&p.length>0&&!i&&(g?t.listenProvider_.stopListening(Co(e),null):p.forEach(v=>{const S=t.queryToTagMap.get(Su(v));t.listenProvider_.stopListening(Co(v),S)}))}CP(t,p)}return d}function gE(t,e,n,i){const o=Ff(t,i);if(o!=null){const l=Uf(o),u=l.path,d=l.queryId,f=Et(u,e),p=new di(bf(d),f,n);return Bf(t,u,p)}else return[]}function yP(t,e,n,i){const o=Ff(t,i);if(o){const l=Uf(o),u=l.path,d=l.queryId,f=Et(u,e),p=Ne.fromObject(n),g=new ns(bf(d),f,p);return Bf(t,u,g)}else return[]}function EP(t,e,n,i=!1){const o=e._path;let l=null,u=!1;t.syncPointTree_.foreachOnPath(o,(v,S)=>{const w=Et(v,o);l=l||kr(S,w),u=u||Ar(S)});let d=t.syncPointTree_.get(o);d?(u=u||Ar(d),l=l||kr(d,Ee())):(d=new uE,t.syncPointTree_=t.syncPointTree_.set(o,d));let f;l!=null?f=!0:(f=!1,l=oe.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((S,w)=>{const R=kr(w,Ee());R&&(l=l.updateImmediateChild(S,R))}));const p=fE(d,e);if(!p&&!e._queryParams.loadsAllData()){const v=Su(e);V(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const S=IP();t.queryToTagMap.set(v,S),t.tagToQueryMap.set(S,v)}const g=Eu(t.pendingWriteTree_,o);let y=cP(d,e,n,g,l,f);if(!p&&!u&&!i){const v=hE(d,e);y=y.concat(TP(t,e,v))}return y}function Mf(t,e,n){const o=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(u,d)=>{const f=Et(u,e),p=kr(d,f);if(p)return p});return rE(o,e,l,n,!0)}function wP(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(p,g)=>{const y=Et(p,n);i=i||kr(g,y)});let o=t.syncPointTree_.get(n);o?i=i||kr(o,Ee()):(o=new uE,t.syncPointTree_=t.syncPointTree_.set(n,o));const l=i!=null,u=l?new br(i,!0,!1):null,d=Eu(t.pendingWriteTree_,e._path),f=cE(o,e,d,l?u.getNode():oe.EMPTY_NODE,l);return rP(f)}function gs(t,e){return vE(e,t.syncPointTree_,null,Eu(t.pendingWriteTree_,Ee()))}function vE(t,e,n,i){if(he(t.path))return _E(t,e,n,i);{const o=e.get(Ee());n==null&&o!=null&&(n=kr(o,Ee()));let l=[];const u=me(t.path),d=t.operationForChild(u),f=e.children.get(u);if(f&&d){const p=n?n.getImmediateChild(u):null,g=iE(i,u);l=l.concat(vE(d,f,p,g))}return o&&(l=l.concat(Df(o,t,i,n))),l}}function _E(t,e,n,i){const o=e.get(Ee());n==null&&o!=null&&(n=kr(o,Ee()));let l=[];return e.children.inorderTraversal((u,d)=>{const f=n?n.getImmediateChild(u):null,p=iE(i,u),g=t.operationForChild(u);g&&(l=l.concat(_E(g,d,f,p)))}),o&&(l=l.concat(Df(o,t,i,n))),l}function yE(t,e){const n=e.query,i=Fo(t,n);return{hashFn:()=>(nP(e)||oe.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return i?_P(t,n._path,i):vP(t,n._path);{const l=gk(o,n);return mE(t,n,null,l)}}}}function Fo(t,e){const n=Su(e);return t.queryToTagMap.get(n)}function Su(t){return t._path.toString()+"$"+t._queryIdentifier}function Ff(t,e){return t.tagToQueryMap.get(e)}function Uf(t){const e=t.indexOf("$");return V(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Te(t.substr(0,e))}}function Bf(t,e,n){const i=t.syncPointTree_.get(e);V(i,"Missing sync point for query tag that we're tracking");const o=Eu(t.pendingWriteTree_,e);return Df(i,n,o,null)}function SP(t){return t.fold((e,n,i)=>{if(n&&Ar(n))return[wu(n)];{let o=[];return n&&(o=dE(n)),at(i,(l,u)=>{o=o.concat(u)}),o}})}function Co(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(fP())(t._repo,t._path):t}function CP(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const o=Su(i),l=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(l)}}}function IP(){return pP++}function TP(t,e,n){const i=e._path,o=Fo(t,e),l=yE(t,n),u=t.listenProvider_.startListening(Co(e),o,l.hashFn,l.onComplete),d=t.syncPointTree_.subtree(i);if(o)V(!Ar(d.value),"If we're adding a query, it shouldn't be shadowed");else{const f=d.fold((p,g,y)=>{if(!he(p)&&g&&Ar(g))return[wu(g).query];{let v=[];return g&&(v=v.concat(dE(g).map(S=>S.query))),at(y,(S,w)=>{v=v.concat(w)}),v}});for(let p=0;p<f.length;++p){const g=f[p];t.listenProvider_.stopListening(Co(g),Fo(t,g))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Hf(n)}node(){return this.node_}}class jf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ze(this.path_,e);return new jf(this.syncTree_,n)}node(){return Mf(this.syncTree_,this.path_)}}const xP=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},S_=function(t,e,n){if(!t||typeof t!="object")return t;if(V(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return RP(t[".sv"],e,n);if(typeof t[".sv"]=="object")return kP(t[".sv"],e);V(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},RP=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:V(!1,"Unexpected server value: "+t)}},kP=function(t,e,n){t.hasOwnProperty("increment")||V(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&V(!1,"Unexpected increment value: "+i);const o=e.node();if(V(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const u=o.getValue();return typeof u!="number"?i:u+i},EE=function(t,e,n,i){return zf(e,new jf(n,t),i)},wE=function(t,e,n){return zf(t,new Hf(e),n)};function zf(t,e,n){const i=t.getPriority().val(),o=S_(i,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const u=t,d=S_(u.getValue(),e,n);return d!==u.getValue()||o!==u.getPriority().val()?new et(d,Ke(o)):t}else{const u=t;return l=u,o!==u.getPriority().val()&&(l=l.updatePriority(new et(o))),u.forEachChild(He,(d,f)=>{const p=zf(f,e.getImmediateChild(d),n);p!==f&&(l=l.updateImmediateChild(d,p))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Vf(t,e){let n=e instanceof Te?e:new Te(e),i=t,o=me(n);for(;o!==null;){const l=Zi(i.node.children,o)||{children:{},childCount:0};i=new Wf(o,i,l),n=Pe(n),o=me(n)}return i}function vs(t){return t.node.value}function SE(t,e){t.node.value=e,Ph(t)}function CE(t){return t.node.childCount>0}function NP(t){return vs(t)===void 0&&!CE(t)}function Cu(t,e){at(t.node.children,(n,i)=>{e(new Wf(n,t,i))})}function IE(t,e,n,i){n&&e(t),Cu(t,o=>{IE(o,e,!0)})}function PP(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function ra(t){return new Te(t.parent===null?t.name:ra(t.parent)+"/"+t.name)}function Ph(t){t.parent!==null&&bP(t.parent,t.name,t)}function bP(t,e,n){const i=NP(n),o=Rn(t.node.children,e);i&&o?(delete t.node.children[e],t.node.childCount--,Ph(t)):!i&&!o&&(t.node.children[e]=n.node,t.node.childCount++,Ph(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=/[\[\].#$\/\u0000-\u001F\u007F]/,OP=/[\[\].#$\u0000-\u001F\u007F]/,Gd=10*1024*1024,$f=function(t){return typeof t=="string"&&t.length!==0&&!AP.test(t)},TE=function(t){return typeof t=="string"&&t.length!==0&&!OP.test(t)},LP=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),TE(t)},bh=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!_f(t)||t&&typeof t=="object"&&Rn(t,".sv")},ia=function(t,e,n,i){i&&e===void 0||Iu(fu(t,"value"),e,n)},Iu=function(t,e,n){const i=n instanceof Te?new Yk(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ei(i));if(typeof e=="function")throw new Error(t+"contains a function "+ei(i)+" with contents = "+e.toString());if(_f(e))throw new Error(t+"contains "+e.toString()+" "+ei(i));if(typeof e=="string"&&e.length>Gd/3&&pu(e)>Gd)throw new Error(t+"contains a string greater than "+Gd+" utf8 bytes "+ei(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,l=!1;if(at(e,(u,d)=>{if(u===".value")o=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!$f(u)))throw new Error(t+" contains an invalid key ("+u+") "+ei(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Xk(i,u),Iu(t,d,i),Jk(i)}),o&&l)throw new Error(t+' contains ".value" child '+ei(i)+" in addition to actual children.")}},DP=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const l=Ao(i);for(let u=0;u<l.length;u++)if(!(l[u]===".priority"&&u===l.length-1)){if(!$f(l[u]))throw new Error(t+"contains an invalid key ("+l[u]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Qk);let o=null;for(n=0;n<e.length;n++){if(i=e[n],o!==null&&qt(o,i))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}},MP=function(t,e,n,i){const o=fu(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const l=[];at(e,(u,d)=>{const f=new Te(u);if(Iu(o,d,ze(n,f)),Cf(f)===".priority"&&!bh(d))throw new Error(o+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(f)}),DP(o,l)},Gf=function(t,e,n,i){if(!TE(n))throw new Error(fu(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},FP=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Gf(t,e,n)},xE=function(t,e){if(me(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},UP=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!$f(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!LP(n))throw new Error(fu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function qf(t,e){let n=null;for(let i=0;i<e.length;i++){const o=e[i],l=o.getPath();n!==null&&!V0(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(o)}n&&t.eventLists_.push(n)}function Kt(t,e,n){qf(t,n),HP(t,i=>qt(i,e)||qt(e,i))}function HP(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const o=t.eventLists_[i];if(o){const l=o.path;e(l)?(jP(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function jP(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();yo&&ot("event: "+n.toString()),ms(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="repo_interrupt",WP=25;class VP{constructor(e,n,i,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new BP,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xl(),this.transactionQueueTree_=new Wf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $P(t,e,n){if(t.stats_=wf(t.repoInfo_),t.forceRestClient_||Ek())t.server_=new Yl(t.repoInfo_,(i,o,l,u)=>{C_(t,i,o,l,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>I_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qe(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new zn(t.repoInfo_,e,(i,o,l,u)=>{C_(t,i,o,l,u)},i=>{I_(t,i)},i=>{GP(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=Tk(t.repoInfo_,()=>new TN(t.stats_,t.server_)),t.infoData_=new EN,t.infoSyncTree_=new w_({startListening:(i,o,l,u)=>{let d=[];const f=t.infoData_.getNode(i._path);return f.isEmpty()||(d=na(t.infoSyncTree_,i._path,f),setTimeout(()=>{u("ok")},0)),d},stopListening:()=>{}}),Kf(t,"connected",!1),t.serverSyncTree_=new w_({startListening:(i,o,l,u)=>(t.server_.listen(i,l,o,(d,f)=>{const p=u(d,f);Kt(t.eventQueue_,i._path,p)}),[]),stopListening:(i,o)=>{t.server_.unlisten(i,o)}})}function RE(t){const n=t.infoData_.getNode(new Te(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Tu(t){return xP({timestamp:RE(t)})}function C_(t,e,n,i,o){t.dataUpdateCount++;const l=new Te(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(o)if(i){const f=Hl(n,p=>Ke(p));u=yP(t.serverSyncTree_,l,f,o)}else{const f=Ke(n);u=gE(t.serverSyncTree_,l,f,o)}else if(i){const f=Hl(n,p=>Ke(p));u=gP(t.serverSyncTree_,l,f)}else{const f=Ke(n);u=na(t.serverSyncTree_,l,f)}let d=l;u.length>0&&(d=is(t,l)),Kt(t.eventQueue_,d,u)}function I_(t,e){Kf(t,"connected",e),e===!1&&YP(t)}function GP(t,e){at(e,(n,i)=>{Kf(t,n,i)})}function Kf(t,e,n){const i=new Te("/.info/"+e),o=Ke(n);t.infoData_.updateSnapshot(i,o);const l=na(t.infoSyncTree_,i,o);Kt(t.eventQueue_,i,l)}function Qf(t){return t.nextWriteId_++}function qP(t,e,n){const i=wP(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(o=>{const l=Ke(o).withIndex(e._queryParams.getIndex());EP(t.serverSyncTree_,e,n,!0);let u;if(e._queryParams.loadsAllData())u=na(t.serverSyncTree_,e._path,l);else{const d=Fo(t.serverSyncTree_,e);u=gE(t.serverSyncTree_,e._path,l,d)}return Kt(t.eventQueue_,e._path,u),mE(t.serverSyncTree_,e,n,null,!0),l},o=>(sa(t,"get for query "+Qe(e)+" failed: "+o),Promise.reject(new Error(o))))}function KP(t,e,n,i,o){sa(t,"set",{path:e.toString(),value:n,priority:i});const l=Tu(t),u=Ke(n,i),d=Mf(t.serverSyncTree_,e),f=wE(u,d,l),p=Qf(t),g=pE(t.serverSyncTree_,e,f,p,!0);qf(t.eventQueue_,g),t.server_.put(e.toString(),u.val(!0),(v,S)=>{const w=v==="ok";w||wt("set at "+e+" failed: "+v);const R=Sr(t.serverSyncTree_,p,!w);Kt(t.eventQueue_,e,R),Ah(t,o,v,S)});const y=Xf(t,e);is(t,y),Kt(t.eventQueue_,y,[])}function QP(t,e,n,i){sa(t,"update",{path:e.toString(),value:n});let o=!0;const l=Tu(t),u={};if(at(n,(d,f)=>{o=!1,u[d]=EE(ze(e,d),Ke(f),t.serverSyncTree_,l)}),o)ot("update() called with empty data.  Don't do anything."),Ah(t,i,"ok",void 0);else{const d=Qf(t),f=mP(t.serverSyncTree_,e,u,d);qf(t.eventQueue_,f),t.server_.merge(e.toString(),n,(p,g)=>{const y=p==="ok";y||wt("update at "+e+" failed: "+p);const v=Sr(t.serverSyncTree_,d,!y),S=v.length>0?is(t,e):e;Kt(t.eventQueue_,S,v),Ah(t,i,p,g)}),at(n,p=>{const g=Xf(t,ze(e,p));is(t,g)}),Kt(t.eventQueue_,e,[])}}function YP(t){sa(t,"onDisconnectEvents");const e=Tu(t),n=Xl();Ih(t.onDisconnect_,Ee(),(o,l)=>{const u=EE(o,l,t.serverSyncTree_,e);Z0(n,o,u)});let i=[];Ih(n,Ee(),(o,l)=>{i=i.concat(na(t.serverSyncTree_,o,l));const u=Xf(t,o);is(t,u)}),t.onDisconnect_=Xl(),Kt(t.eventQueue_,Ee(),i)}function XP(t){t.persistentConnection_&&t.persistentConnection_.interrupt(zP)}function sa(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ot(n,...e)}function Ah(t,e,n,i){e&&ms(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let l=o;i&&(l+=": "+i);const u=new Error(l);u.code=o,e(u)}})}function kE(t,e,n){return Mf(t.serverSyncTree_,e,n)||oe.EMPTY_NODE}function Yf(t,e=t.transactionQueueTree_){if(e||xu(t,e),vs(e)){const n=PE(t,e);V(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&JP(t,ra(e),n)}else CE(e)&&Cu(e,n=>{Yf(t,n)})}function JP(t,e,n){const i=n.map(p=>p.currentWriteId),o=kE(t,e,i);let l=o;const u=o.hash();for(let p=0;p<n.length;p++){const g=n[p];V(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=Et(e,g.path);l=l.updateChild(y,g.currentOutputSnapshotRaw)}const d=l.val(!0),f=e;t.server_.put(f.toString(),d,p=>{sa(t,"transaction put response",{path:f.toString(),status:p});let g=[];if(p==="ok"){const y=[];for(let v=0;v<n.length;v++)n[v].status=2,g=g.concat(Sr(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&y.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();xu(t,Vf(t.transactionQueueTree_,e)),Yf(t,t.transactionQueueTree_),Kt(t.eventQueue_,e,g);for(let v=0;v<y.length;v++)ms(y[v])}else{if(p==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{wt("transaction at "+f.toString()+" failed: "+p);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=p}is(t,e)}},u)}function is(t,e){const n=NE(t,e),i=ra(n),o=PE(t,n);return ZP(t,o,i),i}function ZP(t,e,n){if(e.length===0)return;const i=[];let o=[];const u=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const f=e[d],p=Et(n,f.path);let g=!1,y;if(V(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)g=!0,y=f.abortReason,o=o.concat(Sr(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=WP)g=!0,y="maxretry",o=o.concat(Sr(t.serverSyncTree_,f.currentWriteId,!0));else{const v=kE(t,f.path,u);f.currentInputSnapshot=v;const S=e[d].update(v.val());if(S!==void 0){Iu("transaction failed: Data returned ",S,f.path);let w=Ke(S);typeof S=="object"&&S!=null&&Rn(S,".priority")||(w=w.updatePriority(v.getPriority()));const A=f.currentWriteId,P=Tu(t),D=wE(w,v,P);f.currentOutputSnapshotRaw=w,f.currentOutputSnapshotResolved=D,f.currentWriteId=Qf(t),u.splice(u.indexOf(A),1),o=o.concat(pE(t.serverSyncTree_,f.path,D,f.currentWriteId,f.applyLocally)),o=o.concat(Sr(t.serverSyncTree_,A,!0))}else g=!0,y="nodata",o=o.concat(Sr(t.serverSyncTree_,f.currentWriteId,!0))}Kt(t.eventQueue_,n,o),o=[],g&&(e[d].status=2,function(v){setTimeout(v,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(y==="nodata"?i.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):i.push(()=>e[d].onComplete(new Error(y),!1,null))))}xu(t,t.transactionQueueTree_);for(let d=0;d<i.length;d++)ms(i[d]);Yf(t,t.transactionQueueTree_)}function NE(t,e){let n,i=t.transactionQueueTree_;for(n=me(e);n!==null&&vs(i)===void 0;)i=Vf(i,n),e=Pe(e),n=me(e);return i}function PE(t,e){const n=[];return bE(t,e,n),n.sort((i,o)=>i.order-o.order),n}function bE(t,e,n){const i=vs(e);if(i)for(let o=0;o<i.length;o++)n.push(i[o]);Cu(e,o=>{bE(t,o,n)})}function xu(t,e){const n=vs(e);if(n){let i=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[i]=n[o],i++);n.length=i,SE(e,n.length>0?n:void 0)}Cu(e,i=>{xu(t,i)})}function Xf(t,e){const n=ra(NE(t,e)),i=Vf(t.transactionQueueTree_,e);return PP(i,o=>{qd(t,o)}),qd(t,i),IE(i,o=>{qd(t,o)}),n}function qd(t,e){const n=vs(e);if(n){const i=[];let o=[],l=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(V(l===u-1,"All SENT items should be at beginning of queue."),l=u,n[u].status=3,n[u].abortReason="set"):(V(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),o=o.concat(Sr(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&i.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?SE(e,void 0):n.length=l+1,Kt(t.eventQueue_,ra(e),o);for(let u=0;u<i.length;u++)ms(i[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let o=n[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function tb(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):wt(`Invalid query segment '${n}' in query '${t}'`)}return e}const T_=function(t,e){const n=nb(t),i=n.namespace;n.domain==="firebase.com"&&Kn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Kn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||dk();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new L0(n.host,n.secure,i,o,e,"",i!==n.subdomain),path:new Te(n.pathString)}},nb=function(t){let e="",n="",i="",o="",l="",u=!0,d="https",f=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(d=t.substring(0,p-1),t=t.substring(p+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(o=eb(t.substring(g,y)));const v=tb(t.substring(Math.min(t.length,y)));p=e.indexOf(":"),p>=0?(u=d==="https"||d==="wss",f=parseInt(e.substring(p+1),10)):p=e.length;const S=e.slice(0,p);if(S.toLowerCase()==="localhost")n="localhost";else if(S.split(".").length<=2)n=S;else{const w=e.indexOf(".");i=e.substring(0,w).toLowerCase(),n=e.substring(w+1),l=i}"ns"in v&&(l=v.ns)}return{host:e,port:f,domain:n,subdomain:i,secure:u,scheme:d,pathString:o,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",rb=function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let o;const l=new Array(8);for(o=7;o>=0;o--)l[o]=x_.charAt(n%64),n=Math.floor(n/64);V(n===0,"Cannot push at time == 0");let u=l.join("");if(i){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)u+=x_.charAt(e[o]);return V(u.length===20,"nextPushId: Length should be 20."),u}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n,i,o){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Qe(this.snapshot.exportVal())}}class sb{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return V(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,i,o){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=o}get key(){return he(this._path)?null:Cf(this._path)}get ref(){return new Yn(this._repo,this._path)}get _queryIdentifier(){const e=d_(this._queryParams),n=yf(e);return n==="{}"?"default":n}get _queryObject(){return d_(this._queryParams)}isEqual(e){if(e=lt(e),!(e instanceof _s))return!1;const n=this._repo===e._repo,i=V0(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&i&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+Kk(this._path)}}function ab(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Jf(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===ii){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==ci)throw new Error(i);if(typeof e!="string")throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==Nr)throw new Error(i);if(typeof n!="string")throw new Error(o)}}else if(t.getIndex()===He){if(e!=null&&!bh(e)||n!=null&&!bh(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(V(t.getIndex()instanceof xf||t.getIndex()===X0,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function AE(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Yn extends _s{constructor(e,n){super(e,n,new kf,!1)}get parent(){const e=W0(this._path);return e===null?null:new Yn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Uo{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Te(e),i=Bo(this.ref,e);return new Uo(this._node.getChild(n),i,He)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,o)=>e(new Uo(o,Bo(this.ref,i),He)))}hasChild(e){const n=new Te(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function un(t,e){return t=lt(t),t._checkNotDeleted("ref"),e!==void 0?Bo(t._root,e):t._root}function Bo(t,e){return t=lt(t),me(t._path)===null?FP("child","path",e):Gf("child","path",e),new Yn(t._repo,ze(t._path,e))}function lb(t,e){t=lt(t),xE("push",t._path),ia("push",e,t._path,!0);const n=RE(t._repo),i=rb(n),o=Bo(t,i),l=Bo(t,i);let u;return e!=null?u=OE(l,e).then(()=>l):u=Promise.resolve(l),o.then=u.then.bind(u),o.catch=u.then.bind(u,void 0),o}function OE(t,e){t=lt(t),xE("set",t._path),ia("set",e,t._path,!1);const n=new Go;return KP(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Ru(t,e){MP("update",e,t._path);const n=new Go;return QP(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Ho(t){t=lt(t);const e=new ob(()=>{}),n=new Zf(e);return qP(t._repo,t,n).then(i=>new Uo(i,new Yn(t._repo,t._path),t._queryParams.getIndex()))}class Zf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new ib("value",this,new Uo(e.snapshotNode,new Yn(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new sb(this,e,n):null}matches(e){return e instanceof Zf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class ku{}class ub extends ku{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){ia("endAt",this._value,e._path,!0);const n=_N(e._queryParams,this._value,this._key);if(AE(n),Jf(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new _s(e._repo,e._path,n,e._orderByCalled)}}class cb extends ku{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){ia("startAt",this._value,e._path,!0);const n=vN(e._queryParams,this._value,this._key);if(AE(n),Jf(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new _s(e._repo,e._path,n,e._orderByCalled)}}class db extends ku{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){ab(e,"orderByChild");const n=new Te(this._path);if(he(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new xf(n),o=yN(e._queryParams,i);return Jf(o),new _s(e._repo,e._path,o,!0)}}function LE(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Gf("orderByChild","path",t),new db(t)}class hb extends ku{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(ia("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ub(this._value,this._key)._apply(new cb(this._value,this._key)._apply(e))}}function fb(t,e){return new hb(t,e)}function DE(t,...e){let n=lt(t);for(const i of e)n=i._apply(n);return n}aP(Yn);hP(Yn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="FIREBASE_DATABASE_EMULATOR_HOST",Oh={};let mb=!1;function gb(t,e,n,i){const o=e.lastIndexOf(":"),l=e.substring(0,o),u=qo(l);t.repoInfo_=new L0(e,u,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function vb(t,e,n,i,o){let l=i||t.options.databaseURL;l===void 0&&(t.options.projectId||Kn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ot("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=T_(l,o),d=u.repoInfo,f;typeof process<"u"&&qv&&(f=qv[pb]),f?(l=`http://${f}?ns=${d.namespace}`,u=T_(l,o),d=u.repoInfo):u.repoInfo.secure;const p=new Sk(t.name,t.options,e);UP("Invalid Firebase Database URL",u),he(u.path)||Kn("Database URL must point to the root of a Firebase Database (not including a child path).");const g=yb(d,t,p,new wk(t,n));return new Eb(g,t)}function _b(t,e){const n=Oh[e];(!n||n[t.key]!==t)&&Kn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),XP(t),delete n[t.key]}function yb(t,e,n,i){let o=Oh[e.name];o||(o={},Oh[e.name]=o);let l=o[t.toURLString()];return l&&Kn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new VP(t,mb,n,i),o[t.toURLString()]=l,l}class Eb{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($P(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yn(this._repo,Ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(_b(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Kn("Cannot call "+e+" on a deleted database.")}}function cn(t=Fy(),e){const n=uf(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=fT("database");i&&wb(n,...i)}return n}function wb(t,e,n,i={}){t=lt(t),t._checkNotDeleted("useEmulator");const o=`${e}:${n}`,l=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&oi(i,l.repoInfo_.emulatorOptions))return;Kn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(l.repoInfo_.nodeAdmin)i.mockUserToken&&Kn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Ll(Ll.OWNER);else if(i.mockUserToken){const d=typeof i.mockUserToken=="string"?i.mockUserToken:pT(i.mockUserToken,t.app.options.projectId);u=new Ll(d)}qo(e)&&(Py(e),by("Database",!0)),gb(l,o,i,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t){sk(fs),es(new ai("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return vb(i,o,l,n)},"PUBLIC").setMultipleInstances(!0)),xr(Kv,Qv,t),xr(Kv,Qv,"esm2017")}zn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};zn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Sb();class Cb{async getUserRoles(e){const n=cn(Gt),i=un(n,`users/${e}/roles`),o=await Ho(i);if(o.exists()){const l=o.val(),u=[];return l.admin===!0&&u.push(Cr.ADMIN),u.length===0&&u.push(Cr.USER),u}return[Cr.USER]}async setUserRoles(e,n){const i=cn(Gt),o=un(i,`users/${e}`);try{await OE(o,n),console.log("User roles set successfully for UID:",e)}catch(l){throw console.error("Error setting user roles:",l),l}}}const fo=ek(Gt);class Ib{constructor(){$i(this,"databaseService");this.databaseService=new Cb}signIn(e,n){return Bx(fo,e,n)}signUp(e,n){return Ux(fo,e,n)}signOut(){return Wx(fo)}onAuthStateChanged(e){return zx(fo,e)}getCurrentUser(){return fo.currentUser}async getUserRoles(e){return e.email==="ricf1@mscloud.ua.es"?[Cr.ADMIN]:this.databaseService.getUserRoles(e.uid)}async setUserRoles(e,n){try{await this.databaseService.setUserRoles(e,{email:n.email,roles:{admin:!1}}),console.log("Roles de usuario establecidos correctamente.")}catch(i){throw console.error("Error al establecer roles de usuario:",i),i}}}const ss=new Ib;var Kd={exports:{}},Qd={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function Tb(){if(R_)return Qd;R_=1;var t=cu();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,o=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return Qd.useSyncExternalStoreWithSelector=function(f,p,g,y,v){var S=o(null);if(S.current===null){var w={hasValue:!1,value:null};S.current=w}else w=S.current;S=u(function(){function A(O){if(!P){if(P=!0,D=O,O=y(O),v!==void 0&&w.hasValue){var $=w.value;if(v($,O))return M=$}return M=O}if($=M,n(D,O))return $;var X=y(O);return v!==void 0&&v($,X)?(D=O,$):(D=O,M=X)}var P=!1,D,M,z=g===void 0?null:g;return[function(){return A(p())},z===null?void 0:function(){return A(z())}]},[p,g,y,v]);var R=i(f,S[0],S[1]);return l(function(){w.hasValue=!0,w.value=R},[R]),d(R),R},Qd}var k_;function xb(){return k_||(k_=1,Kd.exports=Tb()),Kd.exports}var Rb=xb();function kb(t){t()}function Nb(){let t=null,e=null;return{clear(){t=null,e=null},notify(){kb(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const o=e={callback:n,next:null,prev:e};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var N_={notify(){},get:()=>[]};function Pb(t,e){let n,i=N_,o=0,l=!1;function u(R){g();const A=i.subscribe(R);let P=!1;return()=>{P||(P=!0,A(),y())}}function d(){i.notify()}function f(){w.onStateChange&&w.onStateChange()}function p(){return l}function g(){o++,n||(n=t.subscribe(f),i=Nb())}function y(){o--,n&&o===0&&(n(),n=void 0,i.clear(),i=N_)}function v(){l||(l=!0,g())}function S(){l&&(l=!1,y())}const w={addNestedSub:u,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:p,trySubscribe:v,tryUnsubscribe:S,getListeners:()=>i};return w}var bb=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ab=bb(),Ob=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Lb=Ob(),Db=()=>Ab||Lb?k.useLayoutEffect:k.useEffect,Mb=Db(),Yd=Symbol.for("react-redux-context"),Xd=typeof globalThis<"u"?globalThis:{};function Fb(){if(!k.createContext)return{};const t=Xd[Yd]??(Xd[Yd]=new Map);let e=t.get(k.createContext);return e||(e=k.createContext(null),t.set(k.createContext,e)),e}var Or=Fb();function Ub(t){const{children:e,context:n,serverState:i,store:o}=t,l=k.useMemo(()=>{const f=Pb(o);return{store:o,subscription:f,getServerState:i?()=>i:void 0}},[o,i]),u=k.useMemo(()=>o.getState(),[o]);Mb(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),u!==o.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,u]);const d=n||Or;return k.createElement(d.Provider,{value:l},e)}var Bb=Ub;function ep(t=Or){return function(){return k.useContext(t)}}var ME=ep();function FE(t=Or){const e=t===Or?ME:ep(t),n=()=>{const{store:i}=e();return i};return Object.assign(n,{withTypes:()=>n}),n}var Hb=FE();function jb(t=Or){const e=t===Or?Hb:FE(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var zb=jb(),Wb=(t,e)=>t===e;function Vb(t=Or){const e=t===Or?ME:ep(t),n=(i,o={})=>{const{equalityFn:l=Wb}=typeof o=="function"?{equalityFn:o}:o,u=e(),{store:d,subscription:f,getServerState:p}=u;k.useRef(!0);const g=k.useCallback({[i.name](v){return i(v)}}[i.name],[i]),y=Rb.useSyncExternalStoreWithSelector(f.addNestedSub,d.getState,p||d.getState,g,l);return k.useDebugValue(y),y};return Object.assign(n,{withTypes:()=>n}),n}var $b=Vb();const Nu=zb,fi=$b;function st(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Gb=typeof Symbol=="function"&&Symbol.observable||"@@observable",P_=Gb,Jd=()=>Math.random().toString(36).substring(7).split("").join("."),qb={INIT:`@@redux/INIT${Jd()}`,REPLACE:`@@redux/REPLACE${Jd()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Jd()}`},su=qb;function tp(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function UE(t,e,n){if(typeof t!="function")throw new Error(st(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(st(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(st(1));return n(UE)(t,e)}let i=t,o=e,l=new Map,u=l,d=0,f=!1;function p(){u===l&&(u=new Map,l.forEach((A,P)=>{u.set(P,A)}))}function g(){if(f)throw new Error(st(3));return o}function y(A){if(typeof A!="function")throw new Error(st(4));if(f)throw new Error(st(5));let P=!0;p();const D=d++;return u.set(D,A),function(){if(P){if(f)throw new Error(st(6));P=!1,p(),u.delete(D),l=null}}}function v(A){if(!tp(A))throw new Error(st(7));if(typeof A.type>"u")throw new Error(st(8));if(typeof A.type!="string")throw new Error(st(17));if(f)throw new Error(st(9));try{f=!0,o=i(o,A)}finally{f=!1}return(l=u).forEach(D=>{D()}),A}function S(A){if(typeof A!="function")throw new Error(st(10));i=A,v({type:su.REPLACE})}function w(){const A=y;return{subscribe(P){if(typeof P!="object"||P===null)throw new Error(st(11));function D(){const z=P;z.next&&z.next(g())}return D(),{unsubscribe:A(D)}},[P_](){return this}}}return v({type:su.INIT}),{dispatch:v,subscribe:y,getState:g,replaceReducer:S,[P_]:w}}function Kb(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:su.INIT})>"u")throw new Error(st(12));if(typeof n(void 0,{type:su.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(st(13))})}function Qb(t){const e=Object.keys(t),n={};for(let l=0;l<e.length;l++){const u=e[l];typeof t[u]=="function"&&(n[u]=t[u])}const i=Object.keys(n);let o;try{Kb(n)}catch(l){o=l}return function(u={},d){if(o)throw o;let f=!1;const p={};for(let g=0;g<i.length;g++){const y=i[g],v=n[y],S=u[y],w=v(S,d);if(typeof w>"u")throw d&&d.type,new Error(st(14));p[y]=w,f=f||w!==S}return f=f||i.length!==Object.keys(u).length,f?p:u}}function ou(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function Yb(...t){return e=>(n,i)=>{const o=e(n,i);let l=()=>{throw new Error(st(15))};const u={getState:o.getState,dispatch:(f,...p)=>l(f,...p)},d=t.map(f=>f(u));return l=ou(...d)(o.dispatch),{...o,dispatch:l}}}function Xb(t){return tp(t)&&"type"in t&&typeof t.type=="string"}var BE=Symbol.for("immer-nothing"),b_=Symbol.for("immer-draftable"),Mt=Symbol.for("immer-state");function on(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var os=Object.getPrototypeOf;function pi(t){return!!t&&!!t[Mt]}function Qn(t){var e;return t?HE(t)||Array.isArray(t)||!!t[b_]||!!((e=t.constructor)!=null&&e[b_])||bu(t)||Au(t):!1}var Jb=Object.prototype.constructor.toString();function HE(t){if(!t||typeof t!="object")return!1;const e=os(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Jb}function au(t,e){Pu(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function Pu(t){const e=t[Mt];return e?e.type_:Array.isArray(t)?1:bu(t)?2:Au(t)?3:0}function Lh(t,e){return Pu(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function jE(t,e,n){const i=Pu(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function Zb(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function bu(t){return t instanceof Map}function Au(t){return t instanceof Set}function ti(t){return t.copy_||t.base_}function Dh(t,e){if(bu(t))return new Map(t);if(Au(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=HE(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[Mt];let o=Reflect.ownKeys(i);for(let l=0;l<o.length;l++){const u=o[l],d=i[u];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(i[u]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[u]})}return Object.create(os(t),i)}else{const i=os(t);if(i!==null&&n)return{...t};const o=Object.create(i);return Object.assign(o,t)}}function np(t,e=!1){return Ou(t)||pi(t)||!Qn(t)||(Pu(t)>1&&(t.set=t.add=t.clear=t.delete=eA),Object.freeze(t),e&&Object.entries(t).forEach(([n,i])=>np(i,!0))),t}function eA(){on(2)}function Ou(t){return Object.isFrozen(t)}var tA={};function mi(t){const e=tA[t];return e||on(0,t),e}var jo;function zE(){return jo}function nA(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function A_(t,e){e&&(mi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Mh(t){Fh(t),t.drafts_.forEach(rA),t.drafts_=null}function Fh(t){t===jo&&(jo=t.parent_)}function O_(t){return jo=nA(jo,t)}function rA(t){const e=t[Mt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function L_(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Mt].modified_&&(Mh(e),on(4)),Qn(t)&&(t=lu(e,t),e.parent_||uu(e,t)),e.patches_&&mi("Patches").generateReplacementPatches_(n[Mt].base_,t,e.patches_,e.inversePatches_)):t=lu(e,n,[]),Mh(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==BE?t:void 0}function lu(t,e,n){if(Ou(e))return e;const i=e[Mt];if(!i)return au(e,(o,l)=>D_(t,i,e,o,l,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return uu(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let l=o,u=!1;i.type_===3&&(l=new Set(o),o.clear(),u=!0),au(l,(d,f)=>D_(t,i,o,d,f,n,u)),uu(t,o,!1),n&&t.patches_&&mi("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function D_(t,e,n,i,o,l,u){if(pi(o)){const d=l&&e&&e.type_!==3&&!Lh(e.assigned_,i)?l.concat(i):void 0,f=lu(t,o,d);if(jE(n,i,f),pi(f))t.canAutoFreeze_=!1;else return}else u&&n.add(o);if(Qn(o)&&!Ou(o)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;lu(t,o),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&uu(t,o)}}function uu(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&np(e,n)}function iA(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:zE(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=i,l=rp;n&&(o=[i],l=zo);const{revoke:u,proxy:d}=Proxy.revocable(o,l);return i.draft_=d,i.revoke_=u,d}var rp={get(t,e){if(e===Mt)return t;const n=ti(t);if(!Lh(n,e))return sA(t,n,e);const i=n[e];return t.finalized_||!Qn(i)?i:i===Zd(t.base_,e)?(eh(t),t.copy_[e]=Bh(i,t)):i},has(t,e){return e in ti(t)},ownKeys(t){return Reflect.ownKeys(ti(t))},set(t,e,n){const i=WE(ti(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const o=Zd(ti(t),e),l=o==null?void 0:o[Mt];if(l&&l.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Zb(n,o)&&(n!==void 0||Lh(t.base_,e)))return!0;eh(t),Uh(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Zd(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,eh(t),Uh(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ti(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){on(11)},getPrototypeOf(t){return os(t.base_)},setPrototypeOf(){on(12)}},zo={};au(rp,(t,e)=>{zo[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});zo.deleteProperty=function(t,e){return zo.set.call(this,t,e,void 0)};zo.set=function(t,e,n){return rp.set.call(this,t[0],e,n,t[0])};function Zd(t,e){const n=t[Mt];return(n?ti(n):t)[e]}function sA(t,e,n){var o;const i=WE(e,n);return i?"value"in i?i.value:(o=i.get)==null?void 0:o.call(t.draft_):void 0}function WE(t,e){if(!(e in t))return;let n=os(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=os(n)}}function Uh(t){t.modified_||(t.modified_=!0,t.parent_&&Uh(t.parent_))}function eh(t){t.copy_||(t.copy_=Dh(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var oA=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const l=n;n=e;const u=this;return function(f=l,...p){return u.produce(f,g=>n.call(this,g,...p))}}typeof n!="function"&&on(6),i!==void 0&&typeof i!="function"&&on(7);let o;if(Qn(e)){const l=O_(this),u=Bh(e,void 0);let d=!0;try{o=n(u),d=!1}finally{d?Mh(l):Fh(l)}return A_(l,i),L_(o,l)}else if(!e||typeof e!="object"){if(o=n(e),o===void 0&&(o=e),o===BE&&(o=void 0),this.autoFreeze_&&np(o,!0),i){const l=[],u=[];mi("Patches").generateReplacementPatches_(e,o,l,u),i(l,u)}return o}else on(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(u,...d)=>this.produceWithPatches(u,f=>e(f,...d));let i,o;return[this.produce(e,n,(u,d)=>{i=u,o=d}),i,o]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Qn(t)||on(8),pi(t)&&(t=aA(t));const e=O_(this),n=Bh(t,void 0);return n[Mt].isManual_=!0,Fh(e),n}finishDraft(t,e){const n=t&&t[Mt];(!n||!n.isManual_)&&on(9);const{scope_:i}=n;return A_(i,e),L_(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const o=e[n];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}n>-1&&(e=e.slice(n+1));const i=mi("Patches").applyPatches_;return pi(t)?i(t,e):this.produce(t,o=>i(o,e))}};function Bh(t,e){const n=bu(t)?mi("MapSet").proxyMap_(t,e):Au(t)?mi("MapSet").proxySet_(t,e):iA(t,e);return(e?e.scope_:zE()).drafts_.push(n),n}function aA(t){return pi(t)||on(10,t),VE(t)}function VE(t){if(!Qn(t)||Ou(t))return t;const e=t[Mt];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Dh(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Dh(t,!0);return au(n,(i,o)=>{jE(n,i,VE(o))}),e&&(e.finalized_=!1),n}var Ft=new oA,$E=Ft.produce;Ft.produceWithPatches.bind(Ft);Ft.setAutoFreeze.bind(Ft);Ft.setUseStrictShallowCopy.bind(Ft);Ft.applyPatches.bind(Ft);Ft.createDraft.bind(Ft);Ft.finishDraft.bind(Ft);function GE(t){return({dispatch:n,getState:i})=>o=>l=>typeof l=="function"?l(n,i,t):o(l)}var lA=GE(),uA=GE,cA=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ou:ou.apply(null,arguments)},dA=t=>t&&typeof t.match=="function";function Io(t,e){function n(...i){if(e){let o=e(...i);if(!o)throw new Error(Wn(0));return{type:t,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>Xb(i)&&i.type===t,n}var qE=class go extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,go.prototype)}static get[Symbol.species](){return go}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new go(...e[0].concat(this)):new go(...e.concat(this))}};function M_(t){return Qn(t)?$E(t,()=>{}):t}function Il(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function hA(t){return typeof t=="boolean"}var fA=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:o=!0,actionCreatorCheck:l=!0}=e??{};let u=new qE;return n&&(hA(n)?u.push(lA):u.push(uA(n.extraArgument))),u},pA="RTK_autoBatch",F_=t=>e=>{setTimeout(e,t)},mA=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let o=!0,l=!1,u=!1;const d=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:F_(10):t.type==="callback"?t.queueNotification:F_(t.timeout),p=()=>{u=!1,l&&(l=!1,d.forEach(g=>g()))};return Object.assign({},i,{subscribe(g){const y=()=>o&&g(),v=i.subscribe(y);return d.add(g),()=>{v(),d.delete(g)}},dispatch(g){var y;try{return o=!((y=g==null?void 0:g.meta)!=null&&y[pA]),l=!o,l&&(u||(u=!0,f(p))),i.dispatch(g)}finally{o=!0}}})},gA=t=>function(n){const{autoBatch:i=!0}=n??{};let o=new qE(t);return i&&o.push(mA(typeof i=="object"?i:void 0)),o};function vA(t){const e=fA(),{reducer:n=void 0,middleware:i,devTools:o=!0,preloadedState:l=void 0,enhancers:u=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(tp(n))d=Qb(n);else throw new Error(Wn(1));let f;typeof i=="function"?f=i(e):f=e();let p=ou;o&&(p=cA({trace:!1,...typeof o=="object"&&o}));const g=Yb(...f),y=gA(g);let v=typeof u=="function"?u(y):y();const S=p(...v);return UE(d,l,S)}function KE(t){const e={},n=[];let i;const o={addCase(l,u){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Wn(28));if(d in e)throw new Error(Wn(29));return e[d]=u,o},addMatcher(l,u){return n.push({matcher:l,reducer:u}),o},addDefaultCase(l){return i=l,o}};return t(o),[e,n,i]}function _A(t){return typeof t=="function"}function yA(t,e){let[n,i,o]=KE(e),l;if(_A(t))l=()=>M_(t());else{const d=M_(t);l=()=>d}function u(d=l(),f){let p=[n[f.type],...i.filter(({matcher:g})=>g(f)).map(({reducer:g})=>g)];return p.filter(g=>!!g).length===0&&(p=[o]),p.reduce((g,y)=>{if(y)if(pi(g)){const S=y(g,f);return S===void 0?g:S}else{if(Qn(g))return $E(g,v=>y(v,f));{const v=y(g,f);if(v===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return g},d)}return u.getInitialState=l,u}var EA=(t,e)=>dA(t)?t.match(e):t(e);function wA(...t){return e=>t.some(n=>EA(n,e))}var SA="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",CA=(t=21)=>{let e="",n=t;for(;n--;)e+=SA[Math.random()*64|0];return e},IA=["name","message","stack","code"],th=class{constructor(t,e){$i(this,"_type");this.payload=t,this.meta=e}},U_=class{constructor(t,e){$i(this,"_type");this.payload=t,this.meta=e}},TA=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of IA)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},B_="External signal was aborted",xA=(()=>{function t(e,n,i){const o=Io(e+"/fulfilled",(f,p,g,y)=>({payload:f,meta:{...y||{},arg:g,requestId:p,requestStatus:"fulfilled"}})),l=Io(e+"/pending",(f,p,g)=>({payload:void 0,meta:{...g||{},arg:p,requestId:f,requestStatus:"pending"}})),u=Io(e+"/rejected",(f,p,g,y,v)=>({payload:y,error:(i&&i.serializeError||TA)(f||"Rejected"),meta:{...v||{},arg:g,requestId:p,rejectedWithValue:!!y,requestStatus:"rejected",aborted:(f==null?void 0:f.name)==="AbortError",condition:(f==null?void 0:f.name)==="ConditionError"}}));function d(f,{signal:p}={}){return(g,y,v)=>{const S=i!=null&&i.idGenerator?i.idGenerator(f):CA(),w=new AbortController;let R,A;function P(M){A=M,w.abort()}p&&(p.aborted?P(B_):p.addEventListener("abort",()=>P(B_),{once:!0}));const D=async function(){var O,$;let M;try{let X=(O=i==null?void 0:i.condition)==null?void 0:O.call(i,f,{getState:y,extra:v});if(kA(X)&&(X=await X),X===!1||w.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const ue=new Promise((te,we)=>{R=()=>{we({name:"AbortError",message:A||"Aborted"})},w.signal.addEventListener("abort",R)});g(l(S,f,($=i==null?void 0:i.getPendingMeta)==null?void 0:$.call(i,{requestId:S,arg:f},{getState:y,extra:v}))),M=await Promise.race([ue,Promise.resolve(n(f,{dispatch:g,getState:y,extra:v,requestId:S,signal:w.signal,abort:P,rejectWithValue:(te,we)=>new th(te,we),fulfillWithValue:(te,we)=>new U_(te,we)})).then(te=>{if(te instanceof th)throw te;return te instanceof U_?o(te.payload,S,f,te.meta):o(te,S,f)})])}catch(X){M=X instanceof th?u(null,S,f,X.payload,X.meta):u(X,S,f)}finally{R&&w.signal.removeEventListener("abort",R)}return i&&!i.dispatchConditionRejection&&u.match(M)&&M.meta.condition||g(M),M}();return Object.assign(D,{abort:P,requestId:S,arg:f,unwrap(){return D.then(RA)}})}}return Object.assign(d,{pending:l,rejected:u,fulfilled:o,settled:wA(u,o),typePrefix:e})}return t.withTypes=()=>t,t})();function RA(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function kA(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var NA=Symbol.for("rtk-slice-createasyncthunk");function PA(t,e){return`${t}/${e}`}function bA({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[NA];return function(o){const{name:l,reducerPath:u=l}=o;if(!l)throw new Error(Wn(11));const d=(typeof o.reducers=="function"?o.reducers(OA()):o.reducers)||{},f=Object.keys(d),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(z,O){const $=typeof z=="string"?z:z.type;if(!$)throw new Error(Wn(12));if($ in p.sliceCaseReducersByType)throw new Error(Wn(13));return p.sliceCaseReducersByType[$]=O,g},addMatcher(z,O){return p.sliceMatchers.push({matcher:z,reducer:O}),g},exposeAction(z,O){return p.actionCreators[z]=O,g},exposeCaseReducer(z,O){return p.sliceCaseReducersByName[z]=O,g}};f.forEach(z=>{const O=d[z],$={reducerName:z,type:PA(l,z),createNotation:typeof o.reducers=="function"};DA(O)?FA($,O,g,e):LA($,O,g)});function y(){const[z={},O=[],$=void 0]=typeof o.extraReducers=="function"?KE(o.extraReducers):[o.extraReducers],X={...z,...p.sliceCaseReducersByType};return yA(o.initialState,ue=>{for(let te in X)ue.addCase(te,X[te]);for(let te of p.sliceMatchers)ue.addMatcher(te.matcher,te.reducer);for(let te of O)ue.addMatcher(te.matcher,te.reducer);$&&ue.addDefaultCase($)})}const v=z=>z,S=new Map,w=new WeakMap;let R;function A(z,O){return R||(R=y()),R(z,O)}function P(){return R||(R=y()),R.getInitialState()}function D(z,O=!1){function $(ue){let te=ue[z];return typeof te>"u"&&O&&(te=Il(w,$,P)),te}function X(ue=v){const te=Il(S,O,()=>new WeakMap);return Il(te,ue,()=>{const we={};for(const[mt,Ct]of Object.entries(o.selectors??{}))we[mt]=AA(Ct,ue,()=>Il(w,ue,P),O);return we})}return{reducerPath:z,getSelectors:X,get selectors(){return X($)},selectSlice:$}}const M={name:l,reducer:A,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:P,...D(u),injectInto(z,{reducerPath:O,...$}={}){const X=O??u;return z.inject({reducerPath:X,reducer:A},$),{...M,...D(X,!0)}}};return M}}function AA(t,e,n,i){function o(l,...u){let d=e(l);return typeof d>"u"&&i&&(d=n()),t(d,...u)}return o.unwrapped=t,o}var QE=bA();function OA(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function LA({type:t,reducerName:e,createNotation:n},i,o){let l,u;if("reducer"in i){if(n&&!MA(i))throw new Error(Wn(17));l=i.reducer,u=i.prepare}else l=i;o.addCase(t,l).exposeCaseReducer(e,l).exposeAction(e,u?Io(t,u):Io(t))}function DA(t){return t._reducerDefinitionType==="asyncThunk"}function MA(t){return t._reducerDefinitionType==="reducerWithPrepare"}function FA({type:t,reducerName:e},n,i,o){if(!o)throw new Error(Wn(18));const{payloadCreator:l,fulfilled:u,pending:d,rejected:f,settled:p,options:g}=n,y=o(t,l,g);i.exposeAction(e,y),u&&i.addCase(y.fulfilled,u),d&&i.addCase(y.pending,d),f&&i.addCase(y.rejected,f),p&&i.addMatcher(y.settled,p),i.exposeCaseReducer(e,{fulfilled:u||Tl,pending:d||Tl,rejected:f||Tl,settled:p||Tl})}function Tl(){}function Wn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const UA={user:null,roles:null,isLoading:!1,error:null},Dl=xA("auth/fetchUserRoles",async(t,{rejectWithValue:e})=>{if(!t)return e("No user provided for role fetch.");try{return await ss.getUserRoles(t)}catch(n){return console.error("Error fetching user roles:",n),e(n.message||"Failed to fetch user roles")}}),YE=QE({name:"auth",initialState:UA,reducers:{setUser:(t,e)=>{t.user=e.payload,e.payload||(t.roles=null,t.error=null,t.isLoading=!1)},setRoles:(t,e)=>{t.roles=e.payload,t.isLoading=!1},logout:t=>{t.user=null,t.roles=null,t.error=null,t.isLoading=!1},setAuthError:(t,e)=>{t.error=e.payload,t.isLoading=!1},setLoading:(t,e)=>{t.isLoading=e.payload}},extraReducers:t=>{t.addCase(Dl.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dl.fulfilled,(e,n)=>{e.roles=n.payload,e.isLoading=!1,e.error=null}).addCase(Dl.rejected,(e,n)=>{e.isLoading=!1,e.roles=null,e.error=n.payload})}}),{setUser:H_,setRoles:j_,logout:BA,setAuthError:Mn,setLoading:si}=YE.actions,HA=YE.reducer,jA=()=>{const t=localStorage.getItem("locale");if(t&&["es","en"].includes(t))return t;const e=navigator.language.split("-")[0];return["es","en"].includes(e)?e:"es"},zA={locale:jA()},XE=QE({name:"i18n",initialState:zA,reducers:{setLocale:(t,e)=>{t.locale=e.payload,localStorage.setItem("locale",e.payload)}}}),{setLocale:WA}=XE.actions,VA=XE.reducer;function En(t,e){var n=e&&e.cache?e.cache:XA,i=e&&e.serializer?e.serializer:QA,o=e&&e.strategy?e.strategy:qA;return o(t,{cache:n,serializer:i})}function $A(t){return t==null||typeof t=="number"||typeof t=="boolean"}function GA(t,e,n,i){var o=$A(i)?i:n(i),l=e.get(o);return typeof l>"u"&&(l=t.call(this,i),e.set(o,l)),l}function JE(t,e,n){var i=Array.prototype.slice.call(arguments,3),o=n(i),l=e.get(o);return typeof l>"u"&&(l=t.apply(this,i),e.set(o,l)),l}function ZE(t,e,n,i,o){return n.bind(e,t,i,o)}function qA(t,e){var n=t.length===1?GA:JE;return ZE(t,this,n,e.cache.create(),e.serializer)}function KA(t,e){return ZE(t,this,JE,e.cache.create(),e.serializer)}var QA=function(){return JSON.stringify(arguments)},YA=function(){function t(){this.cache=Object.create(null)}return t.prototype.get=function(e){return this.cache[e]},t.prototype.set=function(e,n){this.cache[e]=n},t}(),XA={create:function(){return new YA}},wn={variadic:KA},ge;(function(t){t[t.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",t[t.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",t[t.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",t[t.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",t[t.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",t[t.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",t[t.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",t[t.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",t[t.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",t[t.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",t[t.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",t[t.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",t[t.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",t[t.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",t[t.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",t[t.INVALID_TAG=23]="INVALID_TAG",t[t.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",t[t.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",t[t.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(ge||(ge={}));var Le;(function(t){t[t.literal=0]="literal",t[t.argument=1]="argument",t[t.number=2]="number",t[t.date=3]="date",t[t.time=4]="time",t[t.select=5]="select",t[t.plural=6]="plural",t[t.pound=7]="pound",t[t.tag=8]="tag"})(Le||(Le={}));var as;(function(t){t[t.number=0]="number",t[t.dateTime=1]="dateTime"})(as||(as={}));function z_(t){return t.type===Le.literal}function JA(t){return t.type===Le.argument}function ew(t){return t.type===Le.number}function tw(t){return t.type===Le.date}function nw(t){return t.type===Le.time}function rw(t){return t.type===Le.select}function iw(t){return t.type===Le.plural}function ZA(t){return t.type===Le.pound}function sw(t){return t.type===Le.tag}function ow(t){return!!(t&&typeof t=="object"&&t.type===as.number)}function Hh(t){return!!(t&&typeof t=="object"&&t.type===as.dateTime)}var aw=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,eO=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function tO(t){var e={};return t.replace(eO,function(n){var i=n.length;switch(n[0]){case"G":e.era=i===4?"long":i===5?"narrow":"short";break;case"y":e.year=i===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][i-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][i-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=i===4?"long":i===5?"narrow":"short";break;case"e":if(i<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][i-4];break;case"c":if(i<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][i-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][i-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][i-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][i-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][i-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][i-1];break;case"s":e.second=["numeric","2-digit"][i-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":e.timeZoneName=i<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),e}var nO=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function rO(t){if(t.length===0)throw new Error("Number skeleton cannot be empty");for(var e=t.split(nO).filter(function(v){return v.length>0}),n=[],i=0,o=e;i<o.length;i++){var l=o[i],u=l.split("/");if(u.length===0)throw new Error("Invalid number skeleton");for(var d=u[0],f=u.slice(1),p=0,g=f;p<g.length;p++){var y=g[p];if(y.length===0)throw new Error("Invalid number skeleton")}n.push({stem:d,options:f})}return n}function iO(t){return t.replace(/^(.*?)-/,"")}var W_=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,lw=/^(@+)?(\+|#+)?[rs]?$/g,sO=/(\*)(0+)|(#+)(0+)|(0+)/g,uw=/^(0+)$/;function V_(t){var e={};return t[t.length-1]==="r"?e.roundingPriority="morePrecision":t[t.length-1]==="s"&&(e.roundingPriority="lessPrecision"),t.replace(lw,function(n,i,o){return typeof o!="string"?(e.minimumSignificantDigits=i.length,e.maximumSignificantDigits=i.length):o==="+"?e.minimumSignificantDigits=i.length:i[0]==="#"?e.maximumSignificantDigits=i.length:(e.minimumSignificantDigits=i.length,e.maximumSignificantDigits=i.length+(typeof o=="string"?o.length:0)),""}),e}function cw(t){switch(t){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function oO(t){var e;if(t[0]==="E"&&t[1]==="E"?(e={notation:"engineering"},t=t.slice(2)):t[0]==="E"&&(e={notation:"scientific"},t=t.slice(1)),e){var n=t.slice(0,2);if(n==="+!"?(e.signDisplay="always",t=t.slice(2)):n==="+?"&&(e.signDisplay="exceptZero",t=t.slice(2)),!uw.test(t))throw new Error("Malformed concise eng/scientific notation");e.minimumIntegerDigits=t.length}return e}function $_(t){var e={},n=cw(t);return n||e}function aO(t){for(var e={},n=0,i=t;n<i.length;n++){var o=i[n];switch(o.stem){case"percent":case"%":e.style="percent";continue;case"%x100":e.style="percent",e.scale=100;continue;case"currency":e.style="currency",e.currency=o.options[0];continue;case"group-off":case",_":e.useGrouping=!1;continue;case"precision-integer":case".":e.maximumFractionDigits=0;continue;case"measure-unit":case"unit":e.style="unit",e.unit=iO(o.options[0]);continue;case"compact-short":case"K":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":case"KK":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e=J(J(J({},e),{notation:"scientific"}),o.options.reduce(function(f,p){return J(J({},f),$_(p))},{}));continue;case"engineering":e=J(J(J({},e),{notation:"engineering"}),o.options.reduce(function(f,p){return J(J({},f),$_(p))},{}));continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue;case"scale":e.scale=parseFloat(o.options[0]);continue;case"rounding-mode-floor":e.roundingMode="floor";continue;case"rounding-mode-ceiling":e.roundingMode="ceil";continue;case"rounding-mode-down":e.roundingMode="trunc";continue;case"rounding-mode-up":e.roundingMode="expand";continue;case"rounding-mode-half-even":e.roundingMode="halfEven";continue;case"rounding-mode-half-down":e.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":e.roundingMode="halfExpand";continue;case"integer-width":if(o.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");o.options[0].replace(sO,function(f,p,g,y,v,S){if(p)e.minimumIntegerDigits=g.length;else{if(y&&v)throw new Error("We currently do not support maximum integer digits");if(S)throw new Error("We currently do not support exact integer digits")}return""});continue}if(uw.test(o.stem)){e.minimumIntegerDigits=o.stem.length;continue}if(W_.test(o.stem)){if(o.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");o.stem.replace(W_,function(f,p,g,y,v,S){return g==="*"?e.minimumFractionDigits=p.length:y&&y[0]==="#"?e.maximumFractionDigits=y.length:v&&S?(e.minimumFractionDigits=v.length,e.maximumFractionDigits=v.length+S.length):(e.minimumFractionDigits=p.length,e.maximumFractionDigits=p.length),""});var l=o.options[0];l==="w"?e=J(J({},e),{trailingZeroDisplay:"stripIfInteger"}):l&&(e=J(J({},e),V_(l)));continue}if(lw.test(o.stem)){e=J(J({},e),V_(o.stem));continue}var u=cw(o.stem);u&&(e=J(J({},e),u));var d=oO(o.stem);d&&(e=J(J({},e),d))}return e}var xl={"001":["H","h"],419:["h","H","hB","hb"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["h","H","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["h","H","hB","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["h","H","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["h","H","hB","hb"],CU:["h","H","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["h","H","hB","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["h","H","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["h","H","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["h","H","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["h","H","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["h","H","hB","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["h","H","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["h","H","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["h","H","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"en-HK":["h","hb","H","hB"],"en-IL":["H","h","hb","hB"],"en-MY":["h","hb","H","hB"],"es-BR":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function lO(t,e){for(var n="",i=0;i<t.length;i++){var o=t.charAt(i);if(o==="j"){for(var l=0;i+1<t.length&&t.charAt(i+1)===o;)l++,i++;var u=1+(l&1),d=l<2?1:3+(l>>1),f="a",p=uO(e);for((p=="H"||p=="k")&&(d=0);d-- >0;)n+=f;for(;u-- >0;)n=p+n}else o==="J"?n+="H":n+=o}return n}function uO(t){var e=t.hourCycle;if(e===void 0&&t.hourCycles&&t.hourCycles.length&&(e=t.hourCycles[0]),e)switch(e){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n=t.language,i;n!=="root"&&(i=t.maximize().region);var o=xl[i||""]||xl[n||""]||xl["".concat(n,"-001")]||xl["001"];return o[0]}var nh,cO=new RegExp("^".concat(aw.source,"*")),dO=new RegExp("".concat(aw.source,"*$"));function ve(t,e){return{start:t,end:e}}var hO=!!String.prototype.startsWith&&"_a".startsWith("a",1),fO=!!String.fromCodePoint,pO=!!Object.fromEntries,mO=!!String.prototype.codePointAt,gO=!!String.prototype.trimStart,vO=!!String.prototype.trimEnd,_O=!!Number.isSafeInteger,yO=_O?Number.isSafeInteger:function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t&&Math.abs(t)<=9007199254740991},jh=!0;try{var EO=hw("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");jh=((nh=EO.exec("a"))===null||nh===void 0?void 0:nh[0])==="a"}catch{jh=!1}var G_=hO?function(e,n,i){return e.startsWith(n,i)}:function(e,n,i){return e.slice(i,i+n.length)===n},zh=fO?String.fromCodePoint:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i="",o=e.length,l=0,u;o>l;){if(u=e[l++],u>1114111)throw RangeError(u+" is not a valid code point");i+=u<65536?String.fromCharCode(u):String.fromCharCode(((u-=65536)>>10)+55296,u%1024+56320)}return i},q_=pO?Object.fromEntries:function(e){for(var n={},i=0,o=e;i<o.length;i++){var l=o[i],u=l[0],d=l[1];n[u]=d}return n},dw=mO?function(e,n){return e.codePointAt(n)}:function(e,n){var i=e.length;if(!(n<0||n>=i)){var o=e.charCodeAt(n),l;return o<55296||o>56319||n+1===i||(l=e.charCodeAt(n+1))<56320||l>57343?o:(o-55296<<10)+(l-56320)+65536}},wO=gO?function(e){return e.trimStart()}:function(e){return e.replace(cO,"")},SO=vO?function(e){return e.trimEnd()}:function(e){return e.replace(dO,"")};function hw(t,e){return new RegExp(t,e)}var Wh;if(jh){var K_=hw("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Wh=function(e,n){var i;K_.lastIndex=n;var o=K_.exec(e);return(i=o[1])!==null&&i!==void 0?i:""}}else Wh=function(e,n){for(var i=[];;){var o=dw(e,n);if(o===void 0||fw(o)||xO(o))break;i.push(o),n+=o>=65536?2:1}return zh.apply(void 0,i)};var CO=function(){function t(e,n){n===void 0&&(n={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!n.ignoreTag,this.locale=n.locale,this.requiresOtherClause=!!n.requiresOtherClause,this.shouldParseSkeletons=!!n.shouldParseSkeletons}return t.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},t.prototype.parseMessage=function(e,n,i){for(var o=[];!this.isEOF();){var l=this.char();if(l===123){var u=this.parseArgument(e,i);if(u.err)return u;o.push(u.val)}else{if(l===125&&e>0)break;if(l===35&&(n==="plural"||n==="selectordinal")){var d=this.clonePosition();this.bump(),o.push({type:Le.pound,location:ve(d,this.clonePosition())})}else if(l===60&&!this.ignoreTag&&this.peek()===47){if(i)break;return this.error(ge.UNMATCHED_CLOSING_TAG,ve(this.clonePosition(),this.clonePosition()))}else if(l===60&&!this.ignoreTag&&Vh(this.peek()||0)){var u=this.parseTag(e,n);if(u.err)return u;o.push(u.val)}else{var u=this.parseLiteral(e,n);if(u.err)return u;o.push(u.val)}}}return{val:o,err:null}},t.prototype.parseTag=function(e,n){var i=this.clonePosition();this.bump();var o=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:Le.literal,value:"<".concat(o,"/>"),location:ve(i,this.clonePosition())},err:null};if(this.bumpIf(">")){var l=this.parseMessage(e+1,n,!0);if(l.err)return l;var u=l.val,d=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Vh(this.char()))return this.error(ge.INVALID_TAG,ve(d,this.clonePosition()));var f=this.clonePosition(),p=this.parseTagName();return o!==p?this.error(ge.UNMATCHED_CLOSING_TAG,ve(f,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:Le.tag,value:o,children:u,location:ve(i,this.clonePosition())},err:null}:this.error(ge.INVALID_TAG,ve(d,this.clonePosition())))}else return this.error(ge.UNCLOSED_TAG,ve(i,this.clonePosition()))}else return this.error(ge.INVALID_TAG,ve(i,this.clonePosition()))},t.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&TO(this.char());)this.bump();return this.message.slice(e,this.offset())},t.prototype.parseLiteral=function(e,n){for(var i=this.clonePosition(),o="";;){var l=this.tryParseQuote(n);if(l){o+=l;continue}var u=this.tryParseUnquoted(e,n);if(u){o+=u;continue}var d=this.tryParseLeftAngleBracket();if(d){o+=d;continue}break}var f=ve(i,this.clonePosition());return{val:{type:Le.literal,value:o,location:f},err:null}},t.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!IO(this.peek()||0))?(this.bump(),"<"):null},t.prototype.tryParseQuote=function(e){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(e==="plural"||e==="selectordinal")break;return null;default:return null}this.bump();var n=[this.char()];for(this.bump();!this.isEOF();){var i=this.char();if(i===39)if(this.peek()===39)n.push(39),this.bump();else{this.bump();break}else n.push(i);this.bump()}return zh.apply(void 0,n)},t.prototype.tryParseUnquoted=function(e,n){if(this.isEOF())return null;var i=this.char();return i===60||i===123||i===35&&(n==="plural"||n==="selectordinal")||i===125&&e>0?null:(this.bump(),zh(i))},t.prototype.parseArgument=function(e,n){var i=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(ge.EXPECT_ARGUMENT_CLOSING_BRACE,ve(i,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(ge.EMPTY_ARGUMENT,ve(i,this.clonePosition()));var o=this.parseIdentifierIfPossible().value;if(!o)return this.error(ge.MALFORMED_ARGUMENT,ve(i,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(ge.EXPECT_ARGUMENT_CLOSING_BRACE,ve(i,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:Le.argument,value:o,location:ve(i,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(ge.EXPECT_ARGUMENT_CLOSING_BRACE,ve(i,this.clonePosition())):this.parseArgumentOptions(e,n,o,i);default:return this.error(ge.MALFORMED_ARGUMENT,ve(i,this.clonePosition()))}},t.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),n=this.offset(),i=Wh(this.message,n),o=n+i.length;this.bumpTo(o);var l=this.clonePosition(),u=ve(e,l);return{value:i,location:u}},t.prototype.parseArgumentOptions=function(e,n,i,o){var l,u=this.clonePosition(),d=this.parseIdentifierIfPossible().value,f=this.clonePosition();switch(d){case"":return this.error(ge.EXPECT_ARGUMENT_TYPE,ve(u,f));case"number":case"date":case"time":{this.bumpSpace();var p=null;if(this.bumpIf(",")){this.bumpSpace();var g=this.clonePosition(),y=this.parseSimpleArgStyleIfPossible();if(y.err)return y;var v=SO(y.val);if(v.length===0)return this.error(ge.EXPECT_ARGUMENT_STYLE,ve(this.clonePosition(),this.clonePosition()));var S=ve(g,this.clonePosition());p={style:v,styleLocation:S}}var w=this.tryParseArgumentClose(o);if(w.err)return w;var R=ve(o,this.clonePosition());if(p&&G_(p==null?void 0:p.style,"::",0)){var A=wO(p.style.slice(2));if(d==="number"){var y=this.parseNumberSkeletonFromString(A,p.styleLocation);return y.err?y:{val:{type:Le.number,value:i,location:R,style:y.val},err:null}}else{if(A.length===0)return this.error(ge.EXPECT_DATE_TIME_SKELETON,R);var P=A;this.locale&&(P=lO(A,this.locale));var v={type:as.dateTime,pattern:P,location:p.styleLocation,parsedOptions:this.shouldParseSkeletons?tO(P):{}},D=d==="date"?Le.date:Le.time;return{val:{type:D,value:i,location:R,style:v},err:null}}}return{val:{type:d==="number"?Le.number:d==="date"?Le.date:Le.time,value:i,location:R,style:(l=p==null?void 0:p.style)!==null&&l!==void 0?l:null},err:null}}case"plural":case"selectordinal":case"select":{var M=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(ge.EXPECT_SELECT_ARGUMENT_OPTIONS,ve(M,J({},M)));this.bumpSpace();var z=this.parseIdentifierIfPossible(),O=0;if(d!=="select"&&z.value==="offset"){if(!this.bumpIf(":"))return this.error(ge.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,ve(this.clonePosition(),this.clonePosition()));this.bumpSpace();var y=this.tryParseDecimalInteger(ge.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,ge.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(y.err)return y;this.bumpSpace(),z=this.parseIdentifierIfPossible(),O=y.val}var $=this.tryParsePluralOrSelectOptions(e,d,n,z);if($.err)return $;var w=this.tryParseArgumentClose(o);if(w.err)return w;var X=ve(o,this.clonePosition());return d==="select"?{val:{type:Le.select,value:i,options:q_($.val),location:X},err:null}:{val:{type:Le.plural,value:i,options:q_($.val),offset:O,pluralType:d==="plural"?"cardinal":"ordinal",location:X},err:null}}default:return this.error(ge.INVALID_ARGUMENT_TYPE,ve(u,f))}},t.prototype.tryParseArgumentClose=function(e){return this.isEOF()||this.char()!==125?this.error(ge.EXPECT_ARGUMENT_CLOSING_BRACE,ve(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},t.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,n=this.clonePosition();!this.isEOF();){var i=this.char();switch(i){case 39:{this.bump();var o=this.clonePosition();if(!this.bumpUntil("'"))return this.error(ge.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,ve(o,this.clonePosition()));this.bump();break}case 123:{e+=1,this.bump();break}case 125:{if(e>0)e-=1;else return{val:this.message.slice(n.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(n.offset,this.offset()),err:null}},t.prototype.parseNumberSkeletonFromString=function(e,n){var i=[];try{i=rO(e)}catch{return this.error(ge.INVALID_NUMBER_SKELETON,n)}return{val:{type:as.number,tokens:i,location:n,parsedOptions:this.shouldParseSkeletons?aO(i):{}},err:null}},t.prototype.tryParsePluralOrSelectOptions=function(e,n,i,o){for(var l,u=!1,d=[],f=new Set,p=o.value,g=o.location;;){if(p.length===0){var y=this.clonePosition();if(n!=="select"&&this.bumpIf("=")){var v=this.tryParseDecimalInteger(ge.EXPECT_PLURAL_ARGUMENT_SELECTOR,ge.INVALID_PLURAL_ARGUMENT_SELECTOR);if(v.err)return v;g=ve(y,this.clonePosition()),p=this.message.slice(y.offset,this.offset())}else break}if(f.has(p))return this.error(n==="select"?ge.DUPLICATE_SELECT_ARGUMENT_SELECTOR:ge.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,g);p==="other"&&(u=!0),this.bumpSpace();var S=this.clonePosition();if(!this.bumpIf("{"))return this.error(n==="select"?ge.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:ge.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,ve(this.clonePosition(),this.clonePosition()));var w=this.parseMessage(e+1,n,i);if(w.err)return w;var R=this.tryParseArgumentClose(S);if(R.err)return R;d.push([p,{value:w.val,location:ve(S,this.clonePosition())}]),f.add(p),this.bumpSpace(),l=this.parseIdentifierIfPossible(),p=l.value,g=l.location}return d.length===0?this.error(n==="select"?ge.EXPECT_SELECT_ARGUMENT_SELECTOR:ge.EXPECT_PLURAL_ARGUMENT_SELECTOR,ve(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!u?this.error(ge.MISSING_OTHER_CLAUSE,ve(this.clonePosition(),this.clonePosition())):{val:d,err:null}},t.prototype.tryParseDecimalInteger=function(e,n){var i=1,o=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(i=-1);for(var l=!1,u=0;!this.isEOF();){var d=this.char();if(d>=48&&d<=57)l=!0,u=u*10+(d-48),this.bump();else break}var f=ve(o,this.clonePosition());return l?(u*=i,yO(u)?{val:u,err:null}:this.error(n,f)):this.error(e,f)},t.prototype.offset=function(){return this.position.offset},t.prototype.isEOF=function(){return this.offset()===this.message.length},t.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},t.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var n=dw(this.message,e);if(n===void 0)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return n},t.prototype.error=function(e,n){return{val:null,err:{kind:e,message:this.message,location:n}}},t.prototype.bump=function(){if(!this.isEOF()){var e=this.char();e===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},t.prototype.bumpIf=function(e){if(G_(this.message,e,this.offset())){for(var n=0;n<e.length;n++)this.bump();return!0}return!1},t.prototype.bumpUntil=function(e){var n=this.offset(),i=this.message.indexOf(e,n);return i>=0?(this.bumpTo(i),!0):(this.bumpTo(this.message.length),!1)},t.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var n=this.offset();if(n===e)break;if(n>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},t.prototype.bumpSpace=function(){for(;!this.isEOF()&&fw(this.char());)this.bump()},t.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),n=this.offset(),i=this.message.charCodeAt(n+(e>=65536?2:1));return i??null},t}();function Vh(t){return t>=97&&t<=122||t>=65&&t<=90}function IO(t){return Vh(t)||t===47}function TO(t){return t===45||t===46||t>=48&&t<=57||t===95||t>=97&&t<=122||t>=65&&t<=90||t==183||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8255&&t<=8256||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}function fw(t){return t>=9&&t<=13||t===32||t===133||t>=8206&&t<=8207||t===8232||t===8233}function xO(t){return t>=33&&t<=35||t===36||t>=37&&t<=39||t===40||t===41||t===42||t===43||t===44||t===45||t>=46&&t<=47||t>=58&&t<=59||t>=60&&t<=62||t>=63&&t<=64||t===91||t===92||t===93||t===94||t===96||t===123||t===124||t===125||t===126||t===161||t>=162&&t<=165||t===166||t===167||t===169||t===171||t===172||t===174||t===176||t===177||t===182||t===187||t===191||t===215||t===247||t>=8208&&t<=8213||t>=8214&&t<=8215||t===8216||t===8217||t===8218||t>=8219&&t<=8220||t===8221||t===8222||t===8223||t>=8224&&t<=8231||t>=8240&&t<=8248||t===8249||t===8250||t>=8251&&t<=8254||t>=8257&&t<=8259||t===8260||t===8261||t===8262||t>=8263&&t<=8273||t===8274||t===8275||t>=8277&&t<=8286||t>=8592&&t<=8596||t>=8597&&t<=8601||t>=8602&&t<=8603||t>=8604&&t<=8607||t===8608||t>=8609&&t<=8610||t===8611||t>=8612&&t<=8613||t===8614||t>=8615&&t<=8621||t===8622||t>=8623&&t<=8653||t>=8654&&t<=8655||t>=8656&&t<=8657||t===8658||t===8659||t===8660||t>=8661&&t<=8691||t>=8692&&t<=8959||t>=8960&&t<=8967||t===8968||t===8969||t===8970||t===8971||t>=8972&&t<=8991||t>=8992&&t<=8993||t>=8994&&t<=9e3||t===9001||t===9002||t>=9003&&t<=9083||t===9084||t>=9085&&t<=9114||t>=9115&&t<=9139||t>=9140&&t<=9179||t>=9180&&t<=9185||t>=9186&&t<=9254||t>=9255&&t<=9279||t>=9280&&t<=9290||t>=9291&&t<=9311||t>=9472&&t<=9654||t===9655||t>=9656&&t<=9664||t===9665||t>=9666&&t<=9719||t>=9720&&t<=9727||t>=9728&&t<=9838||t===9839||t>=9840&&t<=10087||t===10088||t===10089||t===10090||t===10091||t===10092||t===10093||t===10094||t===10095||t===10096||t===10097||t===10098||t===10099||t===10100||t===10101||t>=10132&&t<=10175||t>=10176&&t<=10180||t===10181||t===10182||t>=10183&&t<=10213||t===10214||t===10215||t===10216||t===10217||t===10218||t===10219||t===10220||t===10221||t===10222||t===10223||t>=10224&&t<=10239||t>=10240&&t<=10495||t>=10496&&t<=10626||t===10627||t===10628||t===10629||t===10630||t===10631||t===10632||t===10633||t===10634||t===10635||t===10636||t===10637||t===10638||t===10639||t===10640||t===10641||t===10642||t===10643||t===10644||t===10645||t===10646||t===10647||t===10648||t>=10649&&t<=10711||t===10712||t===10713||t===10714||t===10715||t>=10716&&t<=10747||t===10748||t===10749||t>=10750&&t<=11007||t>=11008&&t<=11055||t>=11056&&t<=11076||t>=11077&&t<=11078||t>=11079&&t<=11084||t>=11085&&t<=11123||t>=11124&&t<=11125||t>=11126&&t<=11157||t===11158||t>=11159&&t<=11263||t>=11776&&t<=11777||t===11778||t===11779||t===11780||t===11781||t>=11782&&t<=11784||t===11785||t===11786||t===11787||t===11788||t===11789||t>=11790&&t<=11798||t===11799||t>=11800&&t<=11801||t===11802||t===11803||t===11804||t===11805||t>=11806&&t<=11807||t===11808||t===11809||t===11810||t===11811||t===11812||t===11813||t===11814||t===11815||t===11816||t===11817||t>=11818&&t<=11822||t===11823||t>=11824&&t<=11833||t>=11834&&t<=11835||t>=11836&&t<=11839||t===11840||t===11841||t===11842||t>=11843&&t<=11855||t>=11856&&t<=11857||t===11858||t>=11859&&t<=11903||t>=12289&&t<=12291||t===12296||t===12297||t===12298||t===12299||t===12300||t===12301||t===12302||t===12303||t===12304||t===12305||t>=12306&&t<=12307||t===12308||t===12309||t===12310||t===12311||t===12312||t===12313||t===12314||t===12315||t===12316||t===12317||t>=12318&&t<=12319||t===12320||t===12336||t===64830||t===64831||t>=65093&&t<=65094}function $h(t){t.forEach(function(e){if(delete e.location,rw(e)||iw(e))for(var n in e.options)delete e.options[n].location,$h(e.options[n].value);else ew(e)&&ow(e.style)||(tw(e)||nw(e))&&Hh(e.style)?delete e.style.location:sw(e)&&$h(e.children)})}function RO(t,e){e===void 0&&(e={}),e=J({shouldParseSkeletons:!0,requiresOtherClause:!0},e);var n=new CO(t,e).parse();if(n.err){var i=SyntaxError(ge[n.err.kind]);throw i.location=n.err.location,i.originalMessage=n.err.message,i}return e!=null&&e.captureLocation||$h(n.val),n.val}var Tn;(function(t){t.MISSING_VALUE="MISSING_VALUE",t.INVALID_VALUE="INVALID_VALUE",t.MISSING_INTL_API="MISSING_INTL_API"})(Tn||(Tn={}));var Ur=function(t){Qt(e,t);function e(n,i,o){var l=t.call(this,n)||this;return l.code=i,l.originalMessage=o,l}return e.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},e}(Error),Q_=function(t){Qt(e,t);function e(n,i,o,l){return t.call(this,'Invalid values for "'.concat(n,'": "').concat(i,'". Options are "').concat(Object.keys(o).join('", "'),'"'),Tn.INVALID_VALUE,l)||this}return e}(Ur),kO=function(t){Qt(e,t);function e(n,i,o){return t.call(this,'Value for "'.concat(n,'" must be of type ').concat(i),Tn.INVALID_VALUE,o)||this}return e}(Ur),NO=function(t){Qt(e,t);function e(n,i){return t.call(this,'The intl string context variable "'.concat(n,'" was not provided to the string "').concat(i,'"'),Tn.MISSING_VALUE,i)||this}return e}(Ur),yt;(function(t){t[t.literal=0]="literal",t[t.object=1]="object"})(yt||(yt={}));function PO(t){return t.length<2?t:t.reduce(function(e,n){var i=e[e.length-1];return!i||i.type!==yt.literal||n.type!==yt.literal?e.push(n):i.value+=n.value,e},[])}function pw(t){return typeof t=="function"}function Ml(t,e,n,i,o,l,u){if(t.length===1&&z_(t[0]))return[{type:yt.literal,value:t[0].value}];for(var d=[],f=0,p=t;f<p.length;f++){var g=p[f];if(z_(g)){d.push({type:yt.literal,value:g.value});continue}if(ZA(g)){typeof l=="number"&&d.push({type:yt.literal,value:n.getNumberFormat(e).format(l)});continue}var y=g.value;if(!(o&&y in o))throw new NO(y,u);var v=o[y];if(JA(g)){(!v||typeof v=="string"||typeof v=="number")&&(v=typeof v=="string"||typeof v=="number"?String(v):""),d.push({type:typeof v=="string"?yt.literal:yt.object,value:v});continue}if(tw(g)){var S=typeof g.style=="string"?i.date[g.style]:Hh(g.style)?g.style.parsedOptions:void 0;d.push({type:yt.literal,value:n.getDateTimeFormat(e,S).format(v)});continue}if(nw(g)){var S=typeof g.style=="string"?i.time[g.style]:Hh(g.style)?g.style.parsedOptions:i.time.medium;d.push({type:yt.literal,value:n.getDateTimeFormat(e,S).format(v)});continue}if(ew(g)){var S=typeof g.style=="string"?i.number[g.style]:ow(g.style)?g.style.parsedOptions:void 0;S&&S.scale&&(v=v*(S.scale||1)),d.push({type:yt.literal,value:n.getNumberFormat(e,S).format(v)});continue}if(sw(g)){var w=g.children,R=g.value,A=o[R];if(!pw(A))throw new kO(R,"function",u);var P=Ml(w,e,n,i,o,l),D=A(P.map(function(O){return O.value}));Array.isArray(D)||(D=[D]),d.push.apply(d,D.map(function(O){return{type:typeof O=="string"?yt.literal:yt.object,value:O}}))}if(rw(g)){var M=g.options[v]||g.options.other;if(!M)throw new Q_(g.value,v,Object.keys(g.options),u);d.push.apply(d,Ml(M.value,e,n,i,o));continue}if(iw(g)){var M=g.options["=".concat(v)];if(!M){if(!Intl.PluralRules)throw new Ur(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Tn.MISSING_INTL_API,u);var z=n.getPluralRules(e,{type:g.pluralType}).select(v-(g.offset||0));M=g.options[z]||g.options.other}if(!M)throw new Q_(g.value,v,Object.keys(g.options),u);d.push.apply(d,Ml(M.value,e,n,i,o,v-(g.offset||0)));continue}}return PO(d)}function bO(t,e){return e?J(J(J({},t||{}),e||{}),Object.keys(t).reduce(function(n,i){return n[i]=J(J({},t[i]),e[i]||{}),n},{})):t}function AO(t,e){return e?Object.keys(t).reduce(function(n,i){return n[i]=bO(t[i],e[i]),n},J({},t)):t}function rh(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,n){t[e]=n}}}}}function OO(t){return t===void 0&&(t={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:En(function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return new((e=Intl.NumberFormat).bind.apply(e,Sn([void 0],n,!1)))},{cache:rh(t.number),strategy:wn.variadic}),getDateTimeFormat:En(function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return new((e=Intl.DateTimeFormat).bind.apply(e,Sn([void 0],n,!1)))},{cache:rh(t.dateTime),strategy:wn.variadic}),getPluralRules:En(function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return new((e=Intl.PluralRules).bind.apply(e,Sn([void 0],n,!1)))},{cache:rh(t.pluralRules),strategy:wn.variadic})}}var mw=function(){function t(e,n,i,o){n===void 0&&(n=t.defaultLocale);var l=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(f){var p=l.formatToParts(f);if(p.length===1)return p[0].value;var g=p.reduce(function(y,v){return!y.length||v.type!==yt.literal||typeof y[y.length-1]!="string"?y.push(v.value):y[y.length-1]+=v.value,y},[]);return g.length<=1?g[0]||"":g},this.formatToParts=function(f){return Ml(l.ast,l.locales,l.formatters,l.formats,f,void 0,l.message)},this.resolvedOptions=function(){var f;return{locale:((f=l.resolvedLocale)===null||f===void 0?void 0:f.toString())||Intl.NumberFormat.supportedLocalesOf(l.locales)[0]}},this.getAst=function(){return l.ast},this.locales=n,this.resolvedLocale=t.resolveLocale(n),typeof e=="string"){if(this.message=e,!t.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var u=o||{};u.formatters;var d=Gn(u,["formatters"]);this.ast=t.__parse(e,J(J({},d),{locale:this.resolvedLocale}))}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=AO(t.formats,i),this.formatters=o&&o.formatters||OO(this.formatterCache)}return Object.defineProperty(t,"defaultLocale",{get:function(){return t.memoizedDefaultLocale||(t.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),t.memoizedDefaultLocale},enumerable:!1,configurable:!0}),t.memoizedDefaultLocale=null,t.resolveLocale=function(e){if(!(typeof Intl.Locale>"u")){var n=Intl.NumberFormat.supportedLocalesOf(e);return n.length>0?new Intl.Locale(n[0]):new Intl.Locale(typeof e=="string"?e:e[0])}},t.__parse=RO,t.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},t}(),gi;(function(t){t.FORMAT_ERROR="FORMAT_ERROR",t.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",t.INVALID_CONFIG="INVALID_CONFIG",t.MISSING_DATA="MISSING_DATA",t.MISSING_TRANSLATION="MISSING_TRANSLATION"})(gi||(gi={}));var oa=function(t){Qt(e,t);function e(n,i,o){var l=this,u=o?o instanceof Error?o:new Error(String(o)):void 0;return l=t.call(this,"[@formatjs/intl Error ".concat(n,"] ").concat(i,`
`).concat(u?`
`.concat(u.message,`
`).concat(u.stack):""))||this,l.code=n,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(l,e),l}return e}(Error),LO=function(t){Qt(e,t);function e(n,i){return t.call(this,gi.UNSUPPORTED_FORMATTER,n,i)||this}return e}(oa),DO=function(t){Qt(e,t);function e(n,i){return t.call(this,gi.INVALID_CONFIG,n,i)||this}return e}(oa),Y_=function(t){Qt(e,t);function e(n,i){return t.call(this,gi.MISSING_DATA,n,i)||this}return e}(oa),Yt=function(t){Qt(e,t);function e(n,i,o){var l=t.call(this,gi.FORMAT_ERROR,"".concat(n,`
Locale: `).concat(i,`
`),o)||this;return l.locale=i,l}return e}(oa),ih=function(t){Qt(e,t);function e(n,i,o,l){var u=t.call(this,"".concat(n,`
MessageID: `).concat(o==null?void 0:o.id,`
Default Message: `).concat(o==null?void 0:o.defaultMessage,`
Description: `).concat(o==null?void 0:o.description,`
`),i,l)||this;return u.descriptor=o,u.locale=i,u}return e}(Yt),MO=function(t){Qt(e,t);function e(n,i){var o=t.call(this,gi.MISSING_TRANSLATION,'Missing message: "'.concat(n.id,'" for locale "').concat(i,'", using ').concat(n.defaultMessage?"default message (".concat(typeof n.defaultMessage=="string"?n.defaultMessage:n.defaultMessage.map(function(l){var u;return(u=l.value)!==null&&u!==void 0?u:JSON.stringify(l)}).join(),")"):"id"," as fallback."))||this;return o.descriptor=n,o}return e}(oa);function FO(t,e,n){if(n===void 0&&(n=Error),!t)throw new n(e)}function ys(t,e,n){return n===void 0&&(n={}),e.reduce(function(i,o){return o in t?i[o]=t[o]:o in n&&(i[o]=n[o]),i},{})}var UO=function(t){},BO=function(t){},gw={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:UO,onWarn:BO};function vw(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function Jr(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,n){t[e]=n}}}}}function HO(t){t===void 0&&(t=vw());var e=Intl.RelativeTimeFormat,n=Intl.ListFormat,i=Intl.DisplayNames,o=En(function(){for(var d,f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];return new((d=Intl.DateTimeFormat).bind.apply(d,Sn([void 0],f,!1)))},{cache:Jr(t.dateTime),strategy:wn.variadic}),l=En(function(){for(var d,f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];return new((d=Intl.NumberFormat).bind.apply(d,Sn([void 0],f,!1)))},{cache:Jr(t.number),strategy:wn.variadic}),u=En(function(){for(var d,f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];return new((d=Intl.PluralRules).bind.apply(d,Sn([void 0],f,!1)))},{cache:Jr(t.pluralRules),strategy:wn.variadic});return{getDateTimeFormat:o,getNumberFormat:l,getMessageFormat:En(function(d,f,p,g){return new mw(d,f,p,J({formatters:{getNumberFormat:l,getDateTimeFormat:o,getPluralRules:u}},g||{}))},{cache:Jr(t.message),strategy:wn.variadic}),getRelativeTimeFormat:En(function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];return new(e.bind.apply(e,Sn([void 0],d,!1)))},{cache:Jr(t.relativeTime),strategy:wn.variadic}),getPluralRules:u,getListFormat:En(function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];return new(n.bind.apply(n,Sn([void 0],d,!1)))},{cache:Jr(t.list),strategy:wn.variadic}),getDisplayNames:En(function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];return new(i.bind.apply(i,Sn([void 0],d,!1)))},{cache:Jr(t.displayNames),strategy:wn.variadic})}}function ip(t,e,n,i){var o=t&&t[e],l;if(o&&(l=o[n]),l)return l;i(new LO("No ".concat(e," format named: ").concat(n)))}function Rl(t,e){return Object.keys(t).reduce(function(n,i){return n[i]=J({timeZone:e},t[i]),n},{})}function X_(t,e){var n=Object.keys(J(J({},t),e));return n.reduce(function(i,o){return i[o]=J(J({},t[o]||{}),e[o]||{}),i},{})}function J_(t,e){if(!e)return t;var n=mw.formats;return J(J(J({},n),t),{date:X_(Rl(n.date,e),Rl(t.date||{},e)),time:X_(Rl(n.time,e),Rl(t.time||{},e))})}var Gh=function(t,e,n,i,o){var l=t.locale,u=t.formats,d=t.messages,f=t.defaultLocale,p=t.defaultFormats,g=t.fallbackOnEmptyString,y=t.onError,v=t.timeZone,S=t.defaultRichTextElements;n===void 0&&(n={id:""});var w=n.id,R=n.defaultMessage;FO(!!w,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.github.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.github.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.github.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var A=String(w),P=d&&Object.prototype.hasOwnProperty.call(d,A)&&d[A];if(Array.isArray(P)&&P.length===1&&P[0].type===Le.literal)return P[0].value;if(!i&&P&&typeof P=="string"&&!S)return P.replace(/'\{(.*?)\}'/gi,"{$1}");if(i=J(J({},S),i||{}),u=J_(u,v),p=J_(p,v),!P){if(g===!1&&P==="")return P;if((!R||l&&l.toLowerCase()!==f.toLowerCase())&&y(new MO(n,l)),R)try{var D=e.getMessageFormat(R,f,p,o);return D.format(i)}catch(M){return y(new ih('Error formatting default message for: "'.concat(A,'", rendering default message verbatim'),l,n,M)),typeof R=="string"?R:A}return A}try{var D=e.getMessageFormat(P,l,u,J({formatters:e},o||{}));return D.format(i)}catch(M){y(new ih('Error formatting message: "'.concat(A,'", using ').concat(R?"default message":"id"," as fallback."),l,n,M))}if(R)try{var D=e.getMessageFormat(R,f,p,o);return D.format(i)}catch(M){y(new ih('Error formatting the default message for: "'.concat(A,'", rendering message verbatim'),l,n,M))}return typeof P=="string"?P:typeof R=="string"?R:A},jO=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function aa(t,e,n,i){var o=t.locale,l=t.formats,u=t.onError,d=t.timeZone;i===void 0&&(i={});var f=i.format,p=J(J({},d&&{timeZone:d}),f&&ip(l,e,f,u)),g=ys(i,jO,p);return e==="time"&&!g.hour&&!g.minute&&!g.second&&!g.timeStyle&&!g.dateStyle&&(g=J(J({},g),{hour:"numeric",minute:"numeric"})),n(o,g)}function zO(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=n[0],l=n[1],u=l===void 0?{}:l,d=typeof o=="string"?new Date(o||0):o;try{return aa(t,"date",e,u).format(d)}catch(f){t.onError(new Yt("Error formatting date.",t.locale,f))}return String(d)}function WO(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=n[0],l=n[1],u=l===void 0?{}:l,d=typeof o=="string"?new Date(o||0):o;try{return aa(t,"time",e,u).format(d)}catch(f){t.onError(new Yt("Error formatting time.",t.locale,f))}return String(d)}function VO(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=n[0],l=n[1],u=n[2],d=u===void 0?{}:u,f=typeof o=="string"?new Date(o||0):o,p=typeof l=="string"?new Date(l||0):l;try{return aa(t,"dateTimeRange",e,d).formatRange(f,p)}catch(g){t.onError(new Yt("Error formatting date time range.",t.locale,g))}return String(f)}function $O(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=n[0],l=n[1],u=l===void 0?{}:l,d=typeof o=="string"?new Date(o||0):o;try{return aa(t,"date",e,u).formatToParts(d)}catch(f){t.onError(new Yt("Error formatting date.",t.locale,f))}return[]}function GO(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=n[0],l=n[1],u=l===void 0?{}:l,d=typeof o=="string"?new Date(o||0):o;try{return aa(t,"time",e,u).formatToParts(d)}catch(f){t.onError(new Yt("Error formatting time.",t.locale,f))}return[]}var qO=["style","type","fallback","languageDisplay"];function KO(t,e,n,i){var o=t.locale,l=t.onError,u=Intl.DisplayNames;u||l(new Ur(`Intl.DisplayNames is not available in this environment.
Try polyfilling it using "@formatjs/intl-displaynames"
`,Tn.MISSING_INTL_API));var d=ys(i,qO);try{return e(o,d).of(n)}catch(f){l(new Yt("Error formatting display name.",o,f))}}var QO=["type","style"],Z_=Date.now();function YO(t){return"".concat(Z_,"_").concat(t,"_").concat(Z_)}function XO(t,e,n,i){i===void 0&&(i={});var o=_w(t,e,n,i).reduce(function(l,u){var d=u.value;return typeof d!="string"?l.push(d):typeof l[l.length-1]=="string"?l[l.length-1]+=d:l.push(d),l},[]);return o.length===1?o[0]:o.length===0?"":o}function _w(t,e,n,i){var o=t.locale,l=t.onError;i===void 0&&(i={});var u=Intl.ListFormat;u||l(new Ur(`Intl.ListFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-listformat"
`,Tn.MISSING_INTL_API));var d=ys(i,QO);try{var f={},p=n.map(function(g,y){if(typeof g=="object"){var v=YO(y);return f[v]=g,v}return String(g)});return e(o,d).formatToParts(p).map(function(g){return g.type==="literal"?g:J(J({},g),{value:f[g.value]||g.value})})}catch(g){l(new Yt("Error formatting list.",o,g))}return n}var JO=["type"];function ZO(t,e,n,i){var o=t.locale,l=t.onError;i===void 0&&(i={}),Intl.PluralRules||l(new Ur(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Tn.MISSING_INTL_API));var u=ys(i,JO);try{return e(o,u).select(n)}catch(d){l(new Yt("Error formatting plural.",o,d))}return"other"}var eL=["numeric","style"];function tL(t,e,n){var i=t.locale,o=t.formats,l=t.onError;n===void 0&&(n={});var u=n.format,d=!!u&&ip(o,"relative",u,l)||{},f=ys(n,eL,d);return e(i,f)}function nL(t,e,n,i,o){o===void 0&&(o={}),i||(i="second");var l=Intl.RelativeTimeFormat;l||t.onError(new Ur(`Intl.RelativeTimeFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-relativetimeformat"
`,Tn.MISSING_INTL_API));try{return tL(t,e,o).format(n,i)}catch(u){t.onError(new Yt("Error formatting relative time.",t.locale,u))}return String(n)}var rL=["style","currency","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem","trailingZeroDisplay","roundingPriority","roundingIncrement","roundingMode"];function yw(t,e,n){var i=t.locale,o=t.formats,l=t.onError;n===void 0&&(n={});var u=n.format,d=u&&ip(o,"number",u,l)||{},f=ys(n,rL,d);return e(i,f)}function iL(t,e,n,i){i===void 0&&(i={});try{return yw(t,e,i).format(n)}catch(o){t.onError(new Yt("Error formatting number.",t.locale,o))}return String(n)}function sL(t,e,n,i){i===void 0&&(i={});try{return yw(t,e,i).formatToParts(n)}catch(o){t.onError(new Yt("Error formatting number.",t.locale,o))}return[]}function oL(t){var e=t?t[Object.keys(t)[0]]:void 0;return typeof e=="string"}function aL(t){t.onWarn&&t.defaultRichTextElements&&oL(t.messages||{})&&t.onWarn(`[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. 
Please consider using "@formatjs/cli" to pre-compile your messages for performance.
For more details see https://formatjs.github.io/docs/getting-started/message-distribution`)}function lL(t,e){var n=HO(e),i=J(J({},gw),t),o=i.locale,l=i.defaultLocale,u=i.onError;return o?!Intl.NumberFormat.supportedLocalesOf(o).length&&u?u(new Y_('Missing locale data for locale: "'.concat(o,'" in Intl.NumberFormat. Using default locale: "').concat(l,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(o).length&&u&&u(new Y_('Missing locale data for locale: "'.concat(o,'" in Intl.DateTimeFormat. Using default locale: "').concat(l,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):(u&&u(new DO('"locale" was not configured, using "'.concat(l,'" as fallback. See https://formatjs.github.io/docs/react-intl/api#intlshape for more details'))),i.locale=i.defaultLocale||"en"),aL(i),J(J({},i),{formatters:n,formatNumber:iL.bind(null,i,n.getNumberFormat),formatNumberToParts:sL.bind(null,i,n.getNumberFormat),formatRelativeTime:nL.bind(null,i,n.getRelativeTimeFormat),formatDate:zO.bind(null,i,n.getDateTimeFormat),formatDateToParts:$O.bind(null,i,n.getDateTimeFormat),formatTime:WO.bind(null,i,n.getDateTimeFormat),formatDateTimeRange:VO.bind(null,i,n.getDateTimeFormat),formatTimeToParts:GO.bind(null,i,n.getDateTimeFormat),formatPlural:ZO.bind(null,i,n.getPluralRules),formatMessage:Gh.bind(null,i,n),$t:Gh.bind(null,i,n),formatList:XO.bind(null,i,n.getListFormat),formatListToParts:_w.bind(null,i,n.getListFormat),formatDisplayName:KO.bind(null,i,n.getDisplayNames)})}function uL(t,e,n){if(n===void 0&&(n=Error),!t)throw new n(e)}function Ew(t){uL(t,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var ww=J(J({},gw),{textComponent:k.Fragment}),cL={key:42},dL=function(t){return k.isValidElement(t)?k.createElement(k.Fragment,cL,t):t},hL=function(t){var e;return(e=k.Children.map(t,dL))!==null&&e!==void 0?e:[]};function fL(t){return function(e){return t(k.Children.toArray(e))}}function qh(t,e){if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t),i=Object.keys(e),o=n.length;if(i.length!==o)return!1;for(var l=0;l<o;l++){var u=n[l];if(t[u]!==e[u]||!Object.prototype.hasOwnProperty.call(e,u))return!1}return!0}var sh={exports:{}},Ce={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function pL(){if(ey)return Ce;ey=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,l=t?Symbol.for("react.profiler"):60114,u=t?Symbol.for("react.provider"):60109,d=t?Symbol.for("react.context"):60110,f=t?Symbol.for("react.async_mode"):60111,p=t?Symbol.for("react.concurrent_mode"):60111,g=t?Symbol.for("react.forward_ref"):60112,y=t?Symbol.for("react.suspense"):60113,v=t?Symbol.for("react.suspense_list"):60120,S=t?Symbol.for("react.memo"):60115,w=t?Symbol.for("react.lazy"):60116,R=t?Symbol.for("react.block"):60121,A=t?Symbol.for("react.fundamental"):60117,P=t?Symbol.for("react.responder"):60118,D=t?Symbol.for("react.scope"):60119;function M(O){if(typeof O=="object"&&O!==null){var $=O.$$typeof;switch($){case e:switch(O=O.type,O){case f:case p:case i:case l:case o:case y:return O;default:switch(O=O&&O.$$typeof,O){case d:case g:case w:case S:case u:return O;default:return $}}case n:return $}}}function z(O){return M(O)===p}return Ce.AsyncMode=f,Ce.ConcurrentMode=p,Ce.ContextConsumer=d,Ce.ContextProvider=u,Ce.Element=e,Ce.ForwardRef=g,Ce.Fragment=i,Ce.Lazy=w,Ce.Memo=S,Ce.Portal=n,Ce.Profiler=l,Ce.StrictMode=o,Ce.Suspense=y,Ce.isAsyncMode=function(O){return z(O)||M(O)===f},Ce.isConcurrentMode=z,Ce.isContextConsumer=function(O){return M(O)===d},Ce.isContextProvider=function(O){return M(O)===u},Ce.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===e},Ce.isForwardRef=function(O){return M(O)===g},Ce.isFragment=function(O){return M(O)===i},Ce.isLazy=function(O){return M(O)===w},Ce.isMemo=function(O){return M(O)===S},Ce.isPortal=function(O){return M(O)===n},Ce.isProfiler=function(O){return M(O)===l},Ce.isStrictMode=function(O){return M(O)===o},Ce.isSuspense=function(O){return M(O)===y},Ce.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===i||O===p||O===l||O===o||O===y||O===v||typeof O=="object"&&O!==null&&(O.$$typeof===w||O.$$typeof===S||O.$$typeof===u||O.$$typeof===d||O.$$typeof===g||O.$$typeof===A||O.$$typeof===P||O.$$typeof===D||O.$$typeof===R)},Ce.typeOf=M,Ce}var ty;function mL(){return ty||(ty=1,sh.exports=pL()),sh.exports}var oh,ny;function gL(){if(ny)return oh;ny=1;var t=mL(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[t.ForwardRef]=i,l[t.Memo]=o;function u(w){return t.isMemo(w)?o:l[w.$$typeof]||e}var d=Object.defineProperty,f=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,v=Object.prototype;function S(w,R,A){if(typeof R!="string"){if(v){var P=y(R);P&&P!==v&&S(w,P,A)}var D=f(R);p&&(D=D.concat(p(R)));for(var M=u(w),z=u(R),O=0;O<D.length;++O){var $=D[O];if(!n[$]&&!(A&&A[$])&&!(z&&z[$])&&!(M&&M[$])){var X=g(R,$);try{d(w,$,X)}catch{}}}}return w}return oh=S,oh}gL();var sp=typeof window<"u"&&!window.__REACT_INTL_BYPASS_GLOBAL_CONTEXT__?window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=k.createContext(null)):k.createContext(null);sp.Consumer;var vL=sp.Provider,_L=vL,yL=sp;function op(){var t=k.useContext(yL);return Ew(t),t}var Kh;(function(t){t.formatDate="FormattedDate",t.formatTime="FormattedTime",t.formatNumber="FormattedNumber",t.formatList="FormattedList",t.formatDisplayName="FormattedDisplayName"})(Kh||(Kh={}));var Qh;(function(t){t.formatDate="FormattedDateParts",t.formatTime="FormattedTimeParts",t.formatNumber="FormattedNumberParts",t.formatList="FormattedListParts"})(Qh||(Qh={}));function Sw(t){var e=function(n){var i=op(),o=n.value,l=n.children,u=Gn(n,["value","children"]),d=typeof o=="string"?new Date(o||0):o,f=t==="formatDate"?i.formatDateToParts(d,u):i.formatTimeToParts(d,u);return l(f)};return e.displayName=Qh[t],e}function la(t){var e=function(n){var i=op(),o=n.value,l=n.children,u=Gn(n,["value","children"]),d=i[t](o,u);if(typeof l=="function")return l(d);var f=i.textComponent||k.Fragment;return k.createElement(f,null,d)};return e.displayName=Kh[t],e}function Cw(t){return t&&Object.keys(t).reduce(function(e,n){var i=t[n];return e[n]=pw(i)?fL(i):i,e},{})}var ry=function(t,e,n,i){for(var o=[],l=4;l<arguments.length;l++)o[l-4]=arguments[l];var u=Cw(i),d=Gh.apply(void 0,Sn([t,e,n,u],o,!1));return Array.isArray(d)?hL(d):d},iy=function(t,e){var n=t.defaultRichTextElements,i=Gn(t,["defaultRichTextElements"]),o=Cw(n),l=lL(J(J(J({},ww),i),{defaultRichTextElements:o}),e),u={locale:l.locale,timeZone:l.timeZone,fallbackOnEmptyString:l.fallbackOnEmptyString,formats:l.formats,defaultLocale:l.defaultLocale,defaultFormats:l.defaultFormats,messages:l.messages,onError:l.onError,defaultRichTextElements:o};return J(J({},l),{formatMessage:ry.bind(null,u,l.formatters),$t:ry.bind(null,u,l.formatters)})};function EL(t,e){var n=t.values,i=Gn(t,["values"]),o=e.values,l=Gn(e,["values"]);return qh(o,n)&&qh(i,l)}function Iw(t){var e=op(),n=e.formatMessage,i=e.textComponent,o=i===void 0?k.Fragment:i,l=t.id,u=t.description,d=t.defaultMessage,f=t.values,p=t.children,g=t.tagName,y=g===void 0?o:g,v=t.ignoreTag,S={id:l,description:u,defaultMessage:d},w=n(S,f,{ignoreTag:v});return typeof p=="function"?p(Array.isArray(w)?w:[w]):y?k.createElement(y,null,w):k.createElement(k.Fragment,null,w)}Iw.displayName="FormattedMessage";var tt=k.memo(Iw,EL);tt.displayName="MemoizedFormattedMessage";function ah(t){return{locale:t.locale,timeZone:t.timeZone,fallbackOnEmptyString:t.fallbackOnEmptyString,formats:t.formats,textComponent:t.textComponent,messages:t.messages,defaultLocale:t.defaultLocale,defaultFormats:t.defaultFormats,onError:t.onError,onWarn:t.onWarn,wrapRichTextChunksInFragment:t.wrapRichTextChunksInFragment,defaultRichTextElements:t.defaultRichTextElements}}var wL=function(t){Qt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cache=vw(),n.state={cache:n.cache,intl:iy(ah(n.props),n.cache),prevConfig:ah(n.props)},n}return e.getDerivedStateFromProps=function(n,i){var o=i.prevConfig,l=i.cache,u=ah(n);return qh(o,u)?null:{intl:iy(u,l),prevConfig:u}},e.prototype.render=function(){return Ew(this.state.intl),k.createElement(_L,{value:this.state.intl},this.props.children)},e.displayName="IntlProvider",e.defaultProps=ww,e}(k.PureComponent);la("formatDate");la("formatTime");la("formatNumber");la("formatList");la("formatDisplayName");Sw("formatDate");Sw("formatTime");const SL=()=>{const{user:t,roles:e}=fi(d=>d.auth),n=fi(d=>d.i18n.locale),i=Nu(),o=Vo(),l=async()=>{try{await ss.signOut(),i(BA()),o("/login")}catch(d){console.error("Error al cerrar sesin:",d)}},u=d=>{i(WA(d.target.value))};return T.jsx("nav",{className:"navbar",children:T.jsxs("ul",{className:"nav-menu",children:[t&&e&&e.includes(Cr.USER)&&T.jsx("li",{children:T.jsx(ni,{to:"/dashboard2",children:T.jsx(tt,{id:"navbar.myIncidents"})})}),t&&e&&e.includes(Cr.ADMIN)&&T.jsxs(T.Fragment,{children:[T.jsx("li",{children:T.jsx(ni,{to:"/dashboard",children:T.jsx(tt,{id:"navbar.incidents"})})}),T.jsx("li",{children:T.jsx(ni,{to:"/admin",children:T.jsx(tt,{id:"navbar.userRoles"})})})]}),!t&&T.jsx("li",{children:T.jsx(ni,{to:"/login",children:T.jsx(tt,{id:"navbar.login"})})}),!t&&T.jsx("li",{children:T.jsx(ni,{to:"/register",children:T.jsx(tt,{id:"navbar.register"})})}),t&&T.jsxs(T.Fragment,{children:[T.jsx("li",{children:T.jsxs("select",{value:n,onChange:u,className:"ml-4 p-1 rounded bg-gray-700 text-white border border-gray-600",children:[T.jsx("option",{value:"es",children:"Espaol"}),T.jsx("option",{value:"en",children:"English"})]})}),T.jsx("li",{children:T.jsx("button",{onClick:l,children:T.jsx(tt,{id:"navbar.logout"})})})]})]})})},sy=({children:t})=>{const{user:e,roles:n,isLoading:i}=fi(o=>o.auth);return i?T.jsx("div",{children:"Cargando autenticacin..."}):!e||!n||!n.includes(Cr.ADMIN)?T.jsx(vy,{to:"/",replace:!0}):T.jsx(T.Fragment,{children:t})},CL=({children:t})=>{const{user:e,isLoading:n}=fi(i=>i.auth);return n?T.jsx("div",{children:"Cargando autenticacin..."}):e?t:T.jsx(vy,{to:"/login",replace:!0})},IL=()=>{const[t,e]=k.useState(""),[n,i]=k.useState(""),[o,l]=k.useState(""),u=Vo(),d=Nu(),f=async p=>{p.preventDefault(),l(""),d(Mn(null)),d(si(!0));try{const g=await ss.signIn(t,n);console.log("Usuario autenticado:",g.user),u("/")}catch(g){console.error("Error al iniciar sesin:",g),l(g.message),d(Mn(g.message))}finally{d(si(!1))}};return T.jsxs("form",{onSubmit:f,children:[T.jsx("h2",{children:"Iniciar Sesin"}),T.jsx("input",{type:"email",placeholder:"Correo electrnico",value:t,onChange:p=>e(p.target.value)}),T.jsx("input",{type:"password",placeholder:"Contrasea",value:n,onChange:p=>i(p.target.value)}),T.jsx("button",{type:"submit",children:"Login"}),o&&T.jsx("p",{className:"error-message",children:o})]})},TL=()=>{const[t,e]=k.useState(""),[n,i]=k.useState(""),[o,l]=k.useState(""),[u,d]=k.useState(""),f=Vo(),p=Nu(),g=async y=>{y.preventDefault(),l(""),d(""),p(Mn(null)),p(si(!0));try{const v=await ss.signUp(t,n);console.log("Usuario registrado:",v.user),await ss.setUserRoles(v.user.uid,{email:v.user.email,roles:{admin:!1}}),d("Registro exitoso. Redirigiendo..."),setTimeout(()=>{f("/")},2e3)}catch(v){console.error("Error al registrarse:",v),l(v.message),p(Mn(v.message))}finally{p(si(!1))}};return T.jsxs("form",{onSubmit:g,children:[T.jsx("h2",{children:"Registrarse"}),T.jsx("input",{type:"email",placeholder:"Correo electrnico",value:t,onChange:y=>e(y.target.value)}),T.jsx("input",{type:"password",placeholder:"Contrasea",value:n,onChange:y=>i(y.target.value)}),T.jsx("button",{type:"submit",children:"Registrarse"}),o&&T.jsx("p",{className:"error-message",children:o}),u&&T.jsx("p",{className:"success-message",children:u})]})};function oy(){return T.jsx(T.Fragment,{children:T.jsx("div",{children:"Primero debes registrate O iniciar sesin"})})}class xL{constructor(){$i(this,"levels");$i(this,"currentLevel");this.levels=["debug","info","warn","error"],this.currentLevel="debug"}setLevel(e){this.levels.includes(e)?this.currentLevel=e:console.error(`Nivel de log no vlido: ${e}`)}log(e,n){const i=this.levels.indexOf(e),o=this.levels.indexOf(this.currentLevel);if(i>=o){const l=new Date().toISOString();console[e](`[${e.toUpperCase()}] ${l}: ${n}`)}}debug(e){this.log("debug",e)}info(e){this.log("info",e)}warn(e){this.log("warn",e)}error(e){this.log("error",e)}}const Ze=new xL,RL=({incident:t,onIncidentUpdated:e,onIncidentClick:n})=>{const i=async()=>{const o=cn(Gt),l=un(o,`incidents/${t.id}`);try{await Ru(l,{status:!1}),Ze.info("Incident new status Closed"),e()}catch(u){Ze.error("Error closing incident:"+u)}};return T.jsx(T.Fragment,{children:T.jsxs("div",{className:"incident-item",children:[t.status?T.jsxs("div",{className:"incident-id",onClick:()=>n(t),style:{cursor:"pointer"},children:["INC",t.id]}):T.jsxs("div",{className:"incident-id-close",onClick:()=>n(t),style:{cursor:"pointer"},children:["INC",t.id]}),T.jsx("div",{className:"incident-title",onClick:()=>n(t),style:{cursor:"pointer"},children:t.title}),T.jsx("div",{className:"incident-path",onClick:()=>n(t),style:{cursor:"pointer"},children:t.path}),T.jsx("div",{className:"incident-assigned",onClick:()=>n(t),style:{cursor:"pointer"},children:t.assignedUser}),T.jsx("div",{className:"incident-date",onClick:()=>n(t),style:{cursor:"pointer"},children:t.fecha}),T.jsx("div",{className:"incident-action",children:t.status?T.jsx("button",{className:"close-incident-button",onClick:i,children:"Cerrar incidente"}):T.jsx("span",{className:"incident-closed",children:"Incidente cerrado"})})]})})},kL=()=>{const[t,e]=k.useState([]),[n,i]=k.useState(!1),[o,l]=k.useState(""),[u,d]=k.useState(""),[f,p]=k.useState(""),[g,y]=k.useState([]),[v,S]=k.useState(!0),[w,R]=k.useState(!0),[A,P]=k.useState(null),[D,M]=k.useState(!1),[z,O]=k.useState(!1),[$,X]=k.useState(null),[ue,te]=k.useState(""),we=()=>{Ze.info("Open create Modal"),i(!0)},mt=()=>{Ze.info("Close create Modal"),i(!1),l(""),d(""),p("")},Ct=U=>{Ze.info("Open edit Modal"),X(U),O(!0)},ut=()=>{Ze.info("Close edit Modal"),O(!1),X(null)},gt=U=>{const{name:Z,value:G}=U.target;switch(Z){case"title":l(G);break;case"path":d(G);break;case"assignedUser":p(G);break}},Ut=async()=>{if(o&&u&&f){const U=cn(Gt),Z=un(U,"incidents"),G={fecha:new Date().toLocaleString("es-ES"),assignedUser:f,title:o,path:u,status:!0};try{await lb(Z,G),Ze.info("Adding new Incident"),mt(),M(x=>!x)}catch(x){Ze.error("Error adding incident:"+x),P("Error al agregar el incidente.")}}else Ze.info("Missing param"),alert("Por favor, completa todos los campos.")},ct=()=>{Ze.info("Refresh list"),M(U=>!U)},De=async()=>{if($){const U=cn(Gt),Z=un(U,`incidents/${$.id}`);try{const G={title:$.title,path:$.path,assignedUser:$.assignedUser};await Ru(Z,G),Ze.info("Update Incident "+G.title),ut(),M(x=>!x)}catch(G){Ze.error("Error updating incident:"+G),P("Error al actualizar el incidente.")}}};return k.useEffect(()=>{const U=async()=>{S(!0);const G=cn(Gt),x=un(G,"incidents"),F=DE(x,LE("fecha"));try{const ne=await Ho(F);if(ne.exists()){const le=ne.val(),ce=Object.keys(le).map(pe=>({id:pe,...le[pe]})).sort((pe,xe)=>{const Se=Z(pe.fecha);return Z(xe.fecha).getTime()-Se.getTime()});Ze.info("Get Incidents: "+ce),e(ce)}else e([]),Ze.warn("No incidents data available")}catch(ne){Ze.error("Error fetching incidents:"+ne),P("Error al cargar los incidentes.")}finally{S(!1)}},Z=G=>{if(!G)return new Date(0);const x=G.split(", "),F=x[0].split("/"),ne=x[1].split(":");return new Date(parseInt(F[2],10),parseInt(F[1],10)-1,parseInt(F[0],10),parseInt(ne[0],10),parseInt(ne[1],10),parseInt(ne[2],10))};U()},[D]),k.useEffect(()=>{(async()=>{var x;R(!0);const Z=cn(Gt),G=un(Z,"users");try{const F=await Ho(G);if(F.exists()){const ne=F.val(),le=[];for(const ce in ne)Object.prototype.hasOwnProperty.call(ne,ce)&&!((x=ne[ce].roles)!=null&&x.admin)&&le.push({uid:ce,...ne[ce]});Ze.info("Get Users: "+le),y(le)}else y([]),Ze.warn("No users data available")}catch(F){Ze.error("Error fetching users:"+F),P("Error al cargar los usuarios.")}finally{R(!1)}})()},[]),v||w?T.jsx("div",{children:"Cargando..."}):A?T.jsxs("div",{children:["Error: ",A]}):T.jsxs("div",{className:"incident-list-container",children:[T.jsxs("div",{className:"incident-list-header",children:[T.jsxs("div",{className:"search-input-wrapper",children:[T.jsx("svg",{className:"search-icon","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:T.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-2-2m0-7a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z"})}),T.jsx("input",{type:"text",className:"search-input",placeholder:"Buscar por ttulo o ubicacin",value:ue,onChange:U=>te(U.target.value)})]}),T.jsx("button",{onClick:we,className:"add-incident-button",children:"Agregar Incidente"})]}),T.jsxs("div",{className:"incident-list-grid header-row",children:[T.jsx("div",{className:"grid-item",children:"ID"}),T.jsx("div",{className:"grid-item",children:"Ttulo"}),T.jsx("div",{className:"grid-item",children:"Ubicacin"}),T.jsx("div",{className:"grid-item",children:"Asignado a"}),T.jsx("div",{className:"grid-item",children:"Fecha"}),T.jsx("div",{className:"grid-item",children:"Accin"})]}),t.filter(U=>U.title.toLowerCase().includes(ue.toLowerCase())||U.path.toLowerCase().includes(ue.toLowerCase())).map(U=>T.jsx(RL,{incident:U,onIncidentUpdated:ct,onIncidentClick:Ct},U.id)),n&&T.jsx("div",{className:"modal-overlay",children:T.jsxs("div",{className:"modal",children:[T.jsxs("div",{className:"modal-header",children:[T.jsx("h2",{children:"Creando Incidente"}),T.jsx("button",{onClick:mt,children:T.jsxs("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),T.jsxs("div",{className:"modal-content",children:[T.jsx("label",{htmlFor:"title",children:"Ttulo"}),T.jsx("input",{type:"text",id:"title",name:"title",value:o,onChange:gt}),T.jsx("label",{htmlFor:"path",children:"Ubicacin"}),T.jsx("input",{type:"text",id:"path",name:"path",value:u,onChange:gt}),T.jsx("label",{htmlFor:"assignedUser",children:"Personal Asignado"}),T.jsxs("select",{id:"assignedUser",name:"assignedUser",value:f,onChange:gt,children:[T.jsx("option",{value:"",children:"Seleccionar usuario"}),g.map(U=>T.jsx("option",{value:U.email,children:U.email},U.uid))]}),T.jsx("div",{className:"modal-footer",children:T.jsx("button",{onClick:Ut,className:"confirm-button",children:"Agregar Incidente"})})]})]})}),z&&$&&T.jsx("div",{className:"modal-overlay",children:T.jsxs("div",{className:"modal",children:[T.jsxs("div",{className:"modal-header",children:[T.jsxs("h2",{children:["Incidente INC",$.id]}),T.jsx("button",{onClick:ut,children:T.jsxs("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),T.jsxs("div",{className:"modal-content",children:[T.jsx("label",{htmlFor:"editTitle",children:"Ttulo"}),T.jsx("input",{type:"text",id:"editTitle",name:"title",value:$.title,onChange:U=>X({...$,title:U.target.value})}),T.jsx("label",{htmlFor:"editPath",children:"Ubicacin"}),T.jsx("input",{type:"text",id:"editPath",name:"path",value:$.path,onChange:U=>X({...$,path:U.target.value})}),T.jsx("label",{htmlFor:"editAssignedUser",children:"Personal Asignado"}),T.jsxs("select",{id:"editAssignedUser",name:"assignedUser",value:$.assignedUser,onChange:U=>X({...$,assignedUser:U.target.value}),children:[T.jsx("option",{value:"",children:"Seleccionar usuario"}),g.map(U=>T.jsx("option",{value:U.email,children:U.email},U.uid))]}),T.jsx("div",{className:"modal-footer",children:T.jsxs("button",{className:"confirm-button",onClick:De,children:[" ","Guardar"]})})]})]})})]})},NL=({incident:t,onIncidentUpdated:e})=>{const n=async()=>{const i=cn(Gt),o=un(i,`incidents/${t.id}`);try{await Ru(o,{status:!1}),e()}catch(l){console.error("Error closing incident:",l)}};return T.jsxs("div",{className:"incident-item",style:{cursor:"pointer"},children:[t.status?T.jsxs("div",{className:"incident-id",children:["INC",t.id]}):T.jsxs("div",{className:"incident-id-close",children:["INC",t.id]}),T.jsx("div",{className:"incident-title",children:t.title}),T.jsx("div",{className:"incident-path",children:t.path}),T.jsx("div",{className:"incident-assigned",children:t.assignedUser}),T.jsx("div",{className:"incident-date",children:t.fecha}),T.jsx("div",{className:"incident-action",children:t.status?T.jsx("button",{className:"close-incident-button",onClick:n,children:T.jsx(tt,{id:"incidentItem.closeButton"})}):T.jsx("span",{className:"incident-closed",children:T.jsx(tt,{id:"incidentItem.closedStatus"})})})]})},PL=()=>{const[t,e]=k.useState([]),[n,i]=k.useState(!0),[o,l]=k.useState(null),[u,d]=k.useState(!1),{user:f,isLoading:p}=fi(S=>S.auth),[g,y]=k.useState(""),v=()=>{d(S=>!S)};return k.useEffect(()=>{const S=async()=>{i(!0);const R=cn(Gt);if(!f||!f.email){e([]),i(!1),l("No user or user email available to fetch incidents.");return}const A=un(R,"incidents"),P=DE(A,LE("assignedUser"),fb(f.email));try{const D=await Ho(P);if(D.exists()){const M=D.val(),z=Object.keys(M).map(O=>({id:O,...M[O]}));z.sort((O,$)=>{const X=w(O.fecha);return w($.fecha).getTime()-X.getTime()}),e(z)}else e([]),console.log("No incidents data available for this user.")}catch(D){console.error("Error fetching incidents:",D),l("Error al cargar los incidentes del usuario.")}finally{i(!1)}},w=R=>{if(!R)return new Date(0);const A=R.split(", "),P=A[0].split("/"),D=A[1].split(":");return new Date(parseInt(P[2],10),parseInt(P[1],10)-1,parseInt(P[0],10),parseInt(D[0],10),parseInt(D[1],10),parseInt(D[2],10))};f&&!p?S():!p&&!f&&(e([]),i(!1),l("Inicia sesin para ver tus incidentes."))},[u,f,p]),p||n?T.jsx("div",{children:T.jsx(tt,{id:"incidentListUser.loading"})}):o?T.jsxs("div",{children:[T.jsx(tt,{id:"incidentListUser.errorPrefix"})," ",o]}):f?T.jsxs("div",{className:"incident-list-container",children:[T.jsx("div",{className:"incident-list-header",children:T.jsxs("div",{className:"search-input-wrapper",children:[T.jsx("svg",{className:"search-icon","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:T.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-2-2m0-7a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z"})}),T.jsx("input",{type:"text",className:"search-input",placeholder:"ex",value:g,onChange:S=>y(S.target.value)})]})}),T.jsxs("div",{className:"incident-list-grid header-row",children:[T.jsx("div",{className:"grid-item",children:T.jsx(tt,{id:"incidentListUser.tableHeader.id"})}),T.jsx("div",{className:"grid-item",children:T.jsx(tt,{id:"incidentListUser.tableHeader.title"})}),T.jsx("div",{className:"grid-item",children:T.jsx(tt,{id:"incidentListUser.tableHeader.location"})}),T.jsx("div",{className:"grid-item",children:T.jsx(tt,{id:"incidentListUser.tableHeader.assignedTo"})}),T.jsx("div",{className:"grid-item",children:T.jsx(tt,{id:"incidentListUser.tableHeader.date"})}),T.jsx("div",{className:"grid-item",children:T.jsx(tt,{id:"incidentListUser.tableHeader.action"})})]}),t.filter(S=>S.title.toLowerCase().includes(g.toLowerCase())||S.path.toLowerCase().includes(g.toLowerCase())).map(S=>T.jsx(NL,{incident:S,onIncidentUpdated:v},S.id))]}):T.jsx("div",{children:T.jsx(tt,{id:"incidentListUser.loginPrompt"})})},bL=()=>{const[t,e]=k.useState([]),[n,i]=k.useState(!0),[o,l]=k.useState(null),{user:u,isLoading:d}=fi(p=>p.auth);k.useEffect(()=>{u&&!d?(async()=>{i(!0);const g=cn(Gt),y=un(g,"users");try{const v=await Ho(y);if(v.exists()){const S=v.val(),w=Object.keys(S).filter(R=>R!==(u==null?void 0:u.uid)).map(R=>({uid:R,email:S[R].email,roles:S[R].roles||{admin:!1}}));e(w)}else e([])}catch(v){console.error("Error fetching users:",v),l("Error al cargar los usuarios.")}finally{i(!1)}})():!d&&!u&&(e([]),i(!1),l("No hay usuario logueado para administrar roles."))},[u==null?void 0:u.uid,d]);const f=async(p,g)=>{const y=cn(Gt),v=un(y,`users/${p}/roles`);try{await Ru(v,{admin:g}),e(S=>S.map(w=>w.uid===p?{...w,roles:{admin:g}}:w))}catch(S){console.error("Error updating user role:",S),l("Error al actualizar el rol del usuario.")}};return n||d?T.jsx("div",{className:"p-4 text-center text-lg font-semibold",children:"Cargando usuarios..."}):o?T.jsxs("div",{className:"p-4 text-center text-red-600 font-bold",children:["Error: ",o]}):T.jsxs("div",{className:"p-5",children:[" ",T.jsx("h2",{className:"text-2xl font-bold mb-5",children:"Administracin de Roles"})," ",T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:[" ",t.map(p=>{var g,y;return T.jsxs("div",{className:"border border-gray-300 p-4 rounded-lg text-center shadow-sm",children:[" ",T.jsx("h3",{className:"text-xl font-semibold mb-2",children:p.email})," ",T.jsxs("div",{className:"flex justify-center gap-2",children:[" ",T.jsx("button",{className:`py-2 px-4 border rounded-md cursor-pointer transition-colors duration-300 ease-in-out
                                    ${(g=p.roles)!=null&&g.admin?"bg-green-600 text-white border-green-600 hover:bg-green-700":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,onClick:()=>f(p.uid,!0),children:"Admin"}),T.jsx("button",{className:`py-2 px-4 border rounded-md cursor-pointer transition-colors duration-300 ease-in-out
                                    ${(y=p.roles)!=null&&y.admin?"bg-white text-gray-800 border-gray-300 hover:bg-gray-100":"bg-green-600 text-white border-green-600 hover:bg-green-700"}`,onClick:()=>f(p.uid,!1),children:"Personal"})]})]},p.uid)})]})]})},AL={"navbar.myIncidents":"Mis Incidentes","navbar.incidents":"Incidentes","navbar.userRoles":"Roles de Usuario","navbar.login":"Iniciar Sesin","navbar.register":"Registro","navbar.logout":"Cerrar Sesin","incidentItem.closeButton":"Cerrar incidente","incidentItem.closedStatus":"Incidente cerrado","incidentListUser.loading":"Cargando incidentes...","incidentListUser.errorPrefix":"Error:","incidentListUser.loginPrompt":"Inicia sesin para ver tus incidentes.","incidentListUser.searchPlaceholder":"Buscar por ttulo o ubicacin","incidentListUser.tableHeader.id":"ID","incidentListUser.tableHeader.title":"Ttulo","incidentListUser.tableHeader.location":"Ubicacin","incidentListUser.tableHeader.assignedTo":"Asignado a","incidentListUser.tableHeader.date":"Fecha","incidentListUser.tableHeader.action":"Accin"},OL={"navbar.myIncidents":"My Incidents","navbar.incidents":"Incidents","navbar.userRoles":"User Roles","navbar.login":"Login","navbar.register":"Register","navbar.logout":"Logout","incidentItem.closeButton":"Close Incident","incidentItem.closedStatus":"Incident Closed","incidentListUser.loading":"Loading incidents...","incidentListUser.errorPrefix":"Error:","incidentListUser.loginPrompt":"Please log in to view your incidents.","incidentListUser.searchPlaceholder":"Search by title or location","incidentListUser.tableHeader.id":"ID","incidentListUser.tableHeader.title":"Title","incidentListUser.tableHeader.location":"Location","incidentListUser.tableHeader.assignedTo":"Assigned To","incidentListUser.tableHeader.date":"Date","incidentListUser.tableHeader.action":"Action"},ay={es:AL,en:OL};RC.createContext([]);const LL=()=>{const t=Nu(),e=fi(n=>n.i18n.locale);return k.useEffect(()=>{const n=ss.onAuthStateChanged(async i=>{if(t(si(!0)),t(H_(i)),i)try{await t(Dl(i)).unwrap(),t(Mn(null))}catch(o){console.error("Error al obtener los roles en App:",o),o instanceof Error?t(Mn(o.message)):t(Mn(typeof o=="string"?o:"An unknown error occurred while fetching roles.")),t(j_(null)),t(H_(null))}finally{t(si(!1))}else t(j_(null)),t(si(!1)),t(Mn(null))});return()=>n()},[t]),T.jsx(wL,{locale:e,messages:ay[e]||ay.es,defaultLocale:"es",children:T.jsxs(KI,{children:[T.jsx(SL,{}),T.jsx("div",{className:"main-content",children:T.jsxs(II,{children:[T.jsx(vr,{path:"/",element:T.jsx(oy,{})}),T.jsx(vr,{path:"/login",element:T.jsx(IL,{})}),T.jsx(vr,{path:"/register",element:T.jsx(TL,{})}),T.jsx(vr,{path:"/dashboard",element:T.jsx(sy,{children:T.jsx(kL,{})})}),T.jsx(vr,{path:"/dashboard2",element:T.jsx(CL,{children:T.jsx(PL,{})})}),T.jsx(vr,{path:"/admin",element:T.jsx(sy,{children:T.jsx(bL,{})})}),T.jsx(vr,{path:"*",element:T.jsx(oy,{})})]})})]})})},DL=vA({reducer:{auth:HA,i18n:VA}});OC.createRoot(document.getElementById("root")).render(T.jsx(k.StrictMode,{children:T.jsx(Bb,{store:DL,children:T.jsx(LL,{})})}));
