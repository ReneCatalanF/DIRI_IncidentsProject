var PC=Object.defineProperty;var bC=(t,e,n)=>e in t?PC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Gi=(t,e,n)=>bC(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function NC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kd={exports:{}},lo={},Ad={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function kC(){if(ov)return fe;ov=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function v(x){return x===null||typeof x!="object"?null:(x=_&&x[_]||x["@@iterator"],typeof x=="function"?x:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,R={};function A(x,D,te){this.props=x,this.context=D,this.refs=R,this.updater=te||w}A.prototype.isReactComponent={},A.prototype.setState=function(x,D){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,D,"setState")},A.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function N(){}N.prototype=A.prototype;function M(x,D,te){this.props=x,this.context=D,this.refs=R,this.updater=te||w}var F=M.prototype=new N;F.constructor=M,C(F,A.prototype),F.isPureReactComponent=!0;var z=Array.isArray,L=Object.prototype.hasOwnProperty,$={current:null},X={key:!0,ref:!0,__self:!0,__source:!0};function de(x,D,te){var le,ce={},he=null,ye=null;if(D!=null)for(le in D.ref!==void 0&&(ye=D.ref),D.key!==void 0&&(he=""+D.key),D)L.call(D,le)&&!X.hasOwnProperty(le)&&(ce[le]=D[le]);var _e=arguments.length-2;if(_e===1)ce.children=te;else if(1<_e){for(var be=Array(_e),gt=0;gt<_e;gt++)be[gt]=arguments[gt+2];ce.children=be}if(x&&x.defaultProps)for(le in _e=x.defaultProps,_e)ce[le]===void 0&&(ce[le]=_e[le]);return{$$typeof:t,type:x,key:he,ref:ye,props:ce,_owner:$.current}}function ee(x,D){return{$$typeof:t,type:x.type,key:D,ref:x.ref,props:x.props,_owner:x._owner}}function Se(x){return typeof x=="object"&&x!==null&&x.$$typeof===t}function Ct(x){var D={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(te){return D[te]})}var pt=/\/+/g;function mt(x,D){return typeof x=="object"&&x!==null&&x.key!=null?Ct(""+x.key):D.toString(36)}function It(x,D,te,le,ce){var he=typeof x;(he==="undefined"||he==="boolean")&&(x=null);var ye=!1;if(x===null)ye=!0;else switch(he){case"string":case"number":ye=!0;break;case"object":switch(x.$$typeof){case t:case e:ye=!0}}if(ye)return ye=x,ce=ce(ye),x=le===""?"."+mt(ye,0):le,z(ce)?(te="",x!=null&&(te=x.replace(pt,"$&/")+"/"),It(ce,D,te,"",function(gt){return gt})):ce!=null&&(Se(ce)&&(ce=ee(ce,te+(!ce.key||ye&&ye.key===ce.key?"":(""+ce.key).replace(pt,"$&/")+"/")+x)),D.push(ce)),1;if(ye=0,le=le===""?".":le+":",z(x))for(var _e=0;_e<x.length;_e++){he=x[_e];var be=le+mt(he,_e);ye+=It(he,D,te,be,ce)}else if(be=v(x),typeof be=="function")for(x=be.call(x),_e=0;!(he=x.next()).done;)he=he.value,be=le+mt(he,_e++),ye+=It(he,D,te,be,ce);else if(he==="object")throw D=String(x),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return ye}function Tt(x,D,te){if(x==null)return x;var le=[],ce=0;return It(x,le,"","",function(he){return D.call(te,he,ce++)}),le}function ut(x){if(x._status===-1){var D=x._result;D=D(),D.then(function(te){(x._status===0||x._status===-1)&&(x._status=1,x._result=te)},function(te){(x._status===0||x._status===-1)&&(x._status=2,x._result=te)}),x._status===-1&&(x._status=0,x._result=D)}if(x._status===1)return x._result.default;throw x._result}var De={current:null},G={transition:null},se={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:G,ReactCurrentOwner:$};function H(){throw Error("act(...) is not supported in production builds of React.")}return fe.Children={map:Tt,forEach:function(x,D,te){Tt(x,function(){D.apply(this,arguments)},te)},count:function(x){var D=0;return Tt(x,function(){D++}),D},toArray:function(x){return Tt(x,function(D){return D})||[]},only:function(x){if(!Se(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},fe.Component=A,fe.Fragment=n,fe.Profiler=o,fe.PureComponent=M,fe.StrictMode=i,fe.Suspense=h,fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,fe.act=H,fe.cloneElement=function(x,D,te){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var le=C({},x.props),ce=x.key,he=x.ref,ye=x._owner;if(D!=null){if(D.ref!==void 0&&(he=D.ref,ye=$.current),D.key!==void 0&&(ce=""+D.key),x.type&&x.type.defaultProps)var _e=x.type.defaultProps;for(be in D)L.call(D,be)&&!X.hasOwnProperty(be)&&(le[be]=D[be]===void 0&&_e!==void 0?_e[be]:D[be])}var be=arguments.length-2;if(be===1)le.children=te;else if(1<be){_e=Array(be);for(var gt=0;gt<be;gt++)_e[gt]=arguments[gt+2];le.children=_e}return{$$typeof:t,type:x.type,key:ce,ref:he,props:le,_owner:ye}},fe.createContext=function(x){return x={$$typeof:u,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:l,_context:x},x.Consumer=x},fe.createElement=de,fe.createFactory=function(x){var D=de.bind(null,x);return D.type=x,D},fe.createRef=function(){return{current:null}},fe.forwardRef=function(x){return{$$typeof:d,render:x}},fe.isValidElement=Se,fe.lazy=function(x){return{$$typeof:g,_payload:{_status:-1,_result:x},_init:ut}},fe.memo=function(x,D){return{$$typeof:p,type:x,compare:D===void 0?null:D}},fe.startTransition=function(x){var D=G.transition;G.transition={};try{x()}finally{G.transition=D}},fe.unstable_act=H,fe.useCallback=function(x,D){return De.current.useCallback(x,D)},fe.useContext=function(x){return De.current.useContext(x)},fe.useDebugValue=function(){},fe.useDeferredValue=function(x){return De.current.useDeferredValue(x)},fe.useEffect=function(x,D){return De.current.useEffect(x,D)},fe.useId=function(){return De.current.useId()},fe.useImperativeHandle=function(x,D,te){return De.current.useImperativeHandle(x,D,te)},fe.useInsertionEffect=function(x,D){return De.current.useInsertionEffect(x,D)},fe.useLayoutEffect=function(x,D){return De.current.useLayoutEffect(x,D)},fe.useMemo=function(x,D){return De.current.useMemo(x,D)},fe.useReducer=function(x,D,te){return De.current.useReducer(x,D,te)},fe.useRef=function(x){return De.current.useRef(x)},fe.useState=function(x){return De.current.useState(x)},fe.useSyncExternalStore=function(x,D,te){return De.current.useSyncExternalStore(x,D,te)},fe.useTransition=function(){return De.current.useTransition()},fe.version="18.3.1",fe}var av;function pu(){return av||(av=1,Ad.exports=kC()),Ad.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function AC(){if(lv)return lo;lv=1;var t=pu(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,p){var g,_={},v=null,w=null;p!==void 0&&(v=""+p),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(w=h.ref);for(g in h)i.call(h,g)&&!l.hasOwnProperty(g)&&(_[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)_[g]===void 0&&(_[g]=h[g]);return{$$typeof:e,type:d,key:v,ref:w,props:_,_owner:o.current}}return lo.Fragment=n,lo.jsx=u,lo.jsxs=u,lo}var uv;function LC(){return uv||(uv=1,kd.exports=AC()),kd.exports}var S=LC(),P=pu();const Cr=NC(P);var wl={},Ld={exports:{}},kt={},Od={exports:{}},Md={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function OC(){return cv||(cv=1,function(t){function e(G,se){var H=G.length;G.push(se);e:for(;0<H;){var x=H-1>>>1,D=G[x];if(0<o(D,se))G[x]=se,G[H]=D,H=x;else break e}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var se=G[0],H=G.pop();if(H!==se){G[0]=H;e:for(var x=0,D=G.length,te=D>>>1;x<te;){var le=2*(x+1)-1,ce=G[le],he=le+1,ye=G[he];if(0>o(ce,H))he<D&&0>o(ye,ce)?(G[x]=ye,G[he]=H,x=he):(G[x]=ce,G[le]=H,x=le);else if(he<D&&0>o(ye,H))G[x]=ye,G[he]=H,x=he;else break e}}return se}function o(G,se){var H=G.sortIndex-se.sortIndex;return H!==0?H:G.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],p=[],g=1,_=null,v=3,w=!1,C=!1,R=!1,A=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(G){for(var se=n(p);se!==null;){if(se.callback===null)i(p);else if(se.startTime<=G)i(p),se.sortIndex=se.expirationTime,e(h,se);else break;se=n(p)}}function z(G){if(R=!1,F(G),!C)if(n(h)!==null)C=!0,ut(L);else{var se=n(p);se!==null&&De(z,se.startTime-G)}}function L(G,se){C=!1,R&&(R=!1,N(de),de=-1),w=!0;var H=v;try{for(F(se),_=n(h);_!==null&&(!(_.expirationTime>se)||G&&!Ct());){var x=_.callback;if(typeof x=="function"){_.callback=null,v=_.priorityLevel;var D=x(_.expirationTime<=se);se=t.unstable_now(),typeof D=="function"?_.callback=D:_===n(h)&&i(h),F(se)}else i(h);_=n(h)}if(_!==null)var te=!0;else{var le=n(p);le!==null&&De(z,le.startTime-se),te=!1}return te}finally{_=null,v=H,w=!1}}var $=!1,X=null,de=-1,ee=5,Se=-1;function Ct(){return!(t.unstable_now()-Se<ee)}function pt(){if(X!==null){var G=t.unstable_now();Se=G;var se=!0;try{se=X(!0,G)}finally{se?mt():($=!1,X=null)}}else $=!1}var mt;if(typeof M=="function")mt=function(){M(pt)};else if(typeof MessageChannel<"u"){var It=new MessageChannel,Tt=It.port2;It.port1.onmessage=pt,mt=function(){Tt.postMessage(null)}}else mt=function(){A(pt,0)};function ut(G){X=G,$||($=!0,mt())}function De(G,se){de=A(function(){G(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){C||w||(C=!0,ut(L))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(G){switch(v){case 1:case 2:case 3:var se=3;break;default:se=v}var H=v;v=se;try{return G()}finally{v=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,se){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var H=v;v=G;try{return se()}finally{v=H}},t.unstable_scheduleCallback=function(G,se,H){var x=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?x+H:x):H=x,G){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=H+D,G={id:g++,callback:se,priorityLevel:G,startTime:H,expirationTime:D,sortIndex:-1},H>x?(G.sortIndex=H,e(p,G),n(h)===null&&G===n(p)&&(R?(N(de),de=-1):R=!0,De(z,H-x))):(G.sortIndex=D,e(h,G),C||w||(C=!0,ut(L))),G},t.unstable_shouldYield=Ct,t.unstable_wrapCallback=function(G){var se=v;return function(){var H=v;v=se;try{return G.apply(this,arguments)}finally{v=H}}}}(Md)),Md}var dv;function MC(){return dv||(dv=1,Od.exports=OC()),Od.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function DC(){if(hv)return kt;hv=1;var t=pu(),e=MC();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function v(r){return h.call(_,r)?!0:h.call(g,r)?!1:p.test(r)?_[r]=!0:(g[r]=!0,!1)}function w(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function C(r,s,a,c){if(s===null||typeof s>"u"||w(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function R(r,s,a,c,f,m,y){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=m,this.removeEmptyString=y}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){A[r]=new R(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];A[s]=new R(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){A[r]=new R(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){A[r]=new R(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){A[r]=new R(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){A[r]=new R(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){A[r]=new R(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){A[r]=new R(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){A[r]=new R(r,5,!1,r.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function M(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(N,M);A[s]=new R(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(N,M);A[s]=new R(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(N,M);A[s]=new R(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){A[r]=new R(r,1,!1,r.toLowerCase(),null,!1,!1)}),A.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){A[r]=new R(r,1,!1,r.toLowerCase(),null,!0,!0)});function F(r,s,a,c){var f=A.hasOwnProperty(s)?A[s]:null;(f!==null?f.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(C(s,a,f,c)&&(a=null),c||f===null?v(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,c=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),$=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),de=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),Se=Symbol.for("react.provider"),Ct=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),Tt=Symbol.for("react.memo"),ut=Symbol.for("react.lazy"),De=Symbol.for("react.offscreen"),G=Symbol.iterator;function se(r){return r===null||typeof r!="object"?null:(r=G&&r[G]||r["@@iterator"],typeof r=="function"?r:null)}var H=Object.assign,x;function D(r){if(x===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);x=s&&s[1]||""}return`
`+x+r}var te=!1;function le(r,s){if(!r||te)return"";te=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(O){var c=O}Reflect.construct(r,[],s)}else{try{s.call()}catch(O){c=O}r.call(s.prototype)}else{try{throw Error()}catch(O){c=O}r()}}catch(O){if(O&&c&&typeof O.stack=="string"){for(var f=O.stack.split(`
`),m=c.stack.split(`
`),y=f.length-1,E=m.length-1;1<=y&&0<=E&&f[y]!==m[E];)E--;for(;1<=y&&0<=E;y--,E--)if(f[y]!==m[E]){if(y!==1||E!==1)do if(y--,E--,0>E||f[y]!==m[E]){var I=`
`+f[y].replace(" at new "," at ");return r.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",r.displayName)),I}while(1<=y&&0<=E);break}}}finally{te=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?D(r):""}function ce(r){switch(r.tag){case 5:return D(r.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return r=le(r.type,!1),r;case 11:return r=le(r.type.render,!1),r;case 1:return r=le(r.type,!0),r;default:return""}}function he(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case X:return"Fragment";case $:return"Portal";case ee:return"Profiler";case de:return"StrictMode";case mt:return"Suspense";case It:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Ct:return(r.displayName||"Context")+".Consumer";case Se:return(r._context.displayName||"Context")+".Provider";case pt:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Tt:return s=r.displayName||null,s!==null?s:he(r.type)||"Memo";case ut:s=r._payload,r=r._init;try{return he(r(s))}catch{}}return null}function ye(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(s);case 8:return s===de?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function _e(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function be(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function gt(r){var s=be(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(y){c=""+y,m.call(this,y)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(y){c=""+y},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ss(r){r._valueTracker||(r._valueTracker=gt(r))}function hp(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=be(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function ha(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Uu(r,s){var a=s.checked;return H({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function fp(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=_e(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function pp(r,s){s=s.checked,s!=null&&F(r,"checked",s,!1)}function Hu(r,s){pp(r,s);var a=_e(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Bu(r,s.type,a):s.hasOwnProperty("defaultValue")&&Bu(r,s.type,_e(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function mp(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Bu(r,s,a){(s!=="number"||ha(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Cs=Array.isArray;function wi(r,s,a,c){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&c&&(r[a].defaultSelected=!0)}else{for(a=""+_e(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function ju(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return H({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function gp(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(n(92));if(Cs(a)){if(1<a.length)throw Error(n(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:_e(a)}}function vp(r,s){var a=_e(s.value),c=_e(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function yp(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function _p(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zu(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?_p(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var fa,Ep=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(fa=fa||document.createElement("div"),fa.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=fa.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Is(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Aw=["Webkit","ms","Moz","O"];Object.keys(Ts).forEach(function(r){Aw.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Ts[s]=Ts[r]})});function wp(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Ts.hasOwnProperty(r)&&Ts[r]?(""+s).trim():s+"px"}function Sp(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=wp(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,f):r[a]=f}}var Lw=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wu(r,s){if(s){if(Lw[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Vu(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $u=null;function Gu(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var qu=null,Si=null,Ci=null;function Cp(r){if(r=qs(r)){if(typeof qu!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Da(s),qu(r.stateNode,r.type,s))}}function Ip(r){Si?Ci?Ci.push(r):Ci=[r]:Si=r}function Tp(){if(Si){var r=Si,s=Ci;if(Ci=Si=null,Cp(r),s)for(r=0;r<s.length;r++)Cp(s[r])}}function xp(r,s){return r(s)}function Rp(){}var Ku=!1;function Pp(r,s,a){if(Ku)return r(s,a);Ku=!0;try{return xp(r,s,a)}finally{Ku=!1,(Si!==null||Ci!==null)&&(Rp(),Tp())}}function xs(r,s){var a=r.stateNode;if(a===null)return null;var c=Da(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,s,typeof a));return a}var Qu=!1;if(d)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){Qu=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{Qu=!1}function Ow(r,s,a,c,f,m,y,E,I){var O=Array.prototype.slice.call(arguments,3);try{s.apply(a,O)}catch(B){this.onError(B)}}var Ps=!1,pa=null,ma=!1,Yu=null,Mw={onError:function(r){Ps=!0,pa=r}};function Dw(r,s,a,c,f,m,y,E,I){Ps=!1,pa=null,Ow.apply(Mw,arguments)}function Fw(r,s,a,c,f,m,y,E,I){if(Dw.apply(this,arguments),Ps){if(Ps){var O=pa;Ps=!1,pa=null}else throw Error(n(198));ma||(ma=!0,Yu=O)}}function Br(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function bp(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Np(r){if(Br(r)!==r)throw Error(n(188))}function Uw(r){var s=r.alternate;if(!s){if(s=Br(r),s===null)throw Error(n(188));return s!==r?null:r}for(var a=r,c=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return Np(f),r;if(m===c)return Np(f),s;m=m.sibling}throw Error(n(188))}if(a.return!==c.return)a=f,c=m;else{for(var y=!1,E=f.child;E;){if(E===a){y=!0,a=f,c=m;break}if(E===c){y=!0,c=f,a=m;break}E=E.sibling}if(!y){for(E=m.child;E;){if(E===a){y=!0,a=m,c=f;break}if(E===c){y=!0,c=m,a=f;break}E=E.sibling}if(!y)throw Error(n(189))}}if(a.alternate!==c)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:s}function kp(r){return r=Uw(r),r!==null?Ap(r):null}function Ap(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Ap(r);if(s!==null)return s;r=r.sibling}return null}var Lp=e.unstable_scheduleCallback,Op=e.unstable_cancelCallback,Hw=e.unstable_shouldYield,Bw=e.unstable_requestPaint,Ve=e.unstable_now,jw=e.unstable_getCurrentPriorityLevel,Xu=e.unstable_ImmediatePriority,Mp=e.unstable_UserBlockingPriority,ga=e.unstable_NormalPriority,zw=e.unstable_LowPriority,Dp=e.unstable_IdlePriority,va=null,mn=null;function Ww(r){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(va,r,void 0,(r.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:Gw,Vw=Math.log,$w=Math.LN2;function Gw(r){return r>>>=0,r===0?32:31-(Vw(r)/$w|0)|0}var ya=64,_a=4194304;function bs(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ea(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,f=r.suspendedLanes,m=r.pingedLanes,y=a&268435455;if(y!==0){var E=y&~f;E!==0?c=bs(E):(m&=y,m!==0&&(c=bs(m)))}else y=a&~f,y!==0?c=bs(y):m!==0&&(c=bs(m));if(c===0)return 0;if(s!==0&&s!==c&&(s&f)===0&&(f=c&-c,m=s&-s,f>=m||f===16&&(m&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-Zt(s),f=1<<a,c|=r[a],s&=~f;return c}function qw(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kw(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,m=r.pendingLanes;0<m;){var y=31-Zt(m),E=1<<y,I=f[y];I===-1?((E&a)===0||(E&c)!==0)&&(f[y]=qw(E,s)):I<=s&&(r.expiredLanes|=E),m&=~E}}function Ju(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Fp(){var r=ya;return ya<<=1,(ya&4194240)===0&&(ya=64),r}function Zu(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Ns(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Zt(s),r[s]=a}function Qw(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-Zt(a),m=1<<f;s[f]=0,c[f]=-1,r[f]=-1,a&=~m}}function ec(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-Zt(a),f=1<<c;f&s|r[c]&s&&(r[c]|=s),a&=~f}}var xe=0;function Up(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Hp,tc,Bp,jp,zp,nc=!1,wa=[],Xn=null,Jn=null,Zn=null,ks=new Map,As=new Map,er=[],Yw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wp(r,s){switch(r){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":ks.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":As.delete(s.pointerId)}}function Ls(r,s,a,c,f,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},s!==null&&(s=qs(s),s!==null&&tc(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Xw(r,s,a,c,f){switch(s){case"focusin":return Xn=Ls(Xn,r,s,a,c,f),!0;case"dragenter":return Jn=Ls(Jn,r,s,a,c,f),!0;case"mouseover":return Zn=Ls(Zn,r,s,a,c,f),!0;case"pointerover":var m=f.pointerId;return ks.set(m,Ls(ks.get(m)||null,r,s,a,c,f)),!0;case"gotpointercapture":return m=f.pointerId,As.set(m,Ls(As.get(m)||null,r,s,a,c,f)),!0}return!1}function Vp(r){var s=jr(r.target);if(s!==null){var a=Br(s);if(a!==null){if(s=a.tag,s===13){if(s=bp(a),s!==null){r.blockedOn=s,zp(r.priority,function(){Bp(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Sa(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=ic(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);$u=c,a.target.dispatchEvent(c),$u=null}else return s=qs(a),s!==null&&tc(s),r.blockedOn=a,!1;s.shift()}return!0}function $p(r,s,a){Sa(r)&&a.delete(s)}function Jw(){nc=!1,Xn!==null&&Sa(Xn)&&(Xn=null),Jn!==null&&Sa(Jn)&&(Jn=null),Zn!==null&&Sa(Zn)&&(Zn=null),ks.forEach($p),As.forEach($p)}function Os(r,s){r.blockedOn===s&&(r.blockedOn=null,nc||(nc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Jw)))}function Ms(r){function s(f){return Os(f,r)}if(0<wa.length){Os(wa[0],r);for(var a=1;a<wa.length;a++){var c=wa[a];c.blockedOn===r&&(c.blockedOn=null)}}for(Xn!==null&&Os(Xn,r),Jn!==null&&Os(Jn,r),Zn!==null&&Os(Zn,r),ks.forEach(s),As.forEach(s),a=0;a<er.length;a++)c=er[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<er.length&&(a=er[0],a.blockedOn===null);)Vp(a),a.blockedOn===null&&er.shift()}var Ii=z.ReactCurrentBatchConfig,Ca=!0;function Zw(r,s,a,c){var f=xe,m=Ii.transition;Ii.transition=null;try{xe=1,rc(r,s,a,c)}finally{xe=f,Ii.transition=m}}function eS(r,s,a,c){var f=xe,m=Ii.transition;Ii.transition=null;try{xe=4,rc(r,s,a,c)}finally{xe=f,Ii.transition=m}}function rc(r,s,a,c){if(Ca){var f=ic(r,s,a,c);if(f===null)wc(r,s,c,Ia,a),Wp(r,c);else if(Xw(f,r,s,a,c))c.stopPropagation();else if(Wp(r,c),s&4&&-1<Yw.indexOf(r)){for(;f!==null;){var m=qs(f);if(m!==null&&Hp(m),m=ic(r,s,a,c),m===null&&wc(r,s,c,Ia,a),m===f)break;f=m}f!==null&&c.stopPropagation()}else wc(r,s,c,null,a)}}var Ia=null;function ic(r,s,a,c){if(Ia=null,r=Gu(c),r=jr(r),r!==null)if(s=Br(r),s===null)r=null;else if(a=s.tag,a===13){if(r=bp(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ia=r,null}function Gp(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jw()){case Xu:return 1;case Mp:return 4;case ga:case zw:return 16;case Dp:return 536870912;default:return 16}default:return 16}}var tr=null,sc=null,Ta=null;function qp(){if(Ta)return Ta;var r,s=sc,a=s.length,c,f="value"in tr?tr.value:tr.textContent,m=f.length;for(r=0;r<a&&s[r]===f[r];r++);var y=a-r;for(c=1;c<=y&&s[a-c]===f[m-c];c++);return Ta=f.slice(r,1<c?1-c:void 0)}function xa(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ra(){return!0}function Kp(){return!1}function Lt(r){function s(a,c,f,m,y){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=y,this.currentTarget=null;for(var E in r)r.hasOwnProperty(E)&&(a=r[E],this[E]=a?a(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ra:Kp,this.isPropagationStopped=Kp,this}return H(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ra)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ra)},persist:function(){},isPersistent:Ra}),s}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oc=Lt(Ti),Ds=H({},Ti,{view:0,detail:0}),tS=Lt(Ds),ac,lc,Fs,Pa=H({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Fs&&(Fs&&r.type==="mousemove"?(ac=r.screenX-Fs.screenX,lc=r.screenY-Fs.screenY):lc=ac=0,Fs=r),ac)},movementY:function(r){return"movementY"in r?r.movementY:lc}}),Qp=Lt(Pa),nS=H({},Pa,{dataTransfer:0}),rS=Lt(nS),iS=H({},Ds,{relatedTarget:0}),uc=Lt(iS),sS=H({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),oS=Lt(sS),aS=H({},Ti,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),lS=Lt(aS),uS=H({},Ti,{data:0}),Yp=Lt(uS),cS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fS(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=hS[r])?!!s[r]:!1}function cc(){return fS}var pS=H({},Ds,{key:function(r){if(r.key){var s=cS[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=xa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?dS[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cc,charCode:function(r){return r.type==="keypress"?xa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?xa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),mS=Lt(pS),gS=H({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xp=Lt(gS),vS=H({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cc}),yS=Lt(vS),_S=H({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),ES=Lt(_S),wS=H({},Pa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),SS=Lt(wS),CS=[9,13,27,32],dc=d&&"CompositionEvent"in window,Us=null;d&&"documentMode"in document&&(Us=document.documentMode);var IS=d&&"TextEvent"in window&&!Us,Jp=d&&(!dc||Us&&8<Us&&11>=Us),Zp=" ",em=!1;function tm(r,s){switch(r){case"keyup":return CS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var xi=!1;function TS(r,s){switch(r){case"compositionend":return nm(s);case"keypress":return s.which!==32?null:(em=!0,Zp);case"textInput":return r=s.data,r===Zp&&em?null:r;default:return null}}function xS(r,s){if(xi)return r==="compositionend"||!dc&&tm(r,s)?(r=qp(),Ta=sc=tr=null,xi=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Jp&&s.locale!=="ko"?null:s.data;default:return null}}var RS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!RS[r.type]:s==="textarea"}function im(r,s,a,c){Ip(c),s=La(s,"onChange"),0<s.length&&(a=new oc("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var Hs=null,Bs=null;function PS(r){Sm(r,0)}function ba(r){var s=ki(r);if(hp(s))return r}function bS(r,s){if(r==="change")return s}var sm=!1;if(d){var hc;if(d){var fc="oninput"in document;if(!fc){var om=document.createElement("div");om.setAttribute("oninput","return;"),fc=typeof om.oninput=="function"}hc=fc}else hc=!1;sm=hc&&(!document.documentMode||9<document.documentMode)}function am(){Hs&&(Hs.detachEvent("onpropertychange",lm),Bs=Hs=null)}function lm(r){if(r.propertyName==="value"&&ba(Bs)){var s=[];im(s,Bs,r,Gu(r)),Pp(PS,s)}}function NS(r,s,a){r==="focusin"?(am(),Hs=s,Bs=a,Hs.attachEvent("onpropertychange",lm)):r==="focusout"&&am()}function kS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ba(Bs)}function AS(r,s){if(r==="click")return ba(s)}function LS(r,s){if(r==="input"||r==="change")return ba(s)}function OS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var en=typeof Object.is=="function"?Object.is:OS;function js(r,s){if(en(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!h.call(s,f)||!en(r[f],s[f]))return!1}return!0}function um(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function cm(r,s){var a=um(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=um(a)}}function dm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?dm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function hm(){for(var r=window,s=ha();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=ha(r.document)}return s}function pc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function MS(r){var s=hm(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&dm(a.ownerDocument.documentElement,a)){if(c!==null&&pc(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!r.extend&&m>c&&(f=c,c=m,m=f),f=cm(a,m);var y=cm(a,c);f&&y&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==y.node||r.focusOffset!==y.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),m>c?(r.addRange(s),r.extend(y.node,y.offset)):(s.setEnd(y.node,y.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var DS=d&&"documentMode"in document&&11>=document.documentMode,Ri=null,mc=null,zs=null,gc=!1;function fm(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gc||Ri==null||Ri!==ha(c)||(c=Ri,"selectionStart"in c&&pc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),zs&&js(zs,c)||(zs=c,c=La(mc,"onSelect"),0<c.length&&(s=new oc("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=Ri)))}function Na(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Pi={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionend:Na("Transition","TransitionEnd")},vc={},pm={};d&&(pm=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function ka(r){if(vc[r])return vc[r];if(!Pi[r])return r;var s=Pi[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in pm)return vc[r]=s[a];return r}var mm=ka("animationend"),gm=ka("animationiteration"),vm=ka("animationstart"),ym=ka("transitionend"),_m=new Map,Em="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(r,s){_m.set(r,s),l(s,[r])}for(var yc=0;yc<Em.length;yc++){var _c=Em[yc],FS=_c.toLowerCase(),US=_c[0].toUpperCase()+_c.slice(1);nr(FS,"on"+US)}nr(mm,"onAnimationEnd"),nr(gm,"onAnimationIteration"),nr(vm,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(ym,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ws));function wm(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,Fw(c,s,void 0,r),r.currentTarget=null}function Sm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],f=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var y=c.length-1;0<=y;y--){var E=c[y],I=E.instance,O=E.currentTarget;if(E=E.listener,I!==m&&f.isPropagationStopped())break e;wm(f,E,O),m=I}else for(y=0;y<c.length;y++){if(E=c[y],I=E.instance,O=E.currentTarget,E=E.listener,I!==m&&f.isPropagationStopped())break e;wm(f,E,O),m=I}}}if(ma)throw r=Yu,ma=!1,Yu=null,r}function Le(r,s){var a=s[Rc];a===void 0&&(a=s[Rc]=new Set);var c=r+"__bubble";a.has(c)||(Cm(s,r,2,!1),a.add(c))}function Ec(r,s,a){var c=0;s&&(c|=4),Cm(a,r,c,s)}var Aa="_reactListening"+Math.random().toString(36).slice(2);function Vs(r){if(!r[Aa]){r[Aa]=!0,i.forEach(function(a){a!=="selectionchange"&&(HS.has(a)||Ec(a,!1,r),Ec(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Aa]||(s[Aa]=!0,Ec("selectionchange",!1,s))}}function Cm(r,s,a,c){switch(Gp(s)){case 1:var f=Zw;break;case 4:f=eS;break;default:f=rc}a=f.bind(null,s,a,r),f=void 0,!Qu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function wc(r,s,a,c,f){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var y=c.tag;if(y===3||y===4){var E=c.stateNode.containerInfo;if(E===f||E.nodeType===8&&E.parentNode===f)break;if(y===4)for(y=c.return;y!==null;){var I=y.tag;if((I===3||I===4)&&(I=y.stateNode.containerInfo,I===f||I.nodeType===8&&I.parentNode===f))return;y=y.return}for(;E!==null;){if(y=jr(E),y===null)return;if(I=y.tag,I===5||I===6){c=m=y;continue e}E=E.parentNode}}c=c.return}Pp(function(){var O=m,B=Gu(a),j=[];e:{var U=_m.get(r);if(U!==void 0){var q=oc,Q=r;switch(r){case"keypress":if(xa(a)===0)break e;case"keydown":case"keyup":q=mS;break;case"focusin":Q="focus",q=uc;break;case"focusout":Q="blur",q=uc;break;case"beforeblur":case"afterblur":q=uc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Qp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=rS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=yS;break;case mm:case gm:case vm:q=oS;break;case ym:q=ES;break;case"scroll":q=tS;break;case"wheel":q=SS;break;case"copy":case"cut":case"paste":q=lS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Xp}var Y=(s&4)!==0,$e=!Y&&r==="scroll",b=Y?U!==null?U+"Capture":null:U;Y=[];for(var T=O,k;T!==null;){k=T;var W=k.stateNode;if(k.tag===5&&W!==null&&(k=W,b!==null&&(W=xs(T,b),W!=null&&Y.push($s(T,W,k)))),$e)break;T=T.return}0<Y.length&&(U=new q(U,Q,null,a,B),j.push({event:U,listeners:Y}))}}if((s&7)===0){e:{if(U=r==="mouseover"||r==="pointerover",q=r==="mouseout"||r==="pointerout",U&&a!==$u&&(Q=a.relatedTarget||a.fromElement)&&(jr(Q)||Q[Pn]))break e;if((q||U)&&(U=B.window===B?B:(U=B.ownerDocument)?U.defaultView||U.parentWindow:window,q?(Q=a.relatedTarget||a.toElement,q=O,Q=Q?jr(Q):null,Q!==null&&($e=Br(Q),Q!==$e||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(q=null,Q=O),q!==Q)){if(Y=Qp,W="onMouseLeave",b="onMouseEnter",T="mouse",(r==="pointerout"||r==="pointerover")&&(Y=Xp,W="onPointerLeave",b="onPointerEnter",T="pointer"),$e=q==null?U:ki(q),k=Q==null?U:ki(Q),U=new Y(W,T+"leave",q,a,B),U.target=$e,U.relatedTarget=k,W=null,jr(B)===O&&(Y=new Y(b,T+"enter",Q,a,B),Y.target=k,Y.relatedTarget=$e,W=Y),$e=W,q&&Q)t:{for(Y=q,b=Q,T=0,k=Y;k;k=bi(k))T++;for(k=0,W=b;W;W=bi(W))k++;for(;0<T-k;)Y=bi(Y),T--;for(;0<k-T;)b=bi(b),k--;for(;T--;){if(Y===b||b!==null&&Y===b.alternate)break t;Y=bi(Y),b=bi(b)}Y=null}else Y=null;q!==null&&Im(j,U,q,Y,!1),Q!==null&&$e!==null&&Im(j,$e,Q,Y,!0)}}e:{if(U=O?ki(O):window,q=U.nodeName&&U.nodeName.toLowerCase(),q==="select"||q==="input"&&U.type==="file")var Z=bS;else if(rm(U))if(sm)Z=LS;else{Z=kS;var ne=NS}else(q=U.nodeName)&&q.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(Z=AS);if(Z&&(Z=Z(r,O))){im(j,Z,a,B);break e}ne&&ne(r,U,O),r==="focusout"&&(ne=U._wrapperState)&&ne.controlled&&U.type==="number"&&Bu(U,"number",U.value)}switch(ne=O?ki(O):window,r){case"focusin":(rm(ne)||ne.contentEditable==="true")&&(Ri=ne,mc=O,zs=null);break;case"focusout":zs=mc=Ri=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,fm(j,a,B);break;case"selectionchange":if(DS)break;case"keydown":case"keyup":fm(j,a,B)}var re;if(dc)e:{switch(r){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else xi?tm(r,a)&&(ue="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(ue="onCompositionStart");ue&&(Jp&&a.locale!=="ko"&&(xi||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&xi&&(re=qp()):(tr=B,sc="value"in tr?tr.value:tr.textContent,xi=!0)),ne=La(O,ue),0<ne.length&&(ue=new Yp(ue,r,null,a,B),j.push({event:ue,listeners:ne}),re?ue.data=re:(re=nm(a),re!==null&&(ue.data=re)))),(re=IS?TS(r,a):xS(r,a))&&(O=La(O,"onBeforeInput"),0<O.length&&(B=new Yp("onBeforeInput","beforeinput",null,a,B),j.push({event:B,listeners:O}),B.data=re))}Sm(j,s)})}function $s(r,s,a){return{instance:r,listener:s,currentTarget:a}}function La(r,s){for(var a=s+"Capture",c=[];r!==null;){var f=r,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=xs(r,a),m!=null&&c.unshift($s(r,m,f)),m=xs(r,s),m!=null&&c.push($s(r,m,f))),r=r.return}return c}function bi(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Im(r,s,a,c,f){for(var m=s._reactName,y=[];a!==null&&a!==c;){var E=a,I=E.alternate,O=E.stateNode;if(I!==null&&I===c)break;E.tag===5&&O!==null&&(E=O,f?(I=xs(a,m),I!=null&&y.unshift($s(a,I,E))):f||(I=xs(a,m),I!=null&&y.push($s(a,I,E)))),a=a.return}y.length!==0&&r.push({event:s,listeners:y})}var BS=/\r\n?/g,jS=/\u0000|\uFFFD/g;function Tm(r){return(typeof r=="string"?r:""+r).replace(BS,`
`).replace(jS,"")}function Oa(r,s,a){if(s=Tm(s),Tm(r)!==s&&a)throw Error(n(425))}function Ma(){}var Sc=null,Cc=null;function Ic(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Tc=typeof setTimeout=="function"?setTimeout:void 0,zS=typeof clearTimeout=="function"?clearTimeout:void 0,xm=typeof Promise=="function"?Promise:void 0,WS=typeof queueMicrotask=="function"?queueMicrotask:typeof xm<"u"?function(r){return xm.resolve(null).then(r).catch(VS)}:Tc;function VS(r){setTimeout(function(){throw r})}function xc(r,s){var a=s,c=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){r.removeChild(f),Ms(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);Ms(s)}function rr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Rm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Ni=Math.random().toString(36).slice(2),gn="__reactFiber$"+Ni,Gs="__reactProps$"+Ni,Pn="__reactContainer$"+Ni,Rc="__reactEvents$"+Ni,$S="__reactListeners$"+Ni,GS="__reactHandles$"+Ni;function jr(r){var s=r[gn];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Pn]||a[gn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Rm(r);r!==null;){if(a=r[gn])return a;r=Rm(r)}return s}r=a,a=r.parentNode}return null}function qs(r){return r=r[gn]||r[Pn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ki(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Da(r){return r[Gs]||null}var Pc=[],Ai=-1;function ir(r){return{current:r}}function Oe(r){0>Ai||(r.current=Pc[Ai],Pc[Ai]=null,Ai--)}function Ne(r,s){Ai++,Pc[Ai]=r.current,r.current=s}var sr={},ct=ir(sr),xt=ir(!1),zr=sr;function Li(r,s){var a=r.type.contextTypes;if(!a)return sr;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in a)f[m]=s[m];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Rt(r){return r=r.childContextTypes,r!=null}function Fa(){Oe(xt),Oe(ct)}function Pm(r,s,a){if(ct.current!==sr)throw Error(n(168));Ne(ct,s),Ne(xt,a)}function bm(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in s))throw Error(n(108,ye(r)||"Unknown",f));return H({},a,c)}function Ua(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||sr,zr=ct.current,Ne(ct,r),Ne(xt,xt.current),!0}function Nm(r,s,a){var c=r.stateNode;if(!c)throw Error(n(169));a?(r=bm(r,s,zr),c.__reactInternalMemoizedMergedChildContext=r,Oe(xt),Oe(ct),Ne(ct,r)):Oe(xt),Ne(xt,a)}var bn=null,Ha=!1,bc=!1;function km(r){bn===null?bn=[r]:bn.push(r)}function qS(r){Ha=!0,km(r)}function or(){if(!bc&&bn!==null){bc=!0;var r=0,s=xe;try{var a=bn;for(xe=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}bn=null,Ha=!1}catch(f){throw bn!==null&&(bn=bn.slice(r+1)),Lp(Xu,or),f}finally{xe=s,bc=!1}}return null}var Oi=[],Mi=0,Ba=null,ja=0,Bt=[],jt=0,Wr=null,Nn=1,kn="";function Vr(r,s){Oi[Mi++]=ja,Oi[Mi++]=Ba,Ba=r,ja=s}function Am(r,s,a){Bt[jt++]=Nn,Bt[jt++]=kn,Bt[jt++]=Wr,Wr=r;var c=Nn;r=kn;var f=32-Zt(c)-1;c&=~(1<<f),a+=1;var m=32-Zt(s)+f;if(30<m){var y=f-f%5;m=(c&(1<<y)-1).toString(32),c>>=y,f-=y,Nn=1<<32-Zt(s)+f|a<<f|c,kn=m+r}else Nn=1<<m|a<<f|c,kn=r}function Nc(r){r.return!==null&&(Vr(r,1),Am(r,1,0))}function kc(r){for(;r===Ba;)Ba=Oi[--Mi],Oi[Mi]=null,ja=Oi[--Mi],Oi[Mi]=null;for(;r===Wr;)Wr=Bt[--jt],Bt[jt]=null,kn=Bt[--jt],Bt[jt]=null,Nn=Bt[--jt],Bt[jt]=null}var Ot=null,Mt=null,Fe=!1,tn=null;function Lm(r,s){var a=$t(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Om(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Ot=r,Mt=rr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Ot=r,Mt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Wr!==null?{id:Nn,overflow:kn}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=$t(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Ot=r,Mt=null,!0):!1;default:return!1}}function Ac(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Lc(r){if(Fe){var s=Mt;if(s){var a=s;if(!Om(r,s)){if(Ac(r))throw Error(n(418));s=rr(a.nextSibling);var c=Ot;s&&Om(r,s)?Lm(c,a):(r.flags=r.flags&-4097|2,Fe=!1,Ot=r)}}else{if(Ac(r))throw Error(n(418));r.flags=r.flags&-4097|2,Fe=!1,Ot=r}}}function Mm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Ot=r}function za(r){if(r!==Ot)return!1;if(!Fe)return Mm(r),Fe=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Ic(r.type,r.memoizedProps)),s&&(s=Mt)){if(Ac(r))throw Dm(),Error(n(418));for(;s;)Lm(r,s),s=rr(s.nextSibling)}if(Mm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){Mt=rr(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}Mt=null}}else Mt=Ot?rr(r.stateNode.nextSibling):null;return!0}function Dm(){for(var r=Mt;r;)r=rr(r.nextSibling)}function Di(){Mt=Ot=null,Fe=!1}function Oc(r){tn===null?tn=[r]:tn.push(r)}var KS=z.ReactCurrentBatchConfig;function Ks(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var c=a.stateNode}if(!c)throw Error(n(147,r));var f=c,m=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(y){var E=f.refs;y===null?delete E[m]:E[m]=y},s._stringRef=m,s)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function Wa(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Fm(r){var s=r._init;return s(r._payload)}function Um(r){function s(b,T){if(r){var k=b.deletions;k===null?(b.deletions=[T],b.flags|=16):k.push(T)}}function a(b,T){if(!r)return null;for(;T!==null;)s(b,T),T=T.sibling;return null}function c(b,T){for(b=new Map;T!==null;)T.key!==null?b.set(T.key,T):b.set(T.index,T),T=T.sibling;return b}function f(b,T){return b=pr(b,T),b.index=0,b.sibling=null,b}function m(b,T,k){return b.index=k,r?(k=b.alternate,k!==null?(k=k.index,k<T?(b.flags|=2,T):k):(b.flags|=2,T)):(b.flags|=1048576,T)}function y(b){return r&&b.alternate===null&&(b.flags|=2),b}function E(b,T,k,W){return T===null||T.tag!==6?(T=Td(k,b.mode,W),T.return=b,T):(T=f(T,k),T.return=b,T)}function I(b,T,k,W){var Z=k.type;return Z===X?B(b,T,k.props.children,W,k.key):T!==null&&(T.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===ut&&Fm(Z)===T.type)?(W=f(T,k.props),W.ref=Ks(b,T,k),W.return=b,W):(W=fl(k.type,k.key,k.props,null,b.mode,W),W.ref=Ks(b,T,k),W.return=b,W)}function O(b,T,k,W){return T===null||T.tag!==4||T.stateNode.containerInfo!==k.containerInfo||T.stateNode.implementation!==k.implementation?(T=xd(k,b.mode,W),T.return=b,T):(T=f(T,k.children||[]),T.return=b,T)}function B(b,T,k,W,Z){return T===null||T.tag!==7?(T=Jr(k,b.mode,W,Z),T.return=b,T):(T=f(T,k),T.return=b,T)}function j(b,T,k){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Td(""+T,b.mode,k),T.return=b,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case L:return k=fl(T.type,T.key,T.props,null,b.mode,k),k.ref=Ks(b,null,T),k.return=b,k;case $:return T=xd(T,b.mode,k),T.return=b,T;case ut:var W=T._init;return j(b,W(T._payload),k)}if(Cs(T)||se(T))return T=Jr(T,b.mode,k,null),T.return=b,T;Wa(b,T)}return null}function U(b,T,k,W){var Z=T!==null?T.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return Z!==null?null:E(b,T,""+k,W);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case L:return k.key===Z?I(b,T,k,W):null;case $:return k.key===Z?O(b,T,k,W):null;case ut:return Z=k._init,U(b,T,Z(k._payload),W)}if(Cs(k)||se(k))return Z!==null?null:B(b,T,k,W,null);Wa(b,k)}return null}function q(b,T,k,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number")return b=b.get(k)||null,E(T,b,""+W,Z);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case L:return b=b.get(W.key===null?k:W.key)||null,I(T,b,W,Z);case $:return b=b.get(W.key===null?k:W.key)||null,O(T,b,W,Z);case ut:var ne=W._init;return q(b,T,k,ne(W._payload),Z)}if(Cs(W)||se(W))return b=b.get(k)||null,B(T,b,W,Z,null);Wa(T,W)}return null}function Q(b,T,k,W){for(var Z=null,ne=null,re=T,ue=T=0,et=null;re!==null&&ue<k.length;ue++){re.index>ue?(et=re,re=null):et=re.sibling;var Ce=U(b,re,k[ue],W);if(Ce===null){re===null&&(re=et);break}r&&re&&Ce.alternate===null&&s(b,re),T=m(Ce,T,ue),ne===null?Z=Ce:ne.sibling=Ce,ne=Ce,re=et}if(ue===k.length)return a(b,re),Fe&&Vr(b,ue),Z;if(re===null){for(;ue<k.length;ue++)re=j(b,k[ue],W),re!==null&&(T=m(re,T,ue),ne===null?Z=re:ne.sibling=re,ne=re);return Fe&&Vr(b,ue),Z}for(re=c(b,re);ue<k.length;ue++)et=q(re,b,ue,k[ue],W),et!==null&&(r&&et.alternate!==null&&re.delete(et.key===null?ue:et.key),T=m(et,T,ue),ne===null?Z=et:ne.sibling=et,ne=et);return r&&re.forEach(function(mr){return s(b,mr)}),Fe&&Vr(b,ue),Z}function Y(b,T,k,W){var Z=se(k);if(typeof Z!="function")throw Error(n(150));if(k=Z.call(k),k==null)throw Error(n(151));for(var ne=Z=null,re=T,ue=T=0,et=null,Ce=k.next();re!==null&&!Ce.done;ue++,Ce=k.next()){re.index>ue?(et=re,re=null):et=re.sibling;var mr=U(b,re,Ce.value,W);if(mr===null){re===null&&(re=et);break}r&&re&&mr.alternate===null&&s(b,re),T=m(mr,T,ue),ne===null?Z=mr:ne.sibling=mr,ne=mr,re=et}if(Ce.done)return a(b,re),Fe&&Vr(b,ue),Z;if(re===null){for(;!Ce.done;ue++,Ce=k.next())Ce=j(b,Ce.value,W),Ce!==null&&(T=m(Ce,T,ue),ne===null?Z=Ce:ne.sibling=Ce,ne=Ce);return Fe&&Vr(b,ue),Z}for(re=c(b,re);!Ce.done;ue++,Ce=k.next())Ce=q(re,b,ue,Ce.value,W),Ce!==null&&(r&&Ce.alternate!==null&&re.delete(Ce.key===null?ue:Ce.key),T=m(Ce,T,ue),ne===null?Z=Ce:ne.sibling=Ce,ne=Ce);return r&&re.forEach(function(RC){return s(b,RC)}),Fe&&Vr(b,ue),Z}function $e(b,T,k,W){if(typeof k=="object"&&k!==null&&k.type===X&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case L:e:{for(var Z=k.key,ne=T;ne!==null;){if(ne.key===Z){if(Z=k.type,Z===X){if(ne.tag===7){a(b,ne.sibling),T=f(ne,k.props.children),T.return=b,b=T;break e}}else if(ne.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===ut&&Fm(Z)===ne.type){a(b,ne.sibling),T=f(ne,k.props),T.ref=Ks(b,ne,k),T.return=b,b=T;break e}a(b,ne);break}else s(b,ne);ne=ne.sibling}k.type===X?(T=Jr(k.props.children,b.mode,W,k.key),T.return=b,b=T):(W=fl(k.type,k.key,k.props,null,b.mode,W),W.ref=Ks(b,T,k),W.return=b,b=W)}return y(b);case $:e:{for(ne=k.key;T!==null;){if(T.key===ne)if(T.tag===4&&T.stateNode.containerInfo===k.containerInfo&&T.stateNode.implementation===k.implementation){a(b,T.sibling),T=f(T,k.children||[]),T.return=b,b=T;break e}else{a(b,T);break}else s(b,T);T=T.sibling}T=xd(k,b.mode,W),T.return=b,b=T}return y(b);case ut:return ne=k._init,$e(b,T,ne(k._payload),W)}if(Cs(k))return Q(b,T,k,W);if(se(k))return Y(b,T,k,W);Wa(b,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,T!==null&&T.tag===6?(a(b,T.sibling),T=f(T,k),T.return=b,b=T):(a(b,T),T=Td(k,b.mode,W),T.return=b,b=T),y(b)):a(b,T)}return $e}var Fi=Um(!0),Hm=Um(!1),Va=ir(null),$a=null,Ui=null,Mc=null;function Dc(){Mc=Ui=$a=null}function Fc(r){var s=Va.current;Oe(Va),r._currentValue=s}function Uc(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function Hi(r,s){$a=r,Mc=Ui=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Pt=!0),r.firstContext=null)}function zt(r){var s=r._currentValue;if(Mc!==r)if(r={context:r,memoizedValue:s,next:null},Ui===null){if($a===null)throw Error(n(308));Ui=r,$a.dependencies={lanes:0,firstContext:r}}else Ui=Ui.next=r;return s}var $r=null;function Hc(r){$r===null?$r=[r]:$r.push(r)}function Bm(r,s,a,c){var f=s.interleaved;return f===null?(a.next=a,Hc(s)):(a.next=f.next,f.next=a),s.interleaved=a,An(r,c)}function An(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var ar=!1;function Bc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ln(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function lr(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(we&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,An(r,a)}return f=c.interleaved,f===null?(s.next=s,Hc(c)):(s.next=f.next,f.next=s),c.interleaved=s,An(r,a)}function Ga(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,ec(r,a)}}function zm(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var y={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?f=m=y:m=m.next=y,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function qa(r,s,a,c){var f=r.updateQueue;ar=!1;var m=f.firstBaseUpdate,y=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var I=E,O=I.next;I.next=null,y===null?m=O:y.next=O,y=I;var B=r.alternate;B!==null&&(B=B.updateQueue,E=B.lastBaseUpdate,E!==y&&(E===null?B.firstBaseUpdate=O:E.next=O,B.lastBaseUpdate=I))}if(m!==null){var j=f.baseState;y=0,B=O=I=null,E=m;do{var U=E.lane,q=E.eventTime;if((c&U)===U){B!==null&&(B=B.next={eventTime:q,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var Q=r,Y=E;switch(U=s,q=a,Y.tag){case 1:if(Q=Y.payload,typeof Q=="function"){j=Q.call(q,j,U);break e}j=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=Y.payload,U=typeof Q=="function"?Q.call(q,j,U):Q,U==null)break e;j=H({},j,U);break e;case 2:ar=!0}}E.callback!==null&&E.lane!==0&&(r.flags|=64,U=f.effects,U===null?f.effects=[E]:U.push(E))}else q={eventTime:q,lane:U,tag:E.tag,payload:E.payload,callback:E.callback,next:null},B===null?(O=B=q,I=j):B=B.next=q,y|=U;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;U=E,E=U.next,U.next=null,f.lastBaseUpdate=U,f.shared.pending=null}}while(!0);if(B===null&&(I=j),f.baseState=I,f.firstBaseUpdate=O,f.lastBaseUpdate=B,s=f.shared.interleaved,s!==null){f=s;do y|=f.lane,f=f.next;while(f!==s)}else m===null&&(f.shared.lanes=0);Kr|=y,r.lanes=y,r.memoizedState=j}}function Wm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(n(191,f));f.call(c)}}}var Qs={},vn=ir(Qs),Ys=ir(Qs),Xs=ir(Qs);function Gr(r){if(r===Qs)throw Error(n(174));return r}function jc(r,s){switch(Ne(Xs,s),Ne(Ys,r),Ne(vn,Qs),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:zu(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=zu(s,r)}Oe(vn),Ne(vn,s)}function Bi(){Oe(vn),Oe(Ys),Oe(Xs)}function Vm(r){Gr(Xs.current);var s=Gr(vn.current),a=zu(s,r.type);s!==a&&(Ne(Ys,r),Ne(vn,a))}function zc(r){Ys.current===r&&(Oe(vn),Oe(Ys))}var He=ir(0);function Ka(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Wc=[];function Vc(){for(var r=0;r<Wc.length;r++)Wc[r]._workInProgressVersionPrimary=null;Wc.length=0}var Qa=z.ReactCurrentDispatcher,$c=z.ReactCurrentBatchConfig,qr=0,Be=null,Ke=null,Je=null,Ya=!1,Js=!1,Zs=0,QS=0;function dt(){throw Error(n(321))}function Gc(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!en(r[a],s[a]))return!1;return!0}function qc(r,s,a,c,f,m){if(qr=m,Be=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Qa.current=r===null||r.memoizedState===null?ZS:eC,r=a(c,f),Js){m=0;do{if(Js=!1,Zs=0,25<=m)throw Error(n(301));m+=1,Je=Ke=null,s.updateQueue=null,Qa.current=tC,r=a(c,f)}while(Js)}if(Qa.current=Za,s=Ke!==null&&Ke.next!==null,qr=0,Je=Ke=Be=null,Ya=!1,s)throw Error(n(300));return r}function Kc(){var r=Zs!==0;return Zs=0,r}function yn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Be.memoizedState=Je=r:Je=Je.next=r,Je}function Wt(){if(Ke===null){var r=Be.alternate;r=r!==null?r.memoizedState:null}else r=Ke.next;var s=Je===null?Be.memoizedState:Je.next;if(s!==null)Je=s,Ke=r;else{if(r===null)throw Error(n(310));Ke=r,r={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Je===null?Be.memoizedState=Je=r:Je=Je.next=r}return Je}function eo(r,s){return typeof s=="function"?s(r):s}function Qc(r){var s=Wt(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var c=Ke,f=c.baseQueue,m=a.pending;if(m!==null){if(f!==null){var y=f.next;f.next=m.next,m.next=y}c.baseQueue=f=m,a.pending=null}if(f!==null){m=f.next,c=c.baseState;var E=y=null,I=null,O=m;do{var B=O.lane;if((qr&B)===B)I!==null&&(I=I.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),c=O.hasEagerState?O.eagerState:r(c,O.action);else{var j={lane:B,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};I===null?(E=I=j,y=c):I=I.next=j,Be.lanes|=B,Kr|=B}O=O.next}while(O!==null&&O!==m);I===null?y=c:I.next=E,en(c,s.memoizedState)||(Pt=!0),s.memoizedState=c,s.baseState=y,s.baseQueue=I,a.lastRenderedState=c}if(r=a.interleaved,r!==null){f=r;do m=f.lane,Be.lanes|=m,Kr|=m,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Yc(r){var s=Wt(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var c=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var y=f=f.next;do m=r(m,y.action),y=y.next;while(y!==f);en(m,s.memoizedState)||(Pt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,c]}function $m(){}function Gm(r,s){var a=Be,c=Wt(),f=s(),m=!en(c.memoizedState,f);if(m&&(c.memoizedState=f,Pt=!0),c=c.queue,Xc(Qm.bind(null,a,c,r),[r]),c.getSnapshot!==s||m||Je!==null&&Je.memoizedState.tag&1){if(a.flags|=2048,to(9,Km.bind(null,a,c,f,s),void 0,null),Ze===null)throw Error(n(349));(qr&30)!==0||qm(a,s,f)}return f}function qm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=Be.updateQueue,s===null?(s={lastEffect:null,stores:null},Be.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Km(r,s,a,c){s.value=a,s.getSnapshot=c,Ym(s)&&Xm(r)}function Qm(r,s,a){return a(function(){Ym(s)&&Xm(r)})}function Ym(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!en(r,a)}catch{return!0}}function Xm(r){var s=An(r,1);s!==null&&on(s,r,1,-1)}function Jm(r){var s=yn();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:r},s.queue=r,r=r.dispatch=JS.bind(null,Be,r),[s.memoizedState,r]}function to(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=Be.updateQueue,s===null?(s={lastEffect:null,stores:null},Be.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function Zm(){return Wt().memoizedState}function Xa(r,s,a,c){var f=yn();Be.flags|=r,f.memoizedState=to(1|s,a,void 0,c===void 0?null:c)}function Ja(r,s,a,c){var f=Wt();c=c===void 0?null:c;var m=void 0;if(Ke!==null){var y=Ke.memoizedState;if(m=y.destroy,c!==null&&Gc(c,y.deps)){f.memoizedState=to(s,a,m,c);return}}Be.flags|=r,f.memoizedState=to(1|s,a,m,c)}function eg(r,s){return Xa(8390656,8,r,s)}function Xc(r,s){return Ja(2048,8,r,s)}function tg(r,s){return Ja(4,2,r,s)}function ng(r,s){return Ja(4,4,r,s)}function rg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function ig(r,s,a){return a=a!=null?a.concat([r]):null,Ja(4,4,rg.bind(null,s,r),a)}function Jc(){}function sg(r,s){var a=Wt();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Gc(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function og(r,s){var a=Wt();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Gc(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function ag(r,s,a){return(qr&21)===0?(r.baseState&&(r.baseState=!1,Pt=!0),r.memoizedState=a):(en(a,s)||(a=Fp(),Be.lanes|=a,Kr|=a,r.baseState=!0),s)}function YS(r,s){var a=xe;xe=a!==0&&4>a?a:4,r(!0);var c=$c.transition;$c.transition={};try{r(!1),s()}finally{xe=a,$c.transition=c}}function lg(){return Wt().memoizedState}function XS(r,s,a){var c=hr(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},ug(r))cg(s,a);else if(a=Bm(r,s,a,c),a!==null){var f=yt();on(a,r,c,f),dg(a,s,c)}}function JS(r,s,a){var c=hr(r),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(ug(r))cg(s,f);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var y=s.lastRenderedState,E=m(y,a);if(f.hasEagerState=!0,f.eagerState=E,en(E,y)){var I=s.interleaved;I===null?(f.next=f,Hc(s)):(f.next=I.next,I.next=f),s.interleaved=f;return}}catch{}finally{}a=Bm(r,s,f,c),a!==null&&(f=yt(),on(a,r,c,f),dg(a,s,c))}}function ug(r){var s=r.alternate;return r===Be||s!==null&&s===Be}function cg(r,s){Js=Ya=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function dg(r,s,a){if((a&4194240)!==0){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,ec(r,a)}}var Za={readContext:zt,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},ZS={readContext:zt,useCallback:function(r,s){return yn().memoizedState=[r,s===void 0?null:s],r},useContext:zt,useEffect:eg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Xa(4194308,4,rg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Xa(4194308,4,r,s)},useInsertionEffect:function(r,s){return Xa(4,2,r,s)},useMemo:function(r,s){var a=yn();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=yn();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=XS.bind(null,Be,r),[c.memoizedState,r]},useRef:function(r){var s=yn();return r={current:r},s.memoizedState=r},useState:Jm,useDebugValue:Jc,useDeferredValue:function(r){return yn().memoizedState=r},useTransition:function(){var r=Jm(!1),s=r[0];return r=YS.bind(null,r[1]),yn().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=Be,f=yn();if(Fe){if(a===void 0)throw Error(n(407));a=a()}else{if(a=s(),Ze===null)throw Error(n(349));(qr&30)!==0||qm(c,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,eg(Qm.bind(null,c,m,r),[r]),c.flags|=2048,to(9,Km.bind(null,c,m,a,s),void 0,null),a},useId:function(){var r=yn(),s=Ze.identifierPrefix;if(Fe){var a=kn,c=Nn;a=(c&~(1<<32-Zt(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Zs++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=QS++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},eC={readContext:zt,useCallback:sg,useContext:zt,useEffect:Xc,useImperativeHandle:ig,useInsertionEffect:tg,useLayoutEffect:ng,useMemo:og,useReducer:Qc,useRef:Zm,useState:function(){return Qc(eo)},useDebugValue:Jc,useDeferredValue:function(r){var s=Wt();return ag(s,Ke.memoizedState,r)},useTransition:function(){var r=Qc(eo)[0],s=Wt().memoizedState;return[r,s]},useMutableSource:$m,useSyncExternalStore:Gm,useId:lg,unstable_isNewReconciler:!1},tC={readContext:zt,useCallback:sg,useContext:zt,useEffect:Xc,useImperativeHandle:ig,useInsertionEffect:tg,useLayoutEffect:ng,useMemo:og,useReducer:Yc,useRef:Zm,useState:function(){return Yc(eo)},useDebugValue:Jc,useDeferredValue:function(r){var s=Wt();return Ke===null?s.memoizedState=r:ag(s,Ke.memoizedState,r)},useTransition:function(){var r=Yc(eo)[0],s=Wt().memoizedState;return[r,s]},useMutableSource:$m,useSyncExternalStore:Gm,useId:lg,unstable_isNewReconciler:!1};function nn(r,s){if(r&&r.defaultProps){s=H({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Zc(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:H({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var el={isMounted:function(r){return(r=r._reactInternals)?Br(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=yt(),f=hr(r),m=Ln(c,f);m.payload=s,a!=null&&(m.callback=a),s=lr(r,m,f),s!==null&&(on(s,r,f,c),Ga(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=yt(),f=hr(r),m=Ln(c,f);m.tag=1,m.payload=s,a!=null&&(m.callback=a),s=lr(r,m,f),s!==null&&(on(s,r,f,c),Ga(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=yt(),c=hr(r),f=Ln(a,c);f.tag=2,s!=null&&(f.callback=s),s=lr(r,f,c),s!==null&&(on(s,r,c,a),Ga(s,r,c))}};function hg(r,s,a,c,f,m,y){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,m,y):s.prototype&&s.prototype.isPureReactComponent?!js(a,c)||!js(f,m):!0}function fg(r,s,a){var c=!1,f=sr,m=s.contextType;return typeof m=="object"&&m!==null?m=zt(m):(f=Rt(s)?zr:ct.current,c=s.contextTypes,m=(c=c!=null)?Li(r,f):sr),s=new s(a,m),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=el,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=m),s}function pg(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&el.enqueueReplaceState(s,s.state,null)}function ed(r,s,a,c){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},Bc(r);var m=s.contextType;typeof m=="object"&&m!==null?f.context=zt(m):(m=Rt(s)?zr:ct.current,f.context=Li(r,m)),f.state=r.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(Zc(r,s,m,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&el.enqueueReplaceState(f,f.state,null),qa(r,a,f,c),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function ji(r,s){try{var a="",c=s;do a+=ce(c),c=c.return;while(c);var f=a}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:r,source:s,stack:f,digest:null}}function td(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function nd(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var nC=typeof WeakMap=="function"?WeakMap:Map;function mg(r,s,a){a=Ln(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){al||(al=!0,vd=c),nd(r,s)},a}function gg(r,s,a){a=Ln(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;a.payload=function(){return c(f)},a.callback=function(){nd(r,s)}}var m=r.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){nd(r,s),typeof c!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var y=s.stack;this.componentDidCatch(s.value,{componentStack:y!==null?y:""})}),a}function vg(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new nC;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(a)||(f.add(a),r=gC.bind(null,r,s,a),s.then(r,r))}function yg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function _g(r,s,a,c,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Ln(-1,1),s.tag=2,lr(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var rC=z.ReactCurrentOwner,Pt=!1;function vt(r,s,a,c){s.child=r===null?Hm(s,null,a,c):Fi(s,r.child,a,c)}function Eg(r,s,a,c,f){a=a.render;var m=s.ref;return Hi(s,f),c=qc(r,s,a,c,m,f),a=Kc(),r!==null&&!Pt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,On(r,s,f)):(Fe&&a&&Nc(s),s.flags|=1,vt(r,s,c,f),s.child)}function wg(r,s,a,c,f){if(r===null){var m=a.type;return typeof m=="function"&&!Id(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=m,Sg(r,s,m,c,f)):(r=fl(a.type,null,c,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,(r.lanes&f)===0){var y=m.memoizedProps;if(a=a.compare,a=a!==null?a:js,a(y,c)&&r.ref===s.ref)return On(r,s,f)}return s.flags|=1,r=pr(m,c),r.ref=s.ref,r.return=s,s.child=r}function Sg(r,s,a,c,f){if(r!==null){var m=r.memoizedProps;if(js(m,c)&&r.ref===s.ref)if(Pt=!1,s.pendingProps=c=m,(r.lanes&f)!==0)(r.flags&131072)!==0&&(Pt=!0);else return s.lanes=r.lanes,On(r,s,f)}return rd(r,s,a,c,f)}function Cg(r,s,a){var c=s.pendingProps,f=c.children,m=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Wi,Dt),Dt|=a;else{if((a&1073741824)===0)return r=m!==null?m.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ne(Wi,Dt),Dt|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,Ne(Wi,Dt),Dt|=c}else m!==null?(c=m.baseLanes|a,s.memoizedState=null):c=a,Ne(Wi,Dt),Dt|=c;return vt(r,s,f,a),s.child}function Ig(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function rd(r,s,a,c,f){var m=Rt(a)?zr:ct.current;return m=Li(s,m),Hi(s,f),a=qc(r,s,a,c,m,f),c=Kc(),r!==null&&!Pt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,On(r,s,f)):(Fe&&c&&Nc(s),s.flags|=1,vt(r,s,a,f),s.child)}function Tg(r,s,a,c,f){if(Rt(a)){var m=!0;Ua(s)}else m=!1;if(Hi(s,f),s.stateNode===null)nl(r,s),fg(s,a,c),ed(s,a,c,f),c=!0;else if(r===null){var y=s.stateNode,E=s.memoizedProps;y.props=E;var I=y.context,O=a.contextType;typeof O=="object"&&O!==null?O=zt(O):(O=Rt(a)?zr:ct.current,O=Li(s,O));var B=a.getDerivedStateFromProps,j=typeof B=="function"||typeof y.getSnapshotBeforeUpdate=="function";j||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==c||I!==O)&&pg(s,y,c,O),ar=!1;var U=s.memoizedState;y.state=U,qa(s,c,y,f),I=s.memoizedState,E!==c||U!==I||xt.current||ar?(typeof B=="function"&&(Zc(s,a,B,c),I=s.memoizedState),(E=ar||hg(s,a,E,c,U,I,O))?(j||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=I),y.props=c,y.state=I,y.context=O,c=E):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,jm(r,s),E=s.memoizedProps,O=s.type===s.elementType?E:nn(s.type,E),y.props=O,j=s.pendingProps,U=y.context,I=a.contextType,typeof I=="object"&&I!==null?I=zt(I):(I=Rt(a)?zr:ct.current,I=Li(s,I));var q=a.getDerivedStateFromProps;(B=typeof q=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==j||U!==I)&&pg(s,y,c,I),ar=!1,U=s.memoizedState,y.state=U,qa(s,c,y,f);var Q=s.memoizedState;E!==j||U!==Q||xt.current||ar?(typeof q=="function"&&(Zc(s,a,q,c),Q=s.memoizedState),(O=ar||hg(s,a,O,c,U,Q,I)||!1)?(B||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,Q,I),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,Q,I)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===r.memoizedProps&&U===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&U===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Q),y.props=c,y.state=Q,y.context=I,c=O):(typeof y.componentDidUpdate!="function"||E===r.memoizedProps&&U===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&U===r.memoizedState||(s.flags|=1024),c=!1)}return id(r,s,a,c,m,f)}function id(r,s,a,c,f,m){Ig(r,s);var y=(s.flags&128)!==0;if(!c&&!y)return f&&Nm(s,a,!1),On(r,s,m);c=s.stateNode,rC.current=s;var E=y&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&y?(s.child=Fi(s,r.child,null,m),s.child=Fi(s,null,E,m)):vt(r,s,E,m),s.memoizedState=c.state,f&&Nm(s,a,!0),s.child}function xg(r){var s=r.stateNode;s.pendingContext?Pm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Pm(r,s.context,!1),jc(r,s.containerInfo)}function Rg(r,s,a,c,f){return Di(),Oc(f),s.flags|=256,vt(r,s,a,c),s.child}var sd={dehydrated:null,treeContext:null,retryLane:0};function od(r){return{baseLanes:r,cachePool:null,transitions:null}}function Pg(r,s,a){var c=s.pendingProps,f=He.current,m=!1,y=(s.flags&128)!==0,E;if((E=y)||(E=r!==null&&r.memoizedState===null?!1:(f&2)!==0),E?(m=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Ne(He,f&1),r===null)return Lc(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(y=c.children,r=c.fallback,m?(c=s.mode,m=s.child,y={mode:"hidden",children:y},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=y):m=pl(y,c,0,null),r=Jr(r,c,a,null),m.return=s,r.return=s,m.sibling=r,s.child=m,s.child.memoizedState=od(a),s.memoizedState=sd,r):ad(s,y));if(f=r.memoizedState,f!==null&&(E=f.dehydrated,E!==null))return iC(r,s,y,c,E,f,a);if(m){m=c.fallback,y=s.mode,f=r.child,E=f.sibling;var I={mode:"hidden",children:c.children};return(y&1)===0&&s.child!==f?(c=s.child,c.childLanes=0,c.pendingProps=I,s.deletions=null):(c=pr(f,I),c.subtreeFlags=f.subtreeFlags&14680064),E!==null?m=pr(E,m):(m=Jr(m,y,a,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,y=r.child.memoizedState,y=y===null?od(a):{baseLanes:y.baseLanes|a,cachePool:null,transitions:y.transitions},m.memoizedState=y,m.childLanes=r.childLanes&~a,s.memoizedState=sd,c}return m=r.child,r=m.sibling,c=pr(m,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function ad(r,s){return s=pl({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function tl(r,s,a,c){return c!==null&&Oc(c),Fi(s,r.child,null,a),r=ad(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function iC(r,s,a,c,f,m,y){if(a)return s.flags&256?(s.flags&=-257,c=td(Error(n(422))),tl(r,s,y,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(m=c.fallback,f=s.mode,c=pl({mode:"visible",children:c.children},f,0,null),m=Jr(m,f,y,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,(s.mode&1)!==0&&Fi(s,r.child,null,y),s.child.memoizedState=od(y),s.memoizedState=sd,m);if((s.mode&1)===0)return tl(r,s,y,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var E=c.dgst;return c=E,m=Error(n(419)),c=td(m,c,void 0),tl(r,s,y,c)}if(E=(y&r.childLanes)!==0,Pt||E){if(c=Ze,c!==null){switch(y&-y){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|y))!==0?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,An(r,f),on(c,r,f,-1))}return Cd(),c=td(Error(n(421))),tl(r,s,y,c)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=vC.bind(null,r),f._reactRetry=s,null):(r=m.treeContext,Mt=rr(f.nextSibling),Ot=s,Fe=!0,tn=null,r!==null&&(Bt[jt++]=Nn,Bt[jt++]=kn,Bt[jt++]=Wr,Nn=r.id,kn=r.overflow,Wr=s),s=ad(s,c.children),s.flags|=4096,s)}function bg(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Uc(r.return,s,a)}function ld(r,s,a,c,f){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=f)}function Ng(r,s,a){var c=s.pendingProps,f=c.revealOrder,m=c.tail;if(vt(r,s,c.children,a),c=He.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&bg(r,a,s);else if(r.tag===19)bg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(Ne(He,c),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&Ka(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),ld(s,!1,f,a,m);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Ka(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}ld(s,!0,a,null,m);break;case"together":ld(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function nl(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function On(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Kr|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,a=pr(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=pr(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function sC(r,s,a){switch(s.tag){case 3:xg(s),Di();break;case 5:Vm(s);break;case 1:Rt(s.type)&&Ua(s);break;case 4:jc(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,f=s.memoizedProps.value;Ne(Va,c._currentValue),c._currentValue=f;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Ne(He,He.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Pg(r,s,a):(Ne(He,He.current&1),r=On(r,s,a),r!==null?r.sibling:null);Ne(He,He.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(r.flags&128)!==0){if(c)return Ng(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ne(He,He.current),c)break;return null;case 22:case 23:return s.lanes=0,Cg(r,s,a)}return On(r,s,a)}var kg,ud,Ag,Lg;kg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},ud=function(){},Ag=function(r,s,a,c){var f=r.memoizedProps;if(f!==c){r=s.stateNode,Gr(vn.current);var m=null;switch(a){case"input":f=Uu(r,f),c=Uu(r,c),m=[];break;case"select":f=H({},f,{value:void 0}),c=H({},c,{value:void 0}),m=[];break;case"textarea":f=ju(r,f),c=ju(r,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=Ma)}Wu(a,c);var y;a=null;for(O in f)if(!c.hasOwnProperty(O)&&f.hasOwnProperty(O)&&f[O]!=null)if(O==="style"){var E=f[O];for(y in E)E.hasOwnProperty(y)&&(a||(a={}),a[y]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(o.hasOwnProperty(O)?m||(m=[]):(m=m||[]).push(O,null));for(O in c){var I=c[O];if(E=f!=null?f[O]:void 0,c.hasOwnProperty(O)&&I!==E&&(I!=null||E!=null))if(O==="style")if(E){for(y in E)!E.hasOwnProperty(y)||I&&I.hasOwnProperty(y)||(a||(a={}),a[y]="");for(y in I)I.hasOwnProperty(y)&&E[y]!==I[y]&&(a||(a={}),a[y]=I[y])}else a||(m||(m=[]),m.push(O,a)),a=I;else O==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,E=E?E.__html:void 0,I!=null&&E!==I&&(m=m||[]).push(O,I)):O==="children"?typeof I!="string"&&typeof I!="number"||(m=m||[]).push(O,""+I):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(o.hasOwnProperty(O)?(I!=null&&O==="onScroll"&&Le("scroll",r),m||E===I||(m=[])):(m=m||[]).push(O,I))}a&&(m=m||[]).push("style",a);var O=m;(s.updateQueue=O)&&(s.flags|=4)}},Lg=function(r,s,a,c){a!==c&&(s.flags|=4)};function no(r,s){if(!Fe)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function ht(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function oC(r,s,a){var c=s.pendingProps;switch(kc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(s),null;case 1:return Rt(s.type)&&Fa(),ht(s),null;case 3:return c=s.stateNode,Bi(),Oe(xt),Oe(ct),Vc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(za(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,tn!==null&&(Ed(tn),tn=null))),ud(r,s),ht(s),null;case 5:zc(s);var f=Gr(Xs.current);if(a=s.type,r!==null&&s.stateNode!=null)Ag(r,s,a,c,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(n(166));return ht(s),null}if(r=Gr(vn.current),za(s)){c=s.stateNode,a=s.type;var m=s.memoizedProps;switch(c[gn]=s,c[Gs]=m,r=(s.mode&1)!==0,a){case"dialog":Le("cancel",c),Le("close",c);break;case"iframe":case"object":case"embed":Le("load",c);break;case"video":case"audio":for(f=0;f<Ws.length;f++)Le(Ws[f],c);break;case"source":Le("error",c);break;case"img":case"image":case"link":Le("error",c),Le("load",c);break;case"details":Le("toggle",c);break;case"input":fp(c,m),Le("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Le("invalid",c);break;case"textarea":gp(c,m),Le("invalid",c)}Wu(a,m),f=null;for(var y in m)if(m.hasOwnProperty(y)){var E=m[y];y==="children"?typeof E=="string"?c.textContent!==E&&(m.suppressHydrationWarning!==!0&&Oa(c.textContent,E,r),f=["children",E]):typeof E=="number"&&c.textContent!==""+E&&(m.suppressHydrationWarning!==!0&&Oa(c.textContent,E,r),f=["children",""+E]):o.hasOwnProperty(y)&&E!=null&&y==="onScroll"&&Le("scroll",c)}switch(a){case"input":Ss(c),mp(c,m,!0);break;case"textarea":Ss(c),yp(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Ma)}c=f,s.updateQueue=c,c!==null&&(s.flags|=4)}else{y=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=_p(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=y.createElement(a,{is:c.is}):(r=y.createElement(a),a==="select"&&(y=r,c.multiple?y.multiple=!0:c.size&&(y.size=c.size))):r=y.createElementNS(r,a),r[gn]=s,r[Gs]=c,kg(r,s,!1,!1),s.stateNode=r;e:{switch(y=Vu(a,c),a){case"dialog":Le("cancel",r),Le("close",r),f=c;break;case"iframe":case"object":case"embed":Le("load",r),f=c;break;case"video":case"audio":for(f=0;f<Ws.length;f++)Le(Ws[f],r);f=c;break;case"source":Le("error",r),f=c;break;case"img":case"image":case"link":Le("error",r),Le("load",r),f=c;break;case"details":Le("toggle",r),f=c;break;case"input":fp(r,c),f=Uu(r,c),Le("invalid",r);break;case"option":f=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},f=H({},c,{value:void 0}),Le("invalid",r);break;case"textarea":gp(r,c),f=ju(r,c),Le("invalid",r);break;default:f=c}Wu(a,f),E=f;for(m in E)if(E.hasOwnProperty(m)){var I=E[m];m==="style"?Sp(r,I):m==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&Ep(r,I)):m==="children"?typeof I=="string"?(a!=="textarea"||I!=="")&&Is(r,I):typeof I=="number"&&Is(r,""+I):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?I!=null&&m==="onScroll"&&Le("scroll",r):I!=null&&F(r,m,I,y))}switch(a){case"input":Ss(r),mp(r,c,!1);break;case"textarea":Ss(r),yp(r);break;case"option":c.value!=null&&r.setAttribute("value",""+_e(c.value));break;case"select":r.multiple=!!c.multiple,m=c.value,m!=null?wi(r,!!c.multiple,m,!1):c.defaultValue!=null&&wi(r,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Ma)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return ht(s),null;case 6:if(r&&s.stateNode!=null)Lg(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(a=Gr(Xs.current),Gr(vn.current),za(s)){if(c=s.stateNode,a=s.memoizedProps,c[gn]=s,(m=c.nodeValue!==a)&&(r=Ot,r!==null))switch(r.tag){case 3:Oa(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Oa(c.nodeValue,a,(r.mode&1)!==0)}m&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[gn]=s,s.stateNode=c}return ht(s),null;case 13:if(Oe(He),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Fe&&Mt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Dm(),Di(),s.flags|=98560,m=!1;else if(m=za(s),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(n(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[gn]=s}else Di(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ht(s),m=!1}else tn!==null&&(Ed(tn),tn=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(He.current&1)!==0?Qe===0&&(Qe=3):Cd())),s.updateQueue!==null&&(s.flags|=4),ht(s),null);case 4:return Bi(),ud(r,s),r===null&&Vs(s.stateNode.containerInfo),ht(s),null;case 10:return Fc(s.type._context),ht(s),null;case 17:return Rt(s.type)&&Fa(),ht(s),null;case 19:if(Oe(He),m=s.memoizedState,m===null)return ht(s),null;if(c=(s.flags&128)!==0,y=m.rendering,y===null)if(c)no(m,!1);else{if(Qe!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=Ka(r),y!==null){for(s.flags|=128,no(m,!1),c=y.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)m=a,r=c,m.flags&=14680066,y=m.alternate,y===null?(m.childLanes=0,m.lanes=r,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=y.childLanes,m.lanes=y.lanes,m.child=y.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=y.memoizedProps,m.memoizedState=y.memoizedState,m.updateQueue=y.updateQueue,m.type=y.type,r=y.dependencies,m.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ne(He,He.current&1|2),s.child}r=r.sibling}m.tail!==null&&Ve()>Vi&&(s.flags|=128,c=!0,no(m,!1),s.lanes=4194304)}else{if(!c)if(r=Ka(y),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),no(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Fe)return ht(s),null}else 2*Ve()-m.renderingStartTime>Vi&&a!==1073741824&&(s.flags|=128,c=!0,no(m,!1),s.lanes=4194304);m.isBackwards?(y.sibling=s.child,s.child=y):(a=m.last,a!==null?a.sibling=y:s.child=y,m.last=y)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Ve(),s.sibling=null,a=He.current,Ne(He,c?a&1|2:a&1),s):(ht(s),null);case 22:case 23:return Sd(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(Dt&1073741824)!==0&&(ht(s),s.subtreeFlags&6&&(s.flags|=8192)):ht(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function aC(r,s){switch(kc(s),s.tag){case 1:return Rt(s.type)&&Fa(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Bi(),Oe(xt),Oe(ct),Vc(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return zc(s),null;case 13:if(Oe(He),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Di()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Oe(He),null;case 4:return Bi(),null;case 10:return Fc(s.type._context),null;case 22:case 23:return Sd(),null;case 24:return null;default:return null}}var rl=!1,ft=!1,lC=typeof WeakSet=="function"?WeakSet:Set,K=null;function zi(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){ze(r,s,c)}else a.current=null}function cd(r,s,a){try{a()}catch(c){ze(r,s,c)}}var Og=!1;function uC(r,s){if(Sc=Ca,r=hm(),pc(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var y=0,E=-1,I=-1,O=0,B=0,j=r,U=null;t:for(;;){for(var q;j!==a||f!==0&&j.nodeType!==3||(E=y+f),j!==m||c!==0&&j.nodeType!==3||(I=y+c),j.nodeType===3&&(y+=j.nodeValue.length),(q=j.firstChild)!==null;)U=j,j=q;for(;;){if(j===r)break t;if(U===a&&++O===f&&(E=y),U===m&&++B===c&&(I=y),(q=j.nextSibling)!==null)break;j=U,U=j.parentNode}j=q}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cc={focusedElem:r,selectionRange:a},Ca=!1,K=s;K!==null;)if(s=K,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,K=r;else for(;K!==null;){s=K;try{var Q=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var Y=Q.memoizedProps,$e=Q.memoizedState,b=s.stateNode,T=b.getSnapshotBeforeUpdate(s.elementType===s.type?Y:nn(s.type,Y),$e);b.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var k=s.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(W){ze(s,s.return,W)}if(r=s.sibling,r!==null){r.return=s.return,K=r;break}K=s.return}return Q=Og,Og=!1,Q}function ro(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&r)===r){var m=f.destroy;f.destroy=void 0,m!==void 0&&cd(s,a,m)}f=f.next}while(f!==c)}}function il(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function dd(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Mg(r){var s=r.alternate;s!==null&&(r.alternate=null,Mg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[gn],delete s[Gs],delete s[Rc],delete s[$S],delete s[GS])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Dg(r){return r.tag===5||r.tag===3||r.tag===4}function Fg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Dg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function hd(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ma));else if(c!==4&&(r=r.child,r!==null))for(hd(r,s,a),r=r.sibling;r!==null;)hd(r,s,a),r=r.sibling}function fd(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(fd(r,s,a),r=r.sibling;r!==null;)fd(r,s,a),r=r.sibling}var rt=null,rn=!1;function ur(r,s,a){for(a=a.child;a!==null;)Ug(r,s,a),a=a.sibling}function Ug(r,s,a){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(va,a)}catch{}switch(a.tag){case 5:ft||zi(a,s);case 6:var c=rt,f=rn;rt=null,ur(r,s,a),rt=c,rn=f,rt!==null&&(rn?(r=rt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):rt.removeChild(a.stateNode));break;case 18:rt!==null&&(rn?(r=rt,a=a.stateNode,r.nodeType===8?xc(r.parentNode,a):r.nodeType===1&&xc(r,a),Ms(r)):xc(rt,a.stateNode));break;case 4:c=rt,f=rn,rt=a.stateNode.containerInfo,rn=!0,ur(r,s,a),rt=c,rn=f;break;case 0:case 11:case 14:case 15:if(!ft&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,y=m.destroy;m=m.tag,y!==void 0&&((m&2)!==0||(m&4)!==0)&&cd(a,s,y),f=f.next}while(f!==c)}ur(r,s,a);break;case 1:if(!ft&&(zi(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(E){ze(a,s,E)}ur(r,s,a);break;case 21:ur(r,s,a);break;case 22:a.mode&1?(ft=(c=ft)||a.memoizedState!==null,ur(r,s,a),ft=c):ur(r,s,a);break;default:ur(r,s,a)}}function Hg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new lC),s.forEach(function(c){var f=yC.bind(null,r,c);a.has(c)||(a.add(c),c.then(f,f))})}}function sn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var m=r,y=s,E=y;e:for(;E!==null;){switch(E.tag){case 5:rt=E.stateNode,rn=!1;break e;case 3:rt=E.stateNode.containerInfo,rn=!0;break e;case 4:rt=E.stateNode.containerInfo,rn=!0;break e}E=E.return}if(rt===null)throw Error(n(160));Ug(m,y,f),rt=null,rn=!1;var I=f.alternate;I!==null&&(I.return=null),f.return=null}catch(O){ze(f,s,O)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Bg(s,r),s=s.sibling}function Bg(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(sn(s,r),_n(r),c&4){try{ro(3,r,r.return),il(3,r)}catch(Y){ze(r,r.return,Y)}try{ro(5,r,r.return)}catch(Y){ze(r,r.return,Y)}}break;case 1:sn(s,r),_n(r),c&512&&a!==null&&zi(a,a.return);break;case 5:if(sn(s,r),_n(r),c&512&&a!==null&&zi(a,a.return),r.flags&32){var f=r.stateNode;try{Is(f,"")}catch(Y){ze(r,r.return,Y)}}if(c&4&&(f=r.stateNode,f!=null)){var m=r.memoizedProps,y=a!==null?a.memoizedProps:m,E=r.type,I=r.updateQueue;if(r.updateQueue=null,I!==null)try{E==="input"&&m.type==="radio"&&m.name!=null&&pp(f,m),Vu(E,y);var O=Vu(E,m);for(y=0;y<I.length;y+=2){var B=I[y],j=I[y+1];B==="style"?Sp(f,j):B==="dangerouslySetInnerHTML"?Ep(f,j):B==="children"?Is(f,j):F(f,B,j,O)}switch(E){case"input":Hu(f,m);break;case"textarea":vp(f,m);break;case"select":var U=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var q=m.value;q!=null?wi(f,!!m.multiple,q,!1):U!==!!m.multiple&&(m.defaultValue!=null?wi(f,!!m.multiple,m.defaultValue,!0):wi(f,!!m.multiple,m.multiple?[]:"",!1))}f[Gs]=m}catch(Y){ze(r,r.return,Y)}}break;case 6:if(sn(s,r),_n(r),c&4){if(r.stateNode===null)throw Error(n(162));f=r.stateNode,m=r.memoizedProps;try{f.nodeValue=m}catch(Y){ze(r,r.return,Y)}}break;case 3:if(sn(s,r),_n(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Ms(s.containerInfo)}catch(Y){ze(r,r.return,Y)}break;case 4:sn(s,r),_n(r);break;case 13:sn(s,r),_n(r),f=r.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(gd=Ve())),c&4&&Hg(r);break;case 22:if(B=a!==null&&a.memoizedState!==null,r.mode&1?(ft=(O=ft)||B,sn(s,r),ft=O):sn(s,r),_n(r),c&8192){if(O=r.memoizedState!==null,(r.stateNode.isHidden=O)&&!B&&(r.mode&1)!==0)for(K=r,B=r.child;B!==null;){for(j=K=B;K!==null;){switch(U=K,q=U.child,U.tag){case 0:case 11:case 14:case 15:ro(4,U,U.return);break;case 1:zi(U,U.return);var Q=U.stateNode;if(typeof Q.componentWillUnmount=="function"){c=U,a=U.return;try{s=c,Q.props=s.memoizedProps,Q.state=s.memoizedState,Q.componentWillUnmount()}catch(Y){ze(c,a,Y)}}break;case 5:zi(U,U.return);break;case 22:if(U.memoizedState!==null){Wg(j);continue}}q!==null?(q.return=U,K=q):Wg(j)}B=B.sibling}e:for(B=null,j=r;;){if(j.tag===5){if(B===null){B=j;try{f=j.stateNode,O?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(E=j.stateNode,I=j.memoizedProps.style,y=I!=null&&I.hasOwnProperty("display")?I.display:null,E.style.display=wp("display",y))}catch(Y){ze(r,r.return,Y)}}}else if(j.tag===6){if(B===null)try{j.stateNode.nodeValue=O?"":j.memoizedProps}catch(Y){ze(r,r.return,Y)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===r)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===r)break e;for(;j.sibling===null;){if(j.return===null||j.return===r)break e;B===j&&(B=null),j=j.return}B===j&&(B=null),j.sibling.return=j.return,j=j.sibling}}break;case 19:sn(s,r),_n(r),c&4&&Hg(r);break;case 21:break;default:sn(s,r),_n(r)}}function _n(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Dg(a)){var c=a;break e}a=a.return}throw Error(n(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Is(f,""),c.flags&=-33);var m=Fg(r);fd(r,m,f);break;case 3:case 4:var y=c.stateNode.containerInfo,E=Fg(r);hd(r,E,y);break;default:throw Error(n(161))}}catch(I){ze(r,r.return,I)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function cC(r,s,a){K=r,jg(r)}function jg(r,s,a){for(var c=(r.mode&1)!==0;K!==null;){var f=K,m=f.child;if(f.tag===22&&c){var y=f.memoizedState!==null||rl;if(!y){var E=f.alternate,I=E!==null&&E.memoizedState!==null||ft;E=rl;var O=ft;if(rl=y,(ft=I)&&!O)for(K=f;K!==null;)y=K,I=y.child,y.tag===22&&y.memoizedState!==null?Vg(f):I!==null?(I.return=y,K=I):Vg(f);for(;m!==null;)K=m,jg(m),m=m.sibling;K=f,rl=E,ft=O}zg(r)}else(f.subtreeFlags&8772)!==0&&m!==null?(m.return=f,K=m):zg(r)}}function zg(r){for(;K!==null;){var s=K;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:ft||il(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!ft)if(a===null)c.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:nn(s.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&Wm(s,m,c);break;case 3:var y=s.updateQueue;if(y!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Wm(s,y,a)}break;case 5:var E=s.stateNode;if(a===null&&s.flags&4){a=E;var I=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&a.focus();break;case"img":I.src&&(a.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var O=s.alternate;if(O!==null){var B=O.memoizedState;if(B!==null){var j=B.dehydrated;j!==null&&Ms(j)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ft||s.flags&512&&dd(s)}catch(U){ze(s,s.return,U)}}if(s===r){K=null;break}if(a=s.sibling,a!==null){a.return=s.return,K=a;break}K=s.return}}function Wg(r){for(;K!==null;){var s=K;if(s===r){K=null;break}var a=s.sibling;if(a!==null){a.return=s.return,K=a;break}K=s.return}}function Vg(r){for(;K!==null;){var s=K;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{il(4,s)}catch(I){ze(s,a,I)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var f=s.return;try{c.componentDidMount()}catch(I){ze(s,f,I)}}var m=s.return;try{dd(s)}catch(I){ze(s,m,I)}break;case 5:var y=s.return;try{dd(s)}catch(I){ze(s,y,I)}}}catch(I){ze(s,s.return,I)}if(s===r){K=null;break}var E=s.sibling;if(E!==null){E.return=s.return,K=E;break}K=s.return}}var dC=Math.ceil,sl=z.ReactCurrentDispatcher,pd=z.ReactCurrentOwner,Vt=z.ReactCurrentBatchConfig,we=0,Ze=null,Ge=null,it=0,Dt=0,Wi=ir(0),Qe=0,io=null,Kr=0,ol=0,md=0,so=null,bt=null,gd=0,Vi=1/0,Mn=null,al=!1,vd=null,cr=null,ll=!1,dr=null,ul=0,oo=0,yd=null,cl=-1,dl=0;function yt(){return(we&6)!==0?Ve():cl!==-1?cl:cl=Ve()}function hr(r){return(r.mode&1)===0?1:(we&2)!==0&&it!==0?it&-it:KS.transition!==null?(dl===0&&(dl=Fp()),dl):(r=xe,r!==0||(r=window.event,r=r===void 0?16:Gp(r.type)),r)}function on(r,s,a,c){if(50<oo)throw oo=0,yd=null,Error(n(185));Ns(r,a,c),((we&2)===0||r!==Ze)&&(r===Ze&&((we&2)===0&&(ol|=a),Qe===4&&fr(r,it)),Nt(r,c),a===1&&we===0&&(s.mode&1)===0&&(Vi=Ve()+500,Ha&&or()))}function Nt(r,s){var a=r.callbackNode;Kw(r,s);var c=Ea(r,r===Ze?it:0);if(c===0)a!==null&&Op(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&Op(a),s===1)r.tag===0?qS(Gg.bind(null,r)):km(Gg.bind(null,r)),WS(function(){(we&6)===0&&or()}),a=null;else{switch(Up(c)){case 1:a=Xu;break;case 4:a=Mp;break;case 16:a=ga;break;case 536870912:a=Dp;break;default:a=ga}a=ev(a,$g.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function $g(r,s){if(cl=-1,dl=0,(we&6)!==0)throw Error(n(327));var a=r.callbackNode;if($i()&&r.callbackNode!==a)return null;var c=Ea(r,r===Ze?it:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||s)s=hl(r,c);else{s=c;var f=we;we|=2;var m=Kg();(Ze!==r||it!==s)&&(Mn=null,Vi=Ve()+500,Yr(r,s));do try{pC();break}catch(E){qg(r,E)}while(!0);Dc(),sl.current=m,we=f,Ge!==null?s=0:(Ze=null,it=0,s=Qe)}if(s!==0){if(s===2&&(f=Ju(r),f!==0&&(c=f,s=_d(r,f))),s===1)throw a=io,Yr(r,0),fr(r,c),Nt(r,Ve()),a;if(s===6)fr(r,c);else{if(f=r.current.alternate,(c&30)===0&&!hC(f)&&(s=hl(r,c),s===2&&(m=Ju(r),m!==0&&(c=m,s=_d(r,m))),s===1))throw a=io,Yr(r,0),fr(r,c),Nt(r,Ve()),a;switch(r.finishedWork=f,r.finishedLanes=c,s){case 0:case 1:throw Error(n(345));case 2:Xr(r,bt,Mn);break;case 3:if(fr(r,c),(c&130023424)===c&&(s=gd+500-Ve(),10<s)){if(Ea(r,0)!==0)break;if(f=r.suspendedLanes,(f&c)!==c){yt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Tc(Xr.bind(null,r,bt,Mn),s);break}Xr(r,bt,Mn);break;case 4:if(fr(r,c),(c&4194240)===c)break;for(s=r.eventTimes,f=-1;0<c;){var y=31-Zt(c);m=1<<y,y=s[y],y>f&&(f=y),c&=~m}if(c=f,c=Ve()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*dC(c/1960))-c,10<c){r.timeoutHandle=Tc(Xr.bind(null,r,bt,Mn),c);break}Xr(r,bt,Mn);break;case 5:Xr(r,bt,Mn);break;default:throw Error(n(329))}}}return Nt(r,Ve()),r.callbackNode===a?$g.bind(null,r):null}function _d(r,s){var a=so;return r.current.memoizedState.isDehydrated&&(Yr(r,s).flags|=256),r=hl(r,s),r!==2&&(s=bt,bt=a,s!==null&&Ed(s)),r}function Ed(r){bt===null?bt=r:bt.push.apply(bt,r)}function hC(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],m=f.getSnapshot;f=f.value;try{if(!en(m(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fr(r,s){for(s&=~md,s&=~ol,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Zt(s),c=1<<a;r[a]=-1,s&=~c}}function Gg(r){if((we&6)!==0)throw Error(n(327));$i();var s=Ea(r,0);if((s&1)===0)return Nt(r,Ve()),null;var a=hl(r,s);if(r.tag!==0&&a===2){var c=Ju(r);c!==0&&(s=c,a=_d(r,c))}if(a===1)throw a=io,Yr(r,0),fr(r,s),Nt(r,Ve()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Xr(r,bt,Mn),Nt(r,Ve()),null}function wd(r,s){var a=we;we|=1;try{return r(s)}finally{we=a,we===0&&(Vi=Ve()+500,Ha&&or())}}function Qr(r){dr!==null&&dr.tag===0&&(we&6)===0&&$i();var s=we;we|=1;var a=Vt.transition,c=xe;try{if(Vt.transition=null,xe=1,r)return r()}finally{xe=c,Vt.transition=a,we=s,(we&6)===0&&or()}}function Sd(){Dt=Wi.current,Oe(Wi)}function Yr(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,zS(a)),Ge!==null)for(a=Ge.return;a!==null;){var c=a;switch(kc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Fa();break;case 3:Bi(),Oe(xt),Oe(ct),Vc();break;case 5:zc(c);break;case 4:Bi();break;case 13:Oe(He);break;case 19:Oe(He);break;case 10:Fc(c.type._context);break;case 22:case 23:Sd()}a=a.return}if(Ze=r,Ge=r=pr(r.current,null),it=Dt=s,Qe=0,io=null,md=ol=Kr=0,bt=so=null,$r!==null){for(s=0;s<$r.length;s++)if(a=$r[s],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,m=a.pending;if(m!==null){var y=m.next;m.next=f,c.next=y}a.pending=c}$r=null}return r}function qg(r,s){do{var a=Ge;try{if(Dc(),Qa.current=Za,Ya){for(var c=Be.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Ya=!1}if(qr=0,Je=Ke=Be=null,Js=!1,Zs=0,pd.current=null,a===null||a.return===null){Qe=1,io=s,Ge=null;break}e:{var m=r,y=a.return,E=a,I=s;if(s=it,E.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var O=I,B=E,j=B.tag;if((B.mode&1)===0&&(j===0||j===11||j===15)){var U=B.alternate;U?(B.updateQueue=U.updateQueue,B.memoizedState=U.memoizedState,B.lanes=U.lanes):(B.updateQueue=null,B.memoizedState=null)}var q=yg(y);if(q!==null){q.flags&=-257,_g(q,y,E,m,s),q.mode&1&&vg(m,O,s),s=q,I=O;var Q=s.updateQueue;if(Q===null){var Y=new Set;Y.add(I),s.updateQueue=Y}else Q.add(I);break e}else{if((s&1)===0){vg(m,O,s),Cd();break e}I=Error(n(426))}}else if(Fe&&E.mode&1){var $e=yg(y);if($e!==null){($e.flags&65536)===0&&($e.flags|=256),_g($e,y,E,m,s),Oc(ji(I,E));break e}}m=I=ji(I,E),Qe!==4&&(Qe=2),so===null?so=[m]:so.push(m),m=y;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var b=mg(m,I,s);zm(m,b);break e;case 1:E=I;var T=m.type,k=m.stateNode;if((m.flags&128)===0&&(typeof T.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(cr===null||!cr.has(k)))){m.flags|=65536,s&=-s,m.lanes|=s;var W=gg(m,E,s);zm(m,W);break e}}m=m.return}while(m!==null)}Yg(a)}catch(Z){s=Z,Ge===a&&a!==null&&(Ge=a=a.return);continue}break}while(!0)}function Kg(){var r=sl.current;return sl.current=Za,r===null?Za:r}function Cd(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Ze===null||(Kr&268435455)===0&&(ol&268435455)===0||fr(Ze,it)}function hl(r,s){var a=we;we|=2;var c=Kg();(Ze!==r||it!==s)&&(Mn=null,Yr(r,s));do try{fC();break}catch(f){qg(r,f)}while(!0);if(Dc(),we=a,sl.current=c,Ge!==null)throw Error(n(261));return Ze=null,it=0,Qe}function fC(){for(;Ge!==null;)Qg(Ge)}function pC(){for(;Ge!==null&&!Hw();)Qg(Ge)}function Qg(r){var s=Zg(r.alternate,r,Dt);r.memoizedProps=r.pendingProps,s===null?Yg(r):Ge=s,pd.current=null}function Yg(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=oC(a,s,Dt),a!==null){Ge=a;return}}else{if(a=aC(a,s),a!==null){a.flags&=32767,Ge=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Qe=6,Ge=null;return}}if(s=s.sibling,s!==null){Ge=s;return}Ge=s=r}while(s!==null);Qe===0&&(Qe=5)}function Xr(r,s,a){var c=xe,f=Vt.transition;try{Vt.transition=null,xe=1,mC(r,s,a,c)}finally{Vt.transition=f,xe=c}return null}function mC(r,s,a,c){do $i();while(dr!==null);if((we&6)!==0)throw Error(n(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var m=a.lanes|a.childLanes;if(Qw(r,m),r===Ze&&(Ge=Ze=null,it=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||ll||(ll=!0,ev(ga,function(){return $i(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=Vt.transition,Vt.transition=null;var y=xe;xe=1;var E=we;we|=4,pd.current=null,uC(r,a),Bg(a,r),MS(Cc),Ca=!!Sc,Cc=Sc=null,r.current=a,cC(a),Bw(),we=E,xe=y,Vt.transition=m}else r.current=a;if(ll&&(ll=!1,dr=r,ul=f),m=r.pendingLanes,m===0&&(cr=null),Ww(a.stateNode),Nt(r,Ve()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(al)throw al=!1,r=vd,vd=null,r;return(ul&1)!==0&&r.tag!==0&&$i(),m=r.pendingLanes,(m&1)!==0?r===yd?oo++:(oo=0,yd=r):oo=0,or(),null}function $i(){if(dr!==null){var r=Up(ul),s=Vt.transition,a=xe;try{if(Vt.transition=null,xe=16>r?16:r,dr===null)var c=!1;else{if(r=dr,dr=null,ul=0,(we&6)!==0)throw Error(n(331));var f=we;for(we|=4,K=r.current;K!==null;){var m=K,y=m.child;if((K.flags&16)!==0){var E=m.deletions;if(E!==null){for(var I=0;I<E.length;I++){var O=E[I];for(K=O;K!==null;){var B=K;switch(B.tag){case 0:case 11:case 15:ro(8,B,m)}var j=B.child;if(j!==null)j.return=B,K=j;else for(;K!==null;){B=K;var U=B.sibling,q=B.return;if(Mg(B),B===O){K=null;break}if(U!==null){U.return=q,K=U;break}K=q}}}var Q=m.alternate;if(Q!==null){var Y=Q.child;if(Y!==null){Q.child=null;do{var $e=Y.sibling;Y.sibling=null,Y=$e}while(Y!==null)}}K=m}}if((m.subtreeFlags&2064)!==0&&y!==null)y.return=m,K=y;else e:for(;K!==null;){if(m=K,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:ro(9,m,m.return)}var b=m.sibling;if(b!==null){b.return=m.return,K=b;break e}K=m.return}}var T=r.current;for(K=T;K!==null;){y=K;var k=y.child;if((y.subtreeFlags&2064)!==0&&k!==null)k.return=y,K=k;else e:for(y=T;K!==null;){if(E=K,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:il(9,E)}}catch(Z){ze(E,E.return,Z)}if(E===y){K=null;break e}var W=E.sibling;if(W!==null){W.return=E.return,K=W;break e}K=E.return}}if(we=f,or(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(va,r)}catch{}c=!0}return c}finally{xe=a,Vt.transition=s}}return!1}function Xg(r,s,a){s=ji(a,s),s=mg(r,s,1),r=lr(r,s,1),s=yt(),r!==null&&(Ns(r,1,s),Nt(r,s))}function ze(r,s,a){if(r.tag===3)Xg(r,r,a);else for(;s!==null;){if(s.tag===3){Xg(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(cr===null||!cr.has(c))){r=ji(a,r),r=gg(s,r,1),s=lr(s,r,1),r=yt(),s!==null&&(Ns(s,1,r),Nt(s,r));break}}s=s.return}}function gC(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=yt(),r.pingedLanes|=r.suspendedLanes&a,Ze===r&&(it&a)===a&&(Qe===4||Qe===3&&(it&130023424)===it&&500>Ve()-gd?Yr(r,0):md|=a),Nt(r,s)}function Jg(r,s){s===0&&((r.mode&1)===0?s=1:(s=_a,_a<<=1,(_a&130023424)===0&&(_a=4194304)));var a=yt();r=An(r,s),r!==null&&(Ns(r,s,a),Nt(r,a))}function vC(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Jg(r,a)}function yC(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(s),Jg(r,a)}var Zg;Zg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||xt.current)Pt=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return Pt=!1,sC(r,s,a);Pt=(r.flags&131072)!==0}else Pt=!1,Fe&&(s.flags&1048576)!==0&&Am(s,ja,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;nl(r,s),r=s.pendingProps;var f=Li(s,ct.current);Hi(s,a),f=qc(null,s,c,r,f,a);var m=Kc();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Rt(c)?(m=!0,Ua(s)):m=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Bc(s),f.updater=el,s.stateNode=f,f._reactInternals=s,ed(s,c,r,a),s=id(null,s,c,!0,m,a)):(s.tag=0,Fe&&m&&Nc(s),vt(null,s,f,a),s=s.child),s;case 16:c=s.elementType;e:{switch(nl(r,s),r=s.pendingProps,f=c._init,c=f(c._payload),s.type=c,f=s.tag=EC(c),r=nn(c,r),f){case 0:s=rd(null,s,c,r,a);break e;case 1:s=Tg(null,s,c,r,a);break e;case 11:s=Eg(null,s,c,r,a);break e;case 14:s=wg(null,s,c,nn(c.type,r),a);break e}throw Error(n(306,c,""))}return s;case 0:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:nn(c,f),rd(r,s,c,f,a);case 1:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:nn(c,f),Tg(r,s,c,f,a);case 3:e:{if(xg(s),r===null)throw Error(n(387));c=s.pendingProps,m=s.memoizedState,f=m.element,jm(r,s),qa(s,c,null,a);var y=s.memoizedState;if(c=y.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){f=ji(Error(n(423)),s),s=Rg(r,s,c,a,f);break e}else if(c!==f){f=ji(Error(n(424)),s),s=Rg(r,s,c,a,f);break e}else for(Mt=rr(s.stateNode.containerInfo.firstChild),Ot=s,Fe=!0,tn=null,a=Hm(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Di(),c===f){s=On(r,s,a);break e}vt(r,s,c,a)}s=s.child}return s;case 5:return Vm(s),r===null&&Lc(s),c=s.type,f=s.pendingProps,m=r!==null?r.memoizedProps:null,y=f.children,Ic(c,f)?y=null:m!==null&&Ic(c,m)&&(s.flags|=32),Ig(r,s),vt(r,s,y,a),s.child;case 6:return r===null&&Lc(s),null;case 13:return Pg(r,s,a);case 4:return jc(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Fi(s,null,c,a):vt(r,s,c,a),s.child;case 11:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:nn(c,f),Eg(r,s,c,f,a);case 7:return vt(r,s,s.pendingProps,a),s.child;case 8:return vt(r,s,s.pendingProps.children,a),s.child;case 12:return vt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,f=s.pendingProps,m=s.memoizedProps,y=f.value,Ne(Va,c._currentValue),c._currentValue=y,m!==null)if(en(m.value,y)){if(m.children===f.children&&!xt.current){s=On(r,s,a);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var E=m.dependencies;if(E!==null){y=m.child;for(var I=E.firstContext;I!==null;){if(I.context===c){if(m.tag===1){I=Ln(-1,a&-a),I.tag=2;var O=m.updateQueue;if(O!==null){O=O.shared;var B=O.pending;B===null?I.next=I:(I.next=B.next,B.next=I),O.pending=I}}m.lanes|=a,I=m.alternate,I!==null&&(I.lanes|=a),Uc(m.return,a,s),E.lanes|=a;break}I=I.next}}else if(m.tag===10)y=m.type===s.type?null:m.child;else if(m.tag===18){if(y=m.return,y===null)throw Error(n(341));y.lanes|=a,E=y.alternate,E!==null&&(E.lanes|=a),Uc(y,a,s),y=m.sibling}else y=m.child;if(y!==null)y.return=m;else for(y=m;y!==null;){if(y===s){y=null;break}if(m=y.sibling,m!==null){m.return=y.return,y=m;break}y=y.return}m=y}vt(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,c=s.pendingProps.children,Hi(s,a),f=zt(f),c=c(f),s.flags|=1,vt(r,s,c,a),s.child;case 14:return c=s.type,f=nn(c,s.pendingProps),f=nn(c.type,f),wg(r,s,c,f,a);case 15:return Sg(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:nn(c,f),nl(r,s),s.tag=1,Rt(c)?(r=!0,Ua(s)):r=!1,Hi(s,a),fg(s,c,f),ed(s,c,f,a),id(null,s,c,!0,r,a);case 19:return Ng(r,s,a);case 22:return Cg(r,s,a)}throw Error(n(156,s.tag))};function ev(r,s){return Lp(r,s)}function _C(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(r,s,a,c){return new _C(r,s,a,c)}function Id(r){return r=r.prototype,!(!r||!r.isReactComponent)}function EC(r){if(typeof r=="function")return Id(r)?1:0;if(r!=null){if(r=r.$$typeof,r===pt)return 11;if(r===Tt)return 14}return 2}function pr(r,s){var a=r.alternate;return a===null?(a=$t(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function fl(r,s,a,c,f,m){var y=2;if(c=r,typeof r=="function")Id(r)&&(y=1);else if(typeof r=="string")y=5;else e:switch(r){case X:return Jr(a.children,f,m,s);case de:y=8,f|=8;break;case ee:return r=$t(12,a,s,f|2),r.elementType=ee,r.lanes=m,r;case mt:return r=$t(13,a,s,f),r.elementType=mt,r.lanes=m,r;case It:return r=$t(19,a,s,f),r.elementType=It,r.lanes=m,r;case De:return pl(a,f,m,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Se:y=10;break e;case Ct:y=9;break e;case pt:y=11;break e;case Tt:y=14;break e;case ut:y=16,c=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=$t(y,a,s,f),s.elementType=r,s.type=c,s.lanes=m,s}function Jr(r,s,a,c){return r=$t(7,r,c,s),r.lanes=a,r}function pl(r,s,a,c){return r=$t(22,r,c,s),r.elementType=De,r.lanes=a,r.stateNode={isHidden:!1},r}function Td(r,s,a){return r=$t(6,r,null,s),r.lanes=a,r}function xd(r,s,a){return s=$t(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function wC(r,s,a,c,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zu(0),this.expirationTimes=Zu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zu(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Rd(r,s,a,c,f,m,y,E,I){return r=new wC(r,s,a,E,I),s===1?(s=1,m===!0&&(s|=8)):s=0,m=$t(3,null,null,s),r.current=m,m.stateNode=r,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bc(m),r}function SC(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function tv(r){if(!r)return sr;r=r._reactInternals;e:{if(Br(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Rt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(Rt(a))return bm(r,a,s)}return s}function nv(r,s,a,c,f,m,y,E,I){return r=Rd(a,c,!0,r,f,m,y,E,I),r.context=tv(null),a=r.current,c=yt(),f=hr(a),m=Ln(c,f),m.callback=s??null,lr(a,m,f),r.current.lanes=f,Ns(r,f,c),Nt(r,c),r}function ml(r,s,a,c){var f=s.current,m=yt(),y=hr(f);return a=tv(a),s.context===null?s.context=a:s.pendingContext=a,s=Ln(m,y),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=lr(f,s,y),r!==null&&(on(r,f,y,m),Ga(r,f,y)),y}function gl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function rv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Pd(r,s){rv(r,s),(r=r.alternate)&&rv(r,s)}function CC(){return null}var iv=typeof reportError=="function"?reportError:function(r){console.error(r)};function bd(r){this._internalRoot=r}vl.prototype.render=bd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));ml(r,s,null,null)},vl.prototype.unmount=bd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Qr(function(){ml(null,r,null,null)}),s[Pn]=null}};function vl(r){this._internalRoot=r}vl.prototype.unstable_scheduleHydration=function(r){if(r){var s=jp();r={blockedOn:null,target:r,priority:s};for(var a=0;a<er.length&&s!==0&&s<er[a].priority;a++);er.splice(a,0,r),a===0&&Vp(r)}};function Nd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function yl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function sv(){}function IC(r,s,a,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var O=gl(y);m.call(O)}}var y=nv(s,c,r,0,null,!1,!1,"",sv);return r._reactRootContainer=y,r[Pn]=y.current,Vs(r.nodeType===8?r.parentNode:r),Qr(),y}for(;f=r.lastChild;)r.removeChild(f);if(typeof c=="function"){var E=c;c=function(){var O=gl(I);E.call(O)}}var I=Rd(r,0,!1,null,null,!1,!1,"",sv);return r._reactRootContainer=I,r[Pn]=I.current,Vs(r.nodeType===8?r.parentNode:r),Qr(function(){ml(s,I,a,c)}),I}function _l(r,s,a,c,f){var m=a._reactRootContainer;if(m){var y=m;if(typeof f=="function"){var E=f;f=function(){var I=gl(y);E.call(I)}}ml(s,y,r,f)}else y=IC(a,s,r,f,c);return gl(y)}Hp=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=bs(s.pendingLanes);a!==0&&(ec(s,a|1),Nt(s,Ve()),(we&6)===0&&(Vi=Ve()+500,or()))}break;case 13:Qr(function(){var c=An(r,1);if(c!==null){var f=yt();on(c,r,1,f)}}),Pd(r,1)}},tc=function(r){if(r.tag===13){var s=An(r,134217728);if(s!==null){var a=yt();on(s,r,134217728,a)}Pd(r,134217728)}},Bp=function(r){if(r.tag===13){var s=hr(r),a=An(r,s);if(a!==null){var c=yt();on(a,r,s,c)}Pd(r,s)}},jp=function(){return xe},zp=function(r,s){var a=xe;try{return xe=r,s()}finally{xe=a}},qu=function(r,s,a){switch(s){case"input":if(Hu(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var f=Da(c);if(!f)throw Error(n(90));hp(c),Hu(c,f)}}}break;case"textarea":vp(r,a);break;case"select":s=a.value,s!=null&&wi(r,!!a.multiple,s,!1)}},xp=wd,Rp=Qr;var TC={usingClientEntryPoint:!1,Events:[qs,ki,Da,Ip,Tp,wd]},ao={findFiberByHostInstance:jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xC={bundleType:ao.bundleType,version:ao.version,rendererPackageName:ao.rendererPackageName,rendererConfig:ao.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=kp(r),r===null?null:r.stateNode},findFiberByHostInstance:ao.findFiberByHostInstance||CC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var El=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!El.isDisabled&&El.supportsFiber)try{va=El.inject(xC),mn=El}catch{}}return kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TC,kt.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nd(s))throw Error(n(200));return SC(r,s,null,a)},kt.createRoot=function(r,s){if(!Nd(r))throw Error(n(299));var a=!1,c="",f=iv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Rd(r,1,!1,null,null,a,!1,c,f),r[Pn]=s.current,Vs(r.nodeType===8?r.parentNode:r),new bd(s)},kt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=kp(s),r=r===null?null:r.stateNode,r},kt.flushSync=function(r){return Qr(r)},kt.hydrate=function(r,s,a){if(!yl(s))throw Error(n(200));return _l(null,r,s,!0,a)},kt.hydrateRoot=function(r,s,a){if(!Nd(r))throw Error(n(405));var c=a!=null&&a.hydratedSources||null,f=!1,m="",y=iv;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),s=nv(s,null,r,1,a??null,f,!1,m,y),r[Pn]=s.current,Vs(r),c)for(r=0;r<c.length;r++)a=c[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new vl(s)},kt.render=function(r,s,a){if(!yl(s))throw Error(n(200));return _l(null,r,s,!1,a)},kt.unmountComponentAtNode=function(r){if(!yl(r))throw Error(n(40));return r._reactRootContainer?(Qr(function(){_l(null,null,r,!1,function(){r._reactRootContainer=null,r[Pn]=null})}),!0):!1},kt.unstable_batchedUpdates=wd,kt.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!yl(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return _l(r,s,a,!1,c)},kt.version="18.3.1-next-f1338f8080-20240426",kt}var fv;function FC(){if(fv)return Ld.exports;fv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ld.exports=DC(),Ld.exports}var pv;function UC(){if(pv)return wl;pv=1;var t=FC();return wl.createRoot=t.createRoot,wl.hydrateRoot=t.hydrateRoot,wl}var HC=UC(),uo={},mv;function BC(){if(mv)return uo;mv=1,Object.defineProperty(uo,"__esModule",{value:!0}),uo.parse=u,uo.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,w){const C=new l,R=v.length;if(R<2)return C;const A=(w==null?void 0:w.decode)||g;let N=0;do{const M=v.indexOf("=",N);if(M===-1)break;const F=v.indexOf(";",N),z=F===-1?R:F;if(M>z){N=v.lastIndexOf(";",M-1)+1;continue}const L=d(v,N,M),$=h(v,M,L),X=v.slice(L,$);if(C[X]===void 0){let de=d(v,M+1,z),ee=h(v,z,de);const Se=A(v.slice(de,ee));C[X]=Se}N=z+1}while(N<R);return C}function d(v,w,C){do{const R=v.charCodeAt(w);if(R!==32&&R!==9)return w}while(++w<C);return C}function h(v,w,C){for(;w>C;){const R=v.charCodeAt(--w);if(R!==32&&R!==9)return w+1}return C}function p(v,w,C){const R=(C==null?void 0:C.encode)||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const A=R(w);if(!e.test(A))throw new TypeError(`argument val is invalid: ${w}`);let N=v+"="+A;if(!C)return N;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);N+="; Max-Age="+C.maxAge}if(C.domain){if(!n.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);N+="; Domain="+C.domain}if(C.path){if(!i.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);N+="; Path="+C.path}if(C.expires){if(!_(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);N+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(N+="; HttpOnly"),C.secure&&(N+="; Secure"),C.partitioned&&(N+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return N}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return o.call(v)==="[object Date]"}return uo}BC();var gv="popstate";function jC(t={}){function e(i,o){let{pathname:l,search:u,hash:d}=i.location;return hh("",{pathname:l,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Po(o)}return WC(e,n,null,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zC(){return Math.random().toString(36).substring(2,10)}function vv(t,e){return{usr:t.state,key:t.key,idx:e}}function hh(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?us(e):e,state:n,key:e&&e.key||i||zC()}}function Po({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function us(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function WC(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,u=o.history,d="POP",h=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function _(){d="POP";let A=g(),N=A==null?null:A-p;p=A,h&&h({action:d,location:R.location,delta:N})}function v(A,N){d="PUSH";let M=hh(R.location,A,N);p=g()+1;let F=vv(M,p),z=R.createHref(M);try{u.pushState(F,"",z)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign(z)}l&&h&&h({action:d,location:R.location,delta:1})}function w(A,N){d="REPLACE";let M=hh(R.location,A,N);p=g();let F=vv(M,p),z=R.createHref(M);u.replaceState(F,"",z),l&&h&&h({action:d,location:R.location,delta:0})}function C(A){return VC(A)}let R={get action(){return d},get location(){return t(o,u)},listen(A){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(gv,_),h=A,()=>{o.removeEventListener(gv,_),h=null}},createHref(A){return e(o,A)},createURL:C,encodeLocation(A){let N=C(A);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:w,go(A){return u.go(A)}};return R}function VC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ue(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Po(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function m_(t,e,n="/"){return $C(t,e,n,!1)}function $C(t,e,n,i){let o=typeof e=="string"?us(e):e,l=Vn(o.pathname||"/",n);if(l==null)return null;let u=g_(t);GC(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let p=rI(l);d=tI(u[h],p,i)}return d}function g_(t,e=[],n=[],i=""){let o=(l,u,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};h.relativePath.startsWith("/")&&(Ue(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let p=Bn([i,h.relativePath]),g=n.concat(h);l.children&&l.children.length>0&&(Ue(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),g_(l.children,e,g,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:ZC(p,l.index),routesMeta:g})};return t.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,u);else for(let h of v_(l.path))o(l,u,h)}),e}function v_(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let u=v_(i.join("/")),d=[];return d.push(...u.map(h=>h===""?l:[l,h].join("/"))),o&&d.push(...u),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function GC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eI(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var qC=/^:[\w-]+$/,KC=3,QC=2,YC=1,XC=10,JC=-2,yv=t=>t==="*";function ZC(t,e){let n=t.split("/"),i=n.length;return n.some(yv)&&(i+=JC),e&&(i+=QC),n.filter(o=>!yv(o)).reduce((o,l)=>o+(qC.test(l)?KC:l===""?YC:XC),i)}function eI(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function tI(t,e,n=!1){let{routesMeta:i}=t,o={},l="/",u=[];for(let d=0;d<i.length;++d){let h=i[d],p=d===i.length-1,g=l==="/"?e:e.slice(l.length)||"/",_=Hl({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),v=h.route;if(!_&&p&&n&&!i[i.length-1].route.index&&(_=Hl({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!_)return null;Object.assign(o,_.params),u.push({params:o,pathname:Bn([l,_.pathname]),pathnameBase:aI(Bn([l,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(l=Bn([l,_.pathnameBase]))}return u}function Hl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=nI(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((p,{paramName:g,isOptional:_},v)=>{if(g==="*"){let C=d[v]||"";u=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const w=d[v];return _&&!w?p[g]=void 0:p[g]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function nI(t,e=!1,n=!0){hn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(i.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function rI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Vn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function iI(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?us(t):t;return{pathname:n?n.startsWith("/")?n:sI(n,e):e,search:lI(i),hash:uI(o)}}function sI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Dd(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ef(t){let e=oI(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function tf(t,e,n,i=!1){let o;typeof t=="string"?o=us(t):(o={...t},Ue(!o.pathname||!o.pathname.includes("?"),Dd("?","pathname","search",o)),Ue(!o.pathname||!o.pathname.includes("#"),Dd("#","pathname","hash",o)),Ue(!o.search||!o.search.includes("#"),Dd("#","search","hash",o)));let l=t===""||o.pathname==="",u=l?"/":o.pathname,d;if(u==null)d=n;else{let _=e.length-1;if(!i&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),_-=1;o.pathname=v.join("/")}d=_>=0?e[_]:"/"}let h=iI(o,d),p=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var Bn=t=>t.join("/").replace(/\/\/+/g,"/"),aI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var y_=["POST","PUT","PATCH","DELETE"];new Set(y_);var dI=["GET",...y_];new Set(dI);var cs=P.createContext(null);cs.displayName="DataRouter";var mu=P.createContext(null);mu.displayName="DataRouterState";var __=P.createContext({isTransitioning:!1});__.displayName="ViewTransition";var hI=P.createContext(new Map);hI.displayName="Fetchers";var fI=P.createContext(null);fI.displayName="Await";var pn=P.createContext(null);pn.displayName="Navigation";var Go=P.createContext(null);Go.displayName="Location";var xn=P.createContext({outlet:null,matches:[],isDataRoute:!1});xn.displayName="Route";var nf=P.createContext(null);nf.displayName="RouteError";function pI(t,{relative:e}={}){Ue(ds(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=P.useContext(pn),{hash:o,pathname:l,search:u}=Ko(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Bn([n,l])),i.createHref({pathname:d,search:u,hash:o})}function ds(){return P.useContext(Go)!=null}function Mr(){return Ue(ds(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Go).location}var E_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function w_(t){P.useContext(pn).static||P.useLayoutEffect(t)}function qo(){let{isDataRoute:t}=P.useContext(xn);return t?RI():mI()}function mI(){Ue(ds(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(cs),{basename:e,navigator:n}=P.useContext(pn),{matches:i}=P.useContext(xn),{pathname:o}=Mr(),l=JSON.stringify(ef(i)),u=P.useRef(!1);return w_(()=>{u.current=!0}),P.useCallback((h,p={})=>{if(hn(u.current,E_),!u.current)return;if(typeof h=="number"){n.go(h);return}let g=tf(h,JSON.parse(l),o,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Bn([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,l,o,t])}P.createContext(null);function Ko(t,{relative:e}={}){let{matches:n}=P.useContext(xn),{pathname:i}=Mr(),o=JSON.stringify(ef(n));return P.useMemo(()=>tf(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function gI(t,e){return S_(t,e)}function S_(t,e,n,i){var N;Ue(ds(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=P.useContext(pn),{matches:l}=P.useContext(xn),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let M=g&&g.path||"";C_(h,!g||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let _=Mr(),v;if(e){let M=typeof e=="string"?us(e):e;Ue(p==="/"||((N=M.pathname)==null?void 0:N.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${M.pathname}" was given in the \`location\` prop.`),v=M}else v=_;let w=v.pathname||"/",C=w;if(p!=="/"){let M=p.replace(/^\//,"").split("/");C="/"+w.replace(/^\//,"").split("/").slice(M.length).join("/")}let R=m_(t,{pathname:C});hn(g||R!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),hn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=wI(R&&R.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Bn([p,o.encodeLocation?o.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?p:Bn([p,o.encodeLocation?o.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,n,i);return e&&A?P.createElement(Go.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},A):A}function vI(){let t=xI(),e=cI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:l},"ErrorBoundary")," or"," ",P.createElement("code",{style:l},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,u)}var yI=P.createElement(vI,null),_I=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?P.createElement(xn.Provider,{value:this.props.routeContext},P.createElement(nf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function EI({routeContext:t,match:e,children:n}){let i=P.useContext(cs);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(xn.Provider,{value:t},n)}function wI(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n==null?void 0:n.errors;if(l!=null){let h=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Ue(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,d=-1;if(n)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:g,errors:_}=n,v=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||v){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,p,g)=>{let _,v=!1,w=null,C=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||yI,u&&(d<0&&g===0?(C_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,C=null):d===g&&(v=!0,C=p.route.hydrateFallbackElement||null)));let R=e.concat(o.slice(0,g+1)),A=()=>{let N;return _?N=w:v?N=C:p.route.Component?N=P.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=h,P.createElement(EI,{match:p,routeContext:{outlet:h,matches:R,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?P.createElement(_I,{location:n.location,revalidation:n.revalidation,component:w,error:_,children:A(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):A()},null)}function rf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SI(t){let e=P.useContext(cs);return Ue(e,rf(t)),e}function CI(t){let e=P.useContext(mu);return Ue(e,rf(t)),e}function II(t){let e=P.useContext(xn);return Ue(e,rf(t)),e}function sf(t){let e=II(t),n=e.matches[e.matches.length-1];return Ue(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function TI(){return sf("useRouteId")}function xI(){var i;let t=P.useContext(nf),e=CI("useRouteError"),n=sf("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function RI(){let{router:t}=SI("useNavigate"),e=sf("useNavigate"),n=P.useRef(!1);return w_(()=>{n.current=!0}),P.useCallback(async(o,l={})=>{hn(n.current,E_),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var _v={};function C_(t,e,n){!e&&!_v[t]&&(_v[t]=!0,hn(!1,n))}P.memo(PI);function PI({routes:t,future:e,state:n}){return S_(t,void 0,n,e)}function I_({to:t,replace:e,state:n,relative:i}){Ue(ds(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(pn);hn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=P.useContext(xn),{pathname:u}=Mr(),d=qo(),h=tf(t,ef(l),u,i==="path"),p=JSON.stringify(h);return P.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:i})},[d,p,i,e,n]),null}function vr(t){Ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bI({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:l=!1}){Ue(!ds(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof n=="string"&&(n=us(n));let{pathname:h="/",search:p="",hash:g="",state:_=null,key:v="default"}=n,w=P.useMemo(()=>{let C=Vn(h,u);return C==null?null:{location:{pathname:C,search:p,hash:g,state:_,key:v},navigationType:i}},[u,h,p,g,_,v,i]);return hn(w!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:P.createElement(pn.Provider,{value:d},P.createElement(Go.Provider,{children:e,value:w}))}function NI({children:t,location:e}){return gI(fh(t),e)}function fh(t,e=[]){let n=[];return P.Children.forEach(t,(i,o)=>{if(!P.isValidElement(i))return;let l=[...e,o];if(i.type===P.Fragment){n.push.apply(n,fh(i.props.children,l));return}Ue(i.type===vr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ue(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=fh(i.props.children,l)),n.push(u)}),n}var Nl="get",kl="application/x-www-form-urlencoded";function gu(t){return t!=null&&typeof t.tagName=="string"}function kI(t){return gu(t)&&t.tagName.toLowerCase()==="button"}function AI(t){return gu(t)&&t.tagName.toLowerCase()==="form"}function LI(t){return gu(t)&&t.tagName.toLowerCase()==="input"}function OI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MI(t,e){return t.button===0&&(!e||e==="_self")&&!OI(t)}var Sl=null;function DI(){if(Sl===null)try{new FormData(document.createElement("form"),0),Sl=!1}catch{Sl=!0}return Sl}var FI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fd(t){return t!=null&&!FI.has(t)?(hn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kl}"`),null):t}function UI(t,e){let n,i,o,l,u;if(AI(t)){let d=t.getAttribute("action");i=d?Vn(d,e):null,n=t.getAttribute("method")||Nl,o=Fd(t.getAttribute("enctype"))||kl,l=new FormData(t)}else if(kI(t)||LI(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(i=h?Vn(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Nl,o=Fd(t.getAttribute("formenctype"))||Fd(d.getAttribute("enctype"))||kl,l=new FormData(d,t),!DI()){let{name:p,type:g,value:_}=t;if(g==="image"){let v=p?`${p}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else p&&l.append(p,_)}}else{if(gu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nl,i=null,o=kl,u=t}return l&&o==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:l,body:u}}function of(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function HI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function jI(t,e,n){let i=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await HI(l,n);return u.links?u.links():[]}return[]}));return $I(i.flat(1).filter(BI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ev(t,e,n,i,o,l){let u=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,d=(h,p)=>{var g;return n[p].pathname!==h.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,p)=>u(h,p)||d(h,p)):l==="data"?e.filter((h,p)=>{var _;let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(u(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function zI(t,e,{includeHydrateFallback:n}={}){return WI(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function WI(t){return[...new Set(t)]}function VI(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function $I(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let l=JSON.stringify(VI(o));return n.has(l)||(n.add(l),i.push({key:l,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var GI=new Set([100,101,204,205]);function qI(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Vn(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function T_(){let t=P.useContext(cs);return of(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function KI(){let t=P.useContext(mu);return of(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var af=P.createContext(void 0);af.displayName="FrameworkContext";function x_(){let t=P.useContext(af);return of(t,"You must render this element inside a <HydratedRouter> element"),t}function QI(t,e){let n=P.useContext(af),[i,o]=P.useState(!1),[l,u]=P.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,v=P.useRef(null);P.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let R=N=>{N.forEach(M=>{u(M.isIntersecting)})},A=new IntersectionObserver(R,{threshold:.5});return v.current&&A.observe(v.current),()=>{A.disconnect()}}},[t]),P.useEffect(()=>{if(i){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[i]);let w=()=>{o(!0)},C=()=>{o(!1),u(!1)};return n?t!=="intent"?[l,v,{}]:[l,v,{onFocus:co(d,w),onBlur:co(h,C),onMouseEnter:co(p,w),onMouseLeave:co(g,C),onTouchStart:co(_,w)}]:[!1,v,{}]}function co(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function YI({page:t,...e}){let{router:n}=T_(),i=P.useMemo(()=>m_(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?P.createElement(JI,{page:t,matches:i,...e}):null}function XI(t){let{manifest:e,routeModules:n}=x_(),[i,o]=P.useState([]);return P.useEffect(()=>{let l=!1;return jI(t,e,n).then(u=>{l||o(u)}),()=>{l=!0}},[t,e,n]),i}function JI({page:t,matches:e,...n}){let i=Mr(),{manifest:o,routeModules:l}=x_(),{basename:u}=T_(),{loaderData:d,matches:h}=KI(),p=P.useMemo(()=>Ev(t,e,h,o,i,"data"),[t,e,h,o,i]),g=P.useMemo(()=>Ev(t,e,h,o,i,"assets"),[t,e,h,o,i]),_=P.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let C=new Set,R=!1;if(e.forEach(N=>{var F;let M=o.routes[N.route.id];!M||!M.hasLoader||(!p.some(z=>z.route.id===N.route.id)&&N.route.id in d&&((F=l[N.route.id])!=null&&F.shouldRevalidate)||M.hasClientLoader?R=!0:C.add(N.route.id))}),C.size===0)return[];let A=qI(t,u);return R&&C.size>0&&A.searchParams.set("_routes",e.filter(N=>C.has(N.route.id)).map(N=>N.route.id).join(",")),[A.pathname+A.search]},[u,d,i,o,p,e,t,l]),v=P.useMemo(()=>zI(g,o),[g,o]),w=XI(g);return P.createElement(P.Fragment,null,_.map(C=>P.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),v.map(C=>P.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),w.map(({key:C,link:R})=>P.createElement("link",{key:C,...R})))}function ZI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var R_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{R_&&(window.__reactRouterVersion="7.6.1")}catch{}function eT({basename:t,children:e,window:n}){let i=P.useRef();i.current==null&&(i.current=jC({window:n,v5Compat:!0}));let o=i.current,[l,u]=P.useState({action:o.action,location:o.location}),d=P.useCallback(h=>{P.startTransition(()=>u(h))},[u]);return P.useLayoutEffect(()=>o.listen(d),[o,d]),P.createElement(bI,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o})}var P_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ri=P.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:l,replace:u,state:d,target:h,to:p,preventScrollReset:g,viewTransition:_,...v},w){let{basename:C}=P.useContext(pn),R=typeof p=="string"&&P_.test(p),A,N=!1;if(typeof p=="string"&&R&&(A=p,R_))try{let ee=new URL(window.location.href),Se=p.startsWith("//")?new URL(ee.protocol+p):new URL(p),Ct=Vn(Se.pathname,C);Se.origin===ee.origin&&Ct!=null?p=Ct+Se.search+Se.hash:N=!0}catch{hn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=pI(p,{relative:o}),[F,z,L]=QI(i,v),$=iT(p,{replace:u,state:d,target:h,preventScrollReset:g,relative:o,viewTransition:_});function X(ee){e&&e(ee),ee.defaultPrevented||$(ee)}let de=P.createElement("a",{...v,...L,href:A||M,onClick:N||l?e:X,ref:ZI(w,z),target:h,"data-discover":!R&&n==="render"?"true":void 0});return F&&!R?P.createElement(P.Fragment,null,de,P.createElement(YI,{page:M})):de});ri.displayName="Link";var tT=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:l,to:u,viewTransition:d,children:h,...p},g){let _=Ko(u,{relative:p.relative}),v=Mr(),w=P.useContext(mu),{navigator:C,basename:R}=P.useContext(pn),A=w!=null&&uT(_)&&d===!0,N=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,M=v.pathname,F=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(M=M.toLowerCase(),F=F?F.toLowerCase():null,N=N.toLowerCase()),F&&R&&(F=Vn(F,R)||F);const z=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let L=M===N||!o&&M.startsWith(N)&&M.charAt(z)==="/",$=F!=null&&(F===N||!o&&F.startsWith(N)&&F.charAt(N.length)==="/"),X={isActive:L,isPending:$,isTransitioning:A},de=L?e:void 0,ee;typeof i=="function"?ee=i(X):ee=[i,L?"active":null,$?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let Se=typeof l=="function"?l(X):l;return P.createElement(ri,{...p,"aria-current":de,className:ee,ref:g,style:Se,to:u,viewTransition:d},typeof h=="function"?h(X):h)});tT.displayName="NavLink";var nT=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:l,method:u=Nl,action:d,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:_,...v},w)=>{let C=aT(),R=lT(d,{relative:p}),A=u.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&P_.test(d),M=F=>{if(h&&h(F),F.defaultPrevented)return;F.preventDefault();let z=F.nativeEvent.submitter,L=(z==null?void 0:z.getAttribute("formmethod"))||u;C(z||F.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:o,state:l,relative:p,preventScrollReset:g,viewTransition:_})};return P.createElement("form",{ref:w,method:A,action:R,onSubmit:i?h:M,...v,"data-discover":!N&&t==="render"?"true":void 0})});nT.displayName="Form";function rT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b_(t){let e=P.useContext(cs);return Ue(e,rT(t)),e}function iT(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:l,viewTransition:u}={}){let d=qo(),h=Mr(),p=Ko(t,{relative:l});return P.useCallback(g=>{if(MI(g,e)){g.preventDefault();let _=n!==void 0?n:Po(h)===Po(p);d(t,{replace:_,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[h,d,p,n,i,e,t,o,l,u])}var sT=0,oT=()=>`__${String(++sT)}__`;function aT(){let{router:t}=b_("useSubmit"),{basename:e}=P.useContext(pn),n=TI();return P.useCallback(async(i,o={})=>{let{action:l,method:u,encType:d,formData:h,body:p}=UI(i,e);if(o.navigate===!1){let g=o.fetcherKey||oT();await t.fetch(g,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function lT(t,{relative:e}={}){let{basename:n}=P.useContext(pn),i=P.useContext(xn);Ue(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Ko(t||".",{relative:e})},u=Mr();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(_=>_).forEach(_=>d.append("index",_));let g=d.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Bn([n,l.pathname])),Po(l)}function uT(t,e={}){let n=P.useContext(__);Ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=b_("useViewTransitionState"),o=Ko(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Vn(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Vn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Hl(o.pathname,u)!=null||Hl(o.pathname,l)!=null}[...GI];var Ir=(t=>(t.ADMIN="ADMIN",t.USER="USER",t))(Ir||{});const cT=()=>{};var wv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V=function(t,e){if(!t)throw hs(e)},hs=function(t){return new Error("Firebase Database ("+N_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},dT=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],u=t[n++],d=t[n++],h=((o&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},lf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const l=t[o],u=o+1<t.length,d=u?t[o+1]:0,h=o+2<t.length,p=h?t[o+2]:0,g=l>>2,_=(l&3)<<4|d>>4;let v=(d&15)<<2|p>>6,w=p&63;h||(w=64,u||(v=64)),i.push(n[g],n[_],n[v],n[w])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(k_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const _=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||d==null||p==null||_==null)throw new hT;const v=l<<2|d>>4;if(i.push(v),p!==64){const w=d<<4&240|p>>2;if(i.push(w),_!==64){const C=p<<6&192|_;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A_=function(t){const e=k_(t);return lf.encodeByteArray(e,!0)},Bl=function(t){return A_(t).replace(/\./g,"")},jl=function(t){try{return lf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(t){return L_(void 0,t)}function L_(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!pT(n)||(t[n]=L_(t[n],e[n]));return t}function pT(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=()=>mT().__FIREBASE_DEFAULTS__,vT=()=>{if(typeof process>"u"||typeof wv>"u")return;const t=wv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jl(t[1]);return e&&JSON.parse(e)},uf=()=>{try{return cT()||gT()||vT()||yT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},O_=t=>{var e,n;return(n=(e=uf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_T=t=>{const e=O_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},M_=()=>{var t;return(t=uf())===null||t===void 0?void 0:t.config},D_=t=>{var e;return(e=uf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(t){return t.endsWith(".cloudworkstations.dev")}async function F_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Bl(JSON.stringify(n)),Bl(JSON.stringify(u)),""].join(".")}const Eo={};function wT(){const t={prod:[],emulator:[]};for(const e of Object.keys(Eo))Eo[e]?t.emulator.push(e):t.prod.push(e);return t}function ST(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Sv=!1;function U_(t,e){if(typeof window>"u"||typeof document>"u"||!Yo(window.location.host)||Eo[t]===e||Eo[t]||Sv)return;Eo[t]=e;function n(v){return`__firebase__banner__${v}`}const i="__firebase__banner",l=wT().prod.length>0;function u(){const v=document.getElementById(i);v&&v.remove()}function d(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,w){v.setAttribute("width","24"),v.setAttribute("id",w),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function p(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Sv=!0,u()},v}function g(v,w){v.setAttribute("id",w),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=ST(i),w=n("text"),C=document.getElementById(w)||document.createElement("span"),R=n("learnmore"),A=document.getElementById(R)||document.createElement("a"),N=n("preprendIcon"),M=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const F=v.element;d(F),g(A,R);const z=p();h(M,N),F.append(M,C,A,z),document.body.appendChild(F)}l?(C.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cf(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function CT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function H_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TT(){const t=St();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xT(){return N_.NODE_ADMIN===!0}function RT(){try{return typeof indexedDB=="object"}catch{return!1}}function PT(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="FirebaseError";class Dr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=bT,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xo.prototype.create)}}class Xo{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?NT(l,i):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new Dr(o,d,i)}}function NT(t,e){return t.replace(kT,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const kT=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t){return JSON.parse(t)}function Xe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=function(t){let e={},n={},i={},o="";try{const l=t.split(".");e=bo(jl(l[0])||""),n=bo(jl(l[1])||""),o=l[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:o}},AT=function(t){const e=B_(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},LT=function(t){const e=B_(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function es(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ph(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zl(t,e,n){const i={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=e.call(n,t[o],o,t));return i}function ai(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const l=t[o],u=e[o];if(Cv(l)&&Cv(u)){if(!ai(l,u))return!1}else if(l!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function Cv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function vo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function yo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)i[_]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let _=0;_<16;_++)i[_]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let _=16;_<80;_++){const v=i[_-3]^i[_-8]^i[_-14]^i[_-16];i[_]=(v<<1|v>>>31)&4294967295}let o=this.chain_[0],l=this.chain_[1],u=this.chain_[2],d=this.chain_[3],h=this.chain_[4],p,g;for(let _=0;_<80;_++){_<40?_<20?(p=d^l&(u^d),g=1518500249):(p=l^u^d,g=1859775393):_<60?(p=l&u|d&(l|u),g=2400959708):(p=l^u^d,g=3395469782);const v=(o<<5|o>>>27)+p+h+g+i[_]&4294967295;h=d,d=u,u=(l<<30|l>>>2)&4294967295,l=o,o=v}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let o=0;const l=this.buf_;let u=this.inbuf_;for(;o<n;){if(u===0)for(;o<=i;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(l[u]=e.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(l),u=0;break}}else for(;o<n;)if(l[u]=e[o],++u,++o,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let o=0;o<5;o++)for(let l=24;l>=0;l-=8)e[i]=this.chain_[o]>>l&255,++i;return e}}function MT(t,e){const n=new DT(t,e);return n.subscribe.bind(n)}class DT{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");FT(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Ud),o.error===void 0&&(o.error=Ud),o.complete===void 0&&(o.complete=Ud);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FT(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ud(){}function vu(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);if(o>=55296&&o<=56319){const l=o-55296;i++,V(i<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(i)-56320;o=65536+(l<<10)+u}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},yu=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class li{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HT=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Qo;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jT(e))try{this.getOrInitializeService({instanceIdentifier:ei})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=ei){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ei){return this.instances.has(e)}getOptions(e=ei){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&u.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const u=this.instances.get(o);return u&&e(u,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:BT(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ei){return this.component?this.component.multipleInstances?e:ei:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function BT(t){return t===ei?void 0:t}function jT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const WT={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},VT=Pe.INFO,$T={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},GT=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=$T[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let df=class{constructor(e){this.name=e,this._logLevel=VT,this._logHandler=GT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}};const qT=(t,e)=>e.some(n=>t instanceof n);let Iv,Tv;function KT(){return Iv||(Iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QT(){return Tv||(Tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j_=new WeakMap,mh=new WeakMap,z_=new WeakMap,Hd=new WeakMap,hf=new WeakMap;function YT(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Tr(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&j_.set(n,t)}).catch(()=>{}),hf.set(e,t),e}function XT(t){if(mh.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});mh.set(t,e)}let gh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||z_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JT(t){gh=t(gh)}function ZT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Bd(this),e,...n);return z_.set(i,e.sort?e.sort():[e]),Tr(i)}:QT().includes(t)?function(...e){return t.apply(Bd(this),e),Tr(j_.get(this))}:function(...e){return Tr(t.apply(Bd(this),e))}}function ex(t){return typeof t=="function"?ZT(t):(t instanceof IDBTransaction&&XT(t),qT(t,KT())?new Proxy(t,gh):t)}function Tr(t){if(t instanceof IDBRequest)return YT(t);if(Hd.has(t))return Hd.get(t);const e=ex(t);return e!==t&&(Hd.set(t,e),hf.set(e,t)),e}const Bd=t=>hf.get(t);function tx(t,e,{blocked:n,upgrade:i,blocking:o,terminated:l}={}){const u=indexedDB.open(t,e),d=Tr(u);return i&&u.addEventListener("upgradeneeded",h=>{i(Tr(u.result),h.oldVersion,h.newVersion,Tr(u.transaction),h)}),n&&u.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{l&&h.addEventListener("close",()=>l()),o&&h.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const nx=["get","getKey","getAll","getAllKeys","count"],rx=["put","add","delete","clear"],jd=new Map;function xv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jd.get(e))return jd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=rx.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||nx.includes(n)))return;const l=async function(u,...d){const h=this.transaction(u,o?"readwrite":"readonly");let p=h.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),o&&h.done]))[0]};return jd.set(e,l),l}JT(t=>({...t,get:(e,n,i)=>xv(e,n)||t.get(e,n,i),has:(e,n)=>!!xv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sx(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function sx(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vh="@firebase/app",Rv="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new df("@firebase/app"),ox="@firebase/app-compat",ax="@firebase/analytics-compat",lx="@firebase/analytics",ux="@firebase/app-check-compat",cx="@firebase/app-check",dx="@firebase/auth",hx="@firebase/auth-compat",fx="@firebase/database",px="@firebase/data-connect",mx="@firebase/database-compat",gx="@firebase/functions",vx="@firebase/functions-compat",yx="@firebase/installations",_x="@firebase/installations-compat",Ex="@firebase/messaging",wx="@firebase/messaging-compat",Sx="@firebase/performance",Cx="@firebase/performance-compat",Ix="@firebase/remote-config",Tx="@firebase/remote-config-compat",xx="@firebase/storage",Rx="@firebase/storage-compat",Px="@firebase/firestore",bx="@firebase/ai",Nx="@firebase/firestore-compat",kx="firebase",Ax="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh="[DEFAULT]",Lx={[vh]:"fire-core",[ox]:"fire-core-compat",[lx]:"fire-analytics",[ax]:"fire-analytics-compat",[cx]:"fire-app-check",[ux]:"fire-app-check-compat",[dx]:"fire-auth",[hx]:"fire-auth-compat",[fx]:"fire-rtdb",[px]:"fire-data-connect",[mx]:"fire-rtdb-compat",[gx]:"fire-fn",[vx]:"fire-fn-compat",[yx]:"fire-iid",[_x]:"fire-iid-compat",[Ex]:"fire-fcm",[wx]:"fire-fcm-compat",[Sx]:"fire-perf",[Cx]:"fire-perf-compat",[Ix]:"fire-rc",[Tx]:"fire-rc-compat",[xx]:"fire-gcs",[Rx]:"fire-gcs-compat",[Px]:"fire-fst",[Nx]:"fire-fst-compat",[bx]:"fire-vertex","fire-js":"fire-js",[kx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new Map,Ox=new Map,_h=new Map;function Pv(t,e){try{t.container.addComponent(e)}catch(n){$n.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ts(t){const e=t.name;if(_h.has(e))return $n.debug(`There were multiple attempts to register component ${e}.`),!1;_h.set(e,t);for(const n of No.values())Pv(n,t);for(const n of Ox.values())Pv(n,t);return!0}function ff(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xr=new Xo("app","Firebase",Mx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=Ax;function W_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:yh,automaticDataCollectionEnabled:!0},e),o=i.name;if(typeof o!="string"||!o)throw xr.create("bad-app-name",{appName:String(o)});if(n||(n=M_()),!n)throw xr.create("no-options");const l=No.get(o);if(l){if(ai(n,l.options)&&ai(i,l.config))return l;throw xr.create("duplicate-app",{appName:o})}const u=new zT(o);for(const h of _h.values())u.addComponent(h);const d=new Dx(n,i,u);return No.set(o,d),d}function V_(t=yh){const e=No.get(t);if(!e&&t===yh&&M_())return W_();if(!e)throw xr.create("no-app",{appName:t});return e}function bv(){return Array.from(No.values())}function Rr(t,e,n){var i;let o=(i=Lx[t])!==null&&i!==void 0?i:t;n&&(o+=`-${n}`);const l=o.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$n.warn(d.join(" "));return}ts(new li(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="firebase-heartbeat-database",Ux=1,ko="firebase-heartbeat-store";let zd=null;function $_(){return zd||(zd=tx(Fx,Ux,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ko)}catch(n){console.warn(n)}}}}).catch(t=>{throw xr.create("idb-open",{originalErrorMessage:t.message})})),zd}async function Hx(t){try{const n=(await $_()).transaction(ko),i=await n.objectStore(ko).get(G_(t));return await n.done,i}catch(e){if(e instanceof Dr)$n.warn(e.message);else{const n=xr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$n.warn(n.message)}}}async function Nv(t,e){try{const i=(await $_()).transaction(ko,"readwrite");await i.objectStore(ko).put(e,G_(t)),await i.done}catch(n){if(n instanceof Dr)$n.warn(n.message);else{const i=xr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$n.warn(i.message)}}}function G_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=1024,jx=30;class zx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Vx(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=kv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>jx){const u=$x(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){$n.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kv(),{heartbeatsToSend:i,unsentEntries:o}=Wx(this._heartbeatsCache.heartbeats),l=Bl(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return $n.warn(n),""}}}function kv(){return new Date().toISOString().substring(0,10)}function Wx(t,e=Bx){const n=[];let i=t.slice();for(const o of t){const l=n.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),Av(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Av(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Vx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RT()?PT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Hx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Nv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Nv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Av(t){return Bl(JSON.stringify({version:2,heartbeats:t})).length}function $x(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(t){ts(new li("platform-logger",e=>new ix(e),"PRIVATE")),ts(new li("heartbeat",e=>new zx(e),"PRIVATE")),Rr(vh,Rv,t),Rr(vh,Rv,"esm2017"),Rr("fire-js","")}Gx("");var Eh=function(t,e){return Eh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},Eh(t,e)};function Xt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Eh(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var J=function(){return J=Object.assign||function(e){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},J.apply(this,arguments)};function Gn(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function Sn(t,e,n){if(n||arguments.length===2)for(var i=0,o=e.length,l;i<o;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return t.concat(l||Array.prototype.slice.call(e))}function q_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qx=q_,K_=new Xo("auth","Firebase",q_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=new df("@firebase/auth");function Kx(t,...e){Wl.logLevel<=Pe.WARN&&Wl.warn(`Auth (${ps}): ${t}`,...e)}function Al(t,...e){Wl.logLevel<=Pe.ERROR&&Wl.error(`Auth (${ps}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t,...e){throw pf(t,...e)}function Cn(t,...e){return pf(t,...e)}function Q_(t,e,n){const i=Object.assign(Object.assign({},qx()),{[e]:n});return new Xo("auth","Firebase",i).create(e,{appName:t.name})}function jn(t){return Q_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pf(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return K_.create(t,...e)}function oe(t,e,...n){if(!t)throw pf(e,...n)}function Fn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Al(e),new Error(e)}function qn(t,e){t||Fn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Qx(){return Lv()==="http:"||Lv()==="https:"}function Lv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Qx()||IT()||"connection"in navigator)?navigator.onLine:!0}function Xx(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n){this.shortDelay=e,this.longDelay=n,qn(n>e,"Short delay should be less than long delay!"),this.isMobile=cf()||H_()}get(){return Yx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t,e){qn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],e1=new Jo(3e4,6e4);function Fr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ur(t,e,n,i,o={}){return X_(t,o,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const d=fs(Object.assign({key:t.config.apiKey},u)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:h},l);return CT()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Yo(t.emulatorConfig.host)&&(p.credentials="include"),Y_.fetch()(await J_(t,t.config.apiHost,n,d),p)})}async function X_(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},Jx),e);try{const o=new n1(t),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Cl(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[h,p]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cl(t,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw Cl(t,"email-already-in-use",u);if(h==="USER_DISABLED")throw Cl(t,"user-disabled",u);const g=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Q_(t,g,p);fn(t,g)}}catch(o){if(o instanceof Dr)throw o;fn(t,"network-request-failed",{message:String(o)})}}async function Zo(t,e,n,i,o={}){const l=await Ur(t,e,n,i,o);return"mfaPendingCredential"in l&&fn(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function J_(t,e,n,i){const o=`${e}${n}?${i}`,l=t,u=l.config.emulator?mf(t.config,o):`${t.config.apiScheme}://${o}`;return Zx.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function t1(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class n1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Cn(this.auth,"network-request-failed")),e1.get())})}}function Cl(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=Cn(t,e,i);return o.customData._tokenResponse=n,o}function Ov(t){return t!==void 0&&t.enterprise!==void 0}class r1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return t1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function i1(t,e){return Ur(t,"GET","/v2/recaptchaConfig",Fr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(t,e){return Ur(t,"POST","/v1/accounts:delete",e)}async function Vl(t,e){return Ur(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function o1(t,e=!1){const n=lt(t),i=await n.getIdToken(e),o=gf(i);oe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:wo(Wd(o.auth_time)),issuedAtTime:wo(Wd(o.iat)),expirationTime:wo(Wd(o.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Wd(t){return Number(t)*1e3}function gf(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Al("JWT malformed, contained fewer than 3 sections"),null;try{const o=jl(n);return o?JSON.parse(o):(Al("Failed to decode base64 JWT payload"),null)}catch(o){return Al("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Mv(t){const e=gf(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Dr&&a1(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function a1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wo(this.lastLoginAt),this.creationTime=wo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(t){var e;const n=t.auth,i=await t.getIdToken(),o=await Ao(t,Vl(n,{idToken:i}));oe(o==null?void 0:o.users.length,n,"internal-error");const l=o.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Z_(l.providerUserInfo):[],d=c1(t.providerData,u),h=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(d!=null&&d.length),g=h?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Sh(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function u1(t){const e=lt(t);await $l(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function c1(t,e){return[...t.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Z_(t){return t.map(e=>{var{providerId:n}=e,i=Gn(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d1(t,e){const n=await X_(t,{},async()=>{const i=fs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=t.config,u=await J_(t,o,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Y_.fetch()(u,{method:"POST",headers:d,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function h1(t,e){return Ur(t,"POST","/v2/accounts:revokeToken",Fr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=Mv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:l}=await d1(e,n);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:l}=n,u=new Yi;return i&&(oe(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(oe(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(oe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yi,this.toJSON())}_performRefresh(){return Fn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class un{constructor(e){var{uid:n,auth:i,stsTokenManager:o}=e,l=Gn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new l1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Sh(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Ao(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return o1(this,e)}reload(){return u1(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new un(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await $l(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gt(this.auth.app))return Promise.reject(jn(this.auth));const e=await this.getIdToken();return await Ao(this,s1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,o,l,u,d,h,p,g;const _=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(o=n.email)!==null&&o!==void 0?o:void 0,w=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,C=(u=n.photoURL)!==null&&u!==void 0?u:void 0,R=(d=n.tenantId)!==null&&d!==void 0?d:void 0,A=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,N=(p=n.createdAt)!==null&&p!==void 0?p:void 0,M=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:F,emailVerified:z,isAnonymous:L,providerData:$,stsTokenManager:X}=n;oe(F&&X,e,"internal-error");const de=Yi.fromJSON(this.name,X);oe(typeof F=="string",e,"internal-error"),gr(_,e.name),gr(v,e.name),oe(typeof z=="boolean",e,"internal-error"),oe(typeof L=="boolean",e,"internal-error"),gr(w,e.name),gr(C,e.name),gr(R,e.name),gr(A,e.name),gr(N,e.name),gr(M,e.name);const ee=new un({uid:F,auth:e,email:v,emailVerified:z,displayName:_,isAnonymous:L,photoURL:C,phoneNumber:w,tenantId:R,stsTokenManager:de,createdAt:N,lastLoginAt:M});return $&&Array.isArray($)&&(ee.providerData=$.map(Se=>Object.assign({},Se))),A&&(ee._redirectEventId=A),ee}static async _fromIdTokenResponse(e,n,i=!1){const o=new Yi;o.updateFromServerResponse(n);const l=new un({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await $l(l),l}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];oe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Z_(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new Yi;d.updateFromIdToken(i);const h=new un({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Sh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=new Map;function Un(t){qn(t instanceof Function,"Expected a class definition");let e=Dv.get(t);return e?(qn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Dv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}e0.type="NONE";const Fv=e0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t,e,n){return`firebase:${t}:${e}:${n}`}class Xi{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Ll(this.userKey,o.apiKey,l),this.fullPersistenceKey=Ll("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vl(this.auth,{idToken:e}).catch(()=>{});return n?un._fromGetAccountInfoResponse(this.auth,n,e):null}return un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Xi(Un(Fv),e,i);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=o[0]||Un(Fv);const u=Ll(i,e.config.apiKey,e.name);let d=null;for(const p of n)try{const g=await p._get(u);if(g){let _;if(typeof g=="string"){const v=await Vl(e,{idToken:g}).catch(()=>{});if(!v)break;_=await un._fromGetAccountInfoResponse(e,v,g)}else _=un._fromJSON(e,g);p!==l&&(d=_),l=p;break}}catch{}const h=o.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new Xi(l,e,i):(l=h[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Xi(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(i0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(t0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(o0(e))return"Blackberry";if(a0(e))return"Webos";if(n0(e))return"Safari";if((e.includes("chrome/")||r0(e))&&!e.includes("edge/"))return"Chrome";if(s0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function t0(t=St()){return/firefox\//i.test(t)}function n0(t=St()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function r0(t=St()){return/crios\//i.test(t)}function i0(t=St()){return/iemobile/i.test(t)}function s0(t=St()){return/android/i.test(t)}function o0(t=St()){return/blackberry/i.test(t)}function a0(t=St()){return/webos/i.test(t)}function vf(t=St()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function f1(t=St()){var e;return vf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function p1(){return TT()&&document.documentMode===10}function l0(t=St()){return vf(t)||s0(t)||a0(t)||o0(t)||/windows phone/i.test(t)||i0(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(t,e=[]){let n;switch(t){case"Browser":n=Uv(St());break;case"Worker":n=`${Uv(St())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ps}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,d)=>{try{const h=e(l);u(h)}catch(h){d(h)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(t,e={}){return Ur(t,"GET","/v2/passwordPolicy",Fr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=6;class y1{constructor(e){var n,i,o,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:v1,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,o,l,u,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsUppercaseLetter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hv(this),this.idTokenSubscription=new Hv(this),this.beforeStateQueue=new m1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Un(n)),this._initializationPromise=this.queue(async()=>{var i,o,l;if(!this._deleted&&(this.persistenceManager=await Xi.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vl(this,{idToken:e}),i=await un._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gt(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===d)&&(h!=null&&h.user)&&(o=h.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $l(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Xx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gt(this.app))return Promise.reject(jn(this));const n=e?lt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gt(this.app)?Promise.reject(jn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gt(this.app)?Promise.reject(jn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Un(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await g1(this),n=new y1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xo("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await h1(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Un(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Xi.create(this,[Un(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,o);return()=>{u=!0,h()}}else{const h=e.addObserver(n);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Gt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Kx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function yi(t){return lt(t)}class Hv{constructor(e){this.auth=e,this.observer=null,this.addObserver=MT(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _u={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function E1(t){_u=t}function c0(t){return _u.loadJS(t)}function w1(){return _u.recaptchaEnterpriseScript}function S1(){return _u.gapiScript}function C1(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class I1{constructor(){this.enterprise=new T1}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class T1{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const x1="recaptcha-enterprise",d0="NO_RECAPTCHA";class R1{constructor(e){this.type=x1,this.auth=yi(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,d)=>{i1(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new r1(h);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(h=>{d(h)})})}function o(l,u,d){const h=window.grecaptcha;Ov(h)?h.enterprise.ready(()=>{h.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(d0)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new I1().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(d=>{if(!n&&Ov(window.grecaptcha))o(d,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=w1();h.length!==0&&(h+=d),c0(h).then(()=>{o(d,l,u)}).catch(p=>{u(p)})}}).catch(d=>{u(d)})})}}async function Bv(t,e,n,i=!1,o=!1){const l=new R1(t);let u;if(o)u=d0;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ch(t,e,n,i,o){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Bv(t,e,n,n==="getOobCode");return i(t,u)}else return i(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Bv(t,e,n,n==="getOobCode");return i(t,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(t,e){const n=ff(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(ai(l,e??{}))return o;fn(o,"already-initialized")}return n.initialize({options:e})}function b1(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Un);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function N1(t,e,n){const i=yi(t);oe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=h0(e),{host:u,port:d}=k1(e),h=d===null?"":`:${d}`,p={url:`${l}//${u}${h}/`},g=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){oe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),oe(ai(p,i.config.emulator)&&ai(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,Yo(u)?(F_(`${l}//${u}${h}`),U_("Auth",!0)):A1()}function h0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function k1(t){const e=h0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:jv(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:jv(u)}}}function jv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function A1(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fn("not implemented")}_getIdTokenResponse(e){return Fn("not implemented")}_linkToIdToken(e,n){return Fn("not implemented")}_getReauthenticationResolver(e){return Fn("not implemented")}}async function L1(t,e){return Ur(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O1(t,e){return Zo(t,"POST","/v1/accounts:signInWithPassword",Fr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M1(t,e){return Zo(t,"POST","/v1/accounts:signInWithEmailLink",Fr(t,e))}async function D1(t,e){return Zo(t,"POST","/v1/accounts:signInWithEmailLink",Fr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends yf{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Lo(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Lo(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ch(e,n,"signInWithPassword",O1);case"emailLink":return M1(e,{email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ch(e,i,"signUpPassword",L1);case"emailLink":return D1(e,{idToken:n,email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ji(t,e){return Zo(t,"POST","/v1/accounts:signInWithIdp",Fr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="http://localhost";class ui extends yf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ui(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=n,l=Gn(n,["providerId","signInMethod"]);if(!i||!o)return null;const u=new ui(i,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Ji(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ji(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ji(e,n)}buildRequest(){const e={requestUri:F1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fs(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H1(t){const e=vo(yo(t)).link,n=e?vo(yo(e)).deep_link_id:null,i=vo(yo(t)).deep_link_id;return(i?vo(yo(i)).link:null)||i||n||e||t}class _f{constructor(e){var n,i,o,l,u,d;const h=vo(yo(e)),p=(n=h.apiKey)!==null&&n!==void 0?n:null,g=(i=h.oobCode)!==null&&i!==void 0?i:null,_=U1((o=h.mode)!==null&&o!==void 0?o:null);oe(p&&g&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=g,this.continueUrl=(l=h.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=h.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=h.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=H1(e);try{return new _f(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.providerId=ms.PROVIDER_ID}static credential(e,n){return Lo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=_f.parseLink(n);return oe(i,"argument-error"),Lo._fromEmailAndCode(e,i.code,i.tenantId)}}ms.PROVIDER_ID="password";ms.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ms.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends f0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends ea{constructor(){super("facebook.com")}static credential(e){return ui._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";yr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends ea{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ui._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return _r.credential(n,i)}catch{return null}}}_r.GOOGLE_SIGN_IN_METHOD="google.com";_r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends ea{constructor(){super("github.com")}static credential(e){return ui._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Er.credential(e.oauthAccessToken)}catch{return null}}}Er.GITHUB_SIGN_IN_METHOD="github.com";Er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends ea{constructor(){super("twitter.com")}static credential(e,n){return ui._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return wr.credential(n,i)}catch{return null}}}wr.TWITTER_SIGN_IN_METHOD="twitter.com";wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1(t,e){return Zo(t,"POST","/v1/accounts:signUp",Fr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const l=await un._fromIdTokenResponse(e,i,o),u=zv(i);return new ci({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=zv(i);return new ci({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function zv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends Dr{constructor(e,n,i,o){var l;super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Gl.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new Gl(e,n,i,o)}}function p0(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Gl._fromErrorAndOperation(t,l,e,i):l})}async function j1(t,e,n=!1){const i=await Ao(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ci._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1(t,e,n=!1){const{auth:i}=t;if(Gt(i.app))return Promise.reject(jn(i));const o="reauthenticate";try{const l=await Ao(t,p0(i,o,e,t),n);oe(l.idToken,i,"internal-error");const u=gf(l.idToken);oe(u,i,"internal-error");const{sub:d}=u;return oe(t.uid===d,i,"user-mismatch"),ci._forOperation(t,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&fn(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m0(t,e,n=!1){if(Gt(t.app))return Promise.reject(jn(t));const i="signIn",o=await p0(t,i,e),l=await ci._fromIdTokenResponse(t,i,o);return n||await t._updateCurrentUser(l.user),l}async function W1(t,e){return m0(yi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g0(t){const e=yi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function V1(t,e,n){if(Gt(t.app))return Promise.reject(jn(t));const i=yi(t),u=await Ch(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",B1).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&g0(t),h}),d=await ci._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(d.user),d}function $1(t,e,n){return Gt(t.app)?Promise.reject(jn(t)):W1(lt(t),ms.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&g0(t),i})}function G1(t,e,n,i){return lt(t).onIdTokenChanged(e,n,i)}function q1(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function K1(t,e,n,i){return lt(t).onAuthStateChanged(e,n,i)}function Q1(t){return lt(t).signOut()}const ql="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ql,"1"),this.storage.removeItem(ql),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=1e3,X1=10;class y0 extends v0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=l0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,h)=>{this.notifyListeners(u,h)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);p1()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,X1):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},Y1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}y0.type="LOCAL";const J1=y0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0 extends v0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_0.type="SESSION";const E0=_0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new Eu(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:l}=n.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(u).map(async p=>p(n.origin,l)),h=await Z1(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((d,h)=>{const p=Ef("",20);o.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(_){const v=_;if(v.data.eventId===p)switch(v.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(v.data.response);break;default:clearTimeout(g),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return window}function tR(t){In().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(){return typeof In().WorkerGlobalScope<"u"&&typeof In().importScripts=="function"}async function nR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iR(){return w0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="firebaseLocalStorageDb",sR=1,Kl="firebaseLocalStorage",C0="fbase_key";class ta{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wu(t,e){return t.transaction([Kl],e?"readwrite":"readonly").objectStore(Kl)}function oR(){const t=indexedDB.deleteDatabase(S0);return new ta(t).toPromise()}function Ih(){const t=indexedDB.open(S0,sR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Kl,{keyPath:C0})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Kl)?e(i):(i.close(),await oR(),e(await Ih()))})})}async function Wv(t,e,n){const i=wu(t,!0).put({[C0]:e,value:n});return new ta(i).toPromise()}async function aR(t,e){const n=wu(t,!1).get(e),i=await new ta(n).toPromise();return i===void 0?null:i.value}function Vv(t,e){const n=wu(t,!0).delete(e);return new ta(n).toPromise()}const lR=800,uR=3;class I0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ih(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>uR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return w0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eu._getInstance(iR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nR(),!this.activeServiceWorker)return;this.sender=new eR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ih();return await Wv(e,ql,"1"),await Vv(e,ql),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Wv(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>aR(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=wu(o,!1).getAll();return new ta(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}I0.type="LOCAL";const cR=I0;new Jo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(t,e){return e?Un(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends yf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ji(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ji(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ji(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hR(t){return m0(t.auth,new wf(t),t.bypassAuthState)}function fR(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),z1(n,new wf(t),t.bypassAuthState)}async function pR(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),j1(n,new wf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hR;case"linkViaPopup":case"linkViaRedirect":return pR;case"reauthViaPopup":case"reauthViaRedirect":return fR;default:fn(this.auth,"internal-error")}}resolve(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=new Jo(2e3,1e4);class Ki extends T0{constructor(e,n,i,o,l){super(e,n,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Ki.currentPopupAction&&Ki.currentPopupAction.cancel(),Ki.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){qn(this.filter.length===1,"Popup operations only handle one event");const e=Ef();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ki.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mR.get())};e()}}Ki.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="pendingRedirect",Ol=new Map;class vR extends T0{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Ol.get(this.auth._key());if(!e){try{const i=await yR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Ol.set(this.auth._key(),e)}return this.bypassAuthState||Ol.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yR(t,e){const n=wR(e),i=ER(t);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function _R(t,e){Ol.set(t._key(),e)}function ER(t){return Un(t._redirectPersistence)}function wR(t){return Ll(gR,t.config.apiKey,t.name)}async function SR(t,e,n=!1){if(Gt(t.app))return Promise.reject(jn(t));const i=yi(t),o=dR(i,e),u=await new vR(i,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=10*60*1e3;class IR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!x0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Cn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CR&&this.cachedEventUids.clear(),this.cachedEventUids.has($v(e))}saveEventToCache(e){this.cachedEventUids.add($v(e)),this.lastProcessedEventTime=Date.now()}}function $v(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function x0({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(t,e={}){return Ur(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PR=/^https?/;async function bR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xR(t);for(const n of e)try{if(NR(n))return}catch{}fn(t,"unauthorized-domain")}function NR(t){const e=wh(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!PR.test(n))return!1;if(RR.test(t))return i===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new Jo(3e4,6e4);function Gv(){const t=In().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AR(t){return new Promise((e,n)=>{var i,o,l;function u(){Gv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gv(),n(Cn(t,"network-request-failed"))},timeout:kR.get()})}if(!((o=(i=In().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=In().gapi)===null||l===void 0)&&l.load)u();else{const d=C1("iframefcb");return In()[d]=()=>{gapi.load?u():n(Cn(t,"network-request-failed"))},c0(`${S1()}?onload=${d}`).catch(h=>n(h))}}).catch(e=>{throw Ml=null,e})}let Ml=null;function LR(t){return Ml=Ml||AR(t),Ml}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=new Jo(5e3,15e3),MR="__/auth/iframe",DR="emulator/auth/iframe",FR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HR(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?mf(e,DR):`https://${t.config.authDomain}/${MR}`,i={apiKey:e.apiKey,appName:t.name,v:ps},o=UR.get(t.config.apiHost);o&&(i.eid=o);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${fs(i).slice(1)}`}async function BR(t){const e=await LR(t),n=In().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:HR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FR,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const u=Cn(t,"network-request-failed"),d=In().setTimeout(()=>{l(u)},OR.get());function h(){In().clearTimeout(d),o(i)}i.ping(h).then(h,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zR=500,WR=600,VR="_blank",$R="http://localhost";class qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GR(t,e,n,i=zR,o=WR){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const h=Object.assign(Object.assign({},jR),{width:i.toString(),height:o.toString(),top:l,left:u}),p=St().toLowerCase();n&&(d=r0(p)?VR:n),t0(p)&&(e=e||$R,h.scrollbars="yes");const g=Object.entries(h).reduce((v,[w,C])=>`${v}${w}=${C},`,"");if(f1(p)&&d!=="_self")return qR(e||"",d),new qv(null);const _=window.open(e||"",d,g);oe(_,t,"popup-blocked");try{_.focus()}catch{}return new qv(_)}function qR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="__/auth/handler",QR="emulator/auth/handler",YR=encodeURIComponent("fac");async function Kv(t,e,n,i,o,l){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ps,eventId:o};if(e instanceof f0){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",ph(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))u[g]=_}if(e instanceof ea){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const h=await t._getAppCheckToken(),p=h?`#${YR}=${encodeURIComponent(h)}`:"";return`${XR(t)}?${fs(d).slice(1)}${p}`}function XR({config:t}){return t.emulator?mf(t,QR):`https://${t.authDomain}/${KR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="webStorageSupport";class JR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=E0,this._completeRedirectFn=SR,this._overrideRedirectResult=_R}async _openPopup(e,n,i,o){var l;qn((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await Kv(e,n,i,wh(),o);return GR(e,u,Ef())}async _openRedirect(e,n,i,o){await this._originValidation(e);const l=await Kv(e,n,i,wh(),o);return tR(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(qn(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await BR(e),i=new IR(e);return n.register("authEvent",o=>(oe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vd,{type:Vd},o=>{var l;const u=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Vd];u!==void 0&&n(!!u),fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return l0()||n0()||vf()}}const ZR=JR;var Qv="@firebase/auth",Yv="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nP(t){ts(new li("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;oe(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u0(t)},p=new _1(i,o,l,h);return b1(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ts(new li("auth-internal",e=>{const n=yi(e.getProvider("auth").getImmediate());return(i=>new eP(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rr(Qv,Yv,tP(t)),Rr(Qv,Yv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=5*60,iP=D_("authIdTokenMaxAge")||rP;let Xv=null;const sP=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>iP)return;const o=n==null?void 0:n.token;Xv!==o&&(Xv=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function oP(t=V_()){const e=ff(t,"auth");if(e.isInitialized())return e.getImmediate();const n=P1(t,{popupRedirectResolver:ZR,persistence:[cR,J1,E0]}),i=D_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=sP(l.toString());q1(n,u,()=>u(n.currentUser)),G1(n,d=>u(d))}}const o=O_("auth");return o&&N1(n,`http://${o}`),n}function aP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}E1({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=o=>{const l=Cn("internal-error");l.customData=o,n(l)},i.type="text/javascript",i.charset="UTF-8",aP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nP("Browser");var lP="firebase",uP="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(lP,uP,"app");const cP={apiKey:"AIzaSyCNEJDVMHQY8BnaO2ZKkGBQbvoEHXhZBeo",authDomain:"diri-9ed53.firebaseapp.com",databaseURL:"https://diri-9ed53-default-rtdb.firebaseio.com",projectId:"diri-9ed53",storageBucket:"diri-9ed53.firebasestorage.app",messagingSenderId:"710505225558",appId:"1:710505225558:web:a1489ff5c4b458c28b4af7",measurementId:"G-4SMWBK22RK"},Ft=bv().length?bv()[0]:W_(cP);var Jv={};const Zv="@firebase/database",ey="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R0="";function dP(t){R0=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Xe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:bo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Rn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new hP(e)}}catch{}return new fP},ii=P0("localStorage"),pP=P0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new df("@firebase/database"),mP=function(){let t=1;return function(){return t++}}(),b0=function(t){const e=UT(t),n=new OT;n.update(e);const i=n.digest();return lf.encodeByteArray(i)},na=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=na.apply(null,i):typeof i=="object"?e+=Xe(i):e+=i,e+=" "}return e};let So=null,ty=!0;const gP=function(t,e){V(!0,"Can't turn on custom loggers persistently."),Zi.logLevel=Pe.VERBOSE,So=Zi.log.bind(Zi)},ot=function(...t){if(ty===!0&&(ty=!1,So===null&&pP.get("logging_enabled")===!0&&gP()),So){const e=na.apply(null,t);So(e)}},ra=function(t){return function(...e){ot(t,...e)}},Th=function(...t){const e="FIREBASE INTERNAL ERROR: "+na(...t);Zi.error(e)},Kn=function(...t){const e=`FIREBASE FATAL ERROR: ${na(...t)}`;throw Zi.error(e),new Error(e)},wt=function(...t){const e="FIREBASE WARNING: "+na(...t);Zi.warn(e)},vP=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Sf=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},yP=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},di="[MIN_NAME]",Nr="[MAX_NAME]",_i=function(t,e){if(t===e)return 0;if(t===di||e===Nr)return-1;if(e===di||t===Nr)return 1;{const n=ny(t),i=ny(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},_P=function(t,e){return t===e?0:t<e?-1:1},ho=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Xe(e))},Cf=function(t){if(typeof t!="object"||t===null)return Xe(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Xe(e[i]),n+=":",n+=Cf(t[e[i]]);return n+="}",n},N0=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let o=0;o<n;o+=e)o+e>n?i.push(t.substring(o,n)):i.push(t.substring(o,o+e));return i};function at(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const k0=function(t){V(!Sf(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let o,l,u,d,h;t===0?(l=0,u=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(t)/Math.LN2),i),l=d+i,u=Math.round(t*Math.pow(2,n-d)-Math.pow(2,n))):(l=0,u=Math.round(t/Math.pow(2,1-i-n))));const p=[];for(h=n;h;h-=1)p.push(u%2?1:0),u=Math.floor(u/2);for(h=e;h;h-=1)p.push(l%2?1:0),l=Math.floor(l/2);p.push(o?1:0),p.reverse();const g=p.join("");let _="";for(h=0;h<64;h+=8){let v=parseInt(g.substr(h,8),2).toString(16);v.length===1&&(v="0"+v),_=_+v}return _.toLowerCase()},EP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},wP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function SP(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const CP=new RegExp("^-?(0*)\\d{1,10}$"),IP=-2147483648,TP=2147483647,ny=function(t){if(CP.test(t)){const e=Number(t);if(e>=IP&&e<=TP)return e}return null},gs=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw wt("Exception was thrown by user callback.",n),e},Math.floor(0))}},xP=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Co=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Gt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){wt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ot("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wt(e)}}class Dl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Dl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="5",A0="v",L0="s",O0="r",M0="f",D0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,F0="ls",U0="p",xh="ac",H0="websocket",B0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n,i,o,l=!1,u="",d=!1,h=!1,p=null){this.secure=n,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=h,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ii.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ii.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function bP(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function z0(t,e,n){V(typeof e=="string","typeof type must == string"),V(typeof n=="object","typeof params must == object");let i;if(e===H0)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===B0)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);bP(t)&&(n.ns=t.namespace);const o=[];return at(n,(l,u)=>{o.push(l+"="+u)}),i+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.counters_={}}incrementCounter(e,n=1){Rn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return fT(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d={},Gd={};function Tf(t){const e=t.toString();return $d[e]||($d[e]=new NP),$d[e]}function kP(t,e){const n=t.toString();return Gd[n]||(Gd[n]=e()),Gd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&gs(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="start",LP="close",OP="pLPCommand",MP="pRTLPCB",W0="id",V0="pw",$0="ser",DP="cb",FP="seg",UP="ts",HP="d",BP="dframe",G0=1870,q0=30,jP=G0-q0,zP=25e3,WP=3e4;class Qi{constructor(e,n,i,o,l,u,d){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.transportSessionId=u,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ra(e),this.stats_=Tf(n),this.urlFn=h=>(this.appCheckToken&&(h[xh]=this.appCheckToken),z0(n,B0,h))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new AP(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(WP)),yP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new xf((...l)=>{const[u,d,h,p,g]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===ry)this.id=d,this.password=h;else if(u===LP)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,d]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,d)},()=>{this.onClosed_()},this.urlFn);const i={};i[ry]="t",i[$0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[DP]=this.scriptTagHolder.uniqueCallbackIdentifier),i[A0]=If,this.transportSessionId&&(i[L0]=this.transportSessionId),this.lastSessionId&&(i[F0]=this.lastSessionId),this.applicationId&&(i[U0]=this.applicationId),this.appCheckToken&&(i[xh]=this.appCheckToken),typeof location<"u"&&location.hostname&&D0.test(location.hostname)&&(i[O0]=M0);const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qi.forceAllow_=!0}static forceDisallow(){Qi.forceDisallow_=!0}static isAvailable(){return Qi.forceAllow_?!0:!Qi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!EP()&&!wP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Xe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=A_(n),o=N0(i,jP);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[BP]="t",i[W0]=e,i[V0]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Xe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class xf{constructor(e,n,i,o){this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=mP(),window[OP+this.uniqueCallbackIdentifier]=e,window[MP+this.uniqueCallbackIdentifier]=n,this.myIFrame=xf.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(d){ot("frame writing exception"),d.stack&&ot(d.stack),ot(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ot("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[W0]=this.myID,e[V0]=this.myPW,e[$0]=this.currentSerial;let n=this.urlFn(e),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+q0+i.length<=G0;){const u=this.pendingSegs.shift();i=i+"&"+FP+o+"="+u.seg+"&"+UP+o+"="+u.ts+"&"+HP+o+"="+u.d,o++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(i,Math.floor(zP)),l=()=>{clearTimeout(o),i()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{ot("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=16384,$P=45e3;let Ql=null;typeof MozWebSocket<"u"?Ql=MozWebSocket:typeof WebSocket<"u"&&(Ql=WebSocket);class an{constructor(e,n,i,o,l,u,d){this.connId=e,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ra(this.connId),this.stats_=Tf(n),this.connURL=an.connectionURL_(n,u,d,o,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,o,l){const u={};return u[A0]=If,typeof location<"u"&&location.hostname&&D0.test(location.hostname)&&(u[O0]=M0),n&&(u[L0]=n),i&&(u[F0]=i),o&&(u[xh]=o),l&&(u[U0]=l),z0(e,H0,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ii.set("previous_websocket_failure",!0);try{let i;xT(),this.mySock=new Ql(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){an.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Ql!==null&&!an.forceDisallow_}static previouslyFailed(){return ii.isInMemoryStorage||ii.get("previous_websocket_failure")===!0}markConnectionHealthy(){ii.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=bo(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(V(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Xe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=N0(n,VP);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor($P))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}an.responsesRequiredToBeHealthy=2;an.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static get ALL_TRANSPORTS(){return[Qi,an]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=an&&an.isAvailable();let i=n&&!an.previouslyFailed();if(e.webSocketOnly&&(n||wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[an];else{const o=this.transports_=[];for(const l of Oo.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l);Oo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Oo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=6e4,qP=5e3,KP=10*1024,QP=100*1024,qd="t",iy="d",YP="s",sy="r",XP="e",oy="o",ay="a",ly="n",uy="p",JP="h";class ZP{constructor(e,n,i,o,l,u,d,h,p,g){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=u,this.onReady_=d,this.onDisconnect_=h,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ra("c:"+this.id+":"),this.transportManager_=new Oo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Co(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>QP?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>KP?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(qd in e){const n=e[qd];n===ay?this.upgradeIfSecondaryHealthy_():n===sy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===oy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ho("t",e),i=ho("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:uy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ay,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ly,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ho("t",e),i=ho("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ho(qd,e);if(iy in e){const i=e[iy];if(n===JP){const o=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===ly){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===YP?this.onConnectionShutdown_(i):n===sy?this.onReset_(i):n===XP?Th("Server Error: "+i):n===oy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Th("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),If!==i&&wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Co(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(GP))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Co(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(qP))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:uy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ii.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{put(e,n,i,o){}merge(e,n,i,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this.allowedEvents_=e,this.listeners_={},V(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const o=this.getInitialEvent(e);o&&n.apply(i,o)}off(e,n,i){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let l=0;l<o.length;l++)if(o[l].callback===n&&(!i||i===o[l].context)){o.splice(l,1);return}}validateEventType_(e){V(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends Q0{static getInstance(){return new Yl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!cf()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return V(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=32,dy=768;class Re{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ie(){return new Re("")}function ge(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function kr(t){return t.pieces_.length-t.pieceNum_}function Ae(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Re(t.pieces_,e)}function Rf(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function eb(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Mo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Y0(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Re(e,0)}function We(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Re)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&n.push(i[o])}return new Re(n,0)}function pe(t){return t.pieceNum_>=t.pieces_.length}function Et(t,e){const n=ge(t),i=ge(e);if(n===null)return e;if(n===i)return Et(Ae(t),Ae(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function tb(t,e){const n=Mo(t,0),i=Mo(e,0);for(let o=0;o<n.length&&o<i.length;o++){const l=_i(n[o],i[o]);if(l!==0)return l}return n.length===i.length?0:n.length<i.length?-1:1}function X0(t,e){if(kr(t)!==kr(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function qt(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(kr(t)>kr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class nb{constructor(e,n){this.errorPrefix_=n,this.parts_=Mo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=yu(this.parts_[i]);J0(this)}}function rb(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=yu(e),J0(t)}function ib(t){const e=t.parts_.pop();t.byteLength_-=yu(e),t.parts_.length>0&&(t.byteLength_-=1)}function J0(t){if(t.byteLength_>dy)throw new Error(t.errorPrefix_+"has a key path longer than "+dy+" bytes ("+t.byteLength_+").");if(t.parts_.length>cy)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+cy+") or object contains a cycle "+ti(t))}function ti(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf extends Q0{static getInstance(){return new Pf}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return V(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=1e3,sb=60*5*1e3,hy=30*1e3,ob=1.3,ab=3e4,lb="server_kill",fy=3;class zn extends K0{constructor(e,n,i,o,l,u,d,h){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=d,this.authOverride_=h,this.id=zn.nextPersistentConnectionId_++,this.log_=ra("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=fo,this.maxReconnectDelay_=sb,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Pf.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Yl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const o=++this.requestNumber_,l={r:o,a:e,b:n};this.log_(Xe(l)),V(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[o]=i)}get(e){this.initConnection_();const n=new Qo,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const d=u.d;u.s==="ok"?n.resolve(d):n.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,i,o){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),V(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:n,query:e,tag:i};this.listens.get(u).set(l,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+i+" for "+o);const l={p:i},u="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,d=>{const h=d.d,p=d.s;zn.warnOnListenWarnings_(h,n),(this.listens.get(i)&&this.listens.get(i).get(o))===e&&(this.log_("listen response",d),p!=="ok"&&this.removeListen_(i,o),e.onComplete&&e.onComplete(p,h))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Rn(e,"w")){const i=es(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||LT(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=hy)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=AT(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,o=>{const l=o.s,u=o.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,e._queryObject,n)}sendUnlisten_(e,n,i,o){this.log_("Unlisten on "+e+" for "+n);const l={p:e},u="n";o&&(l.q=i,l.t=o),this.sendRequest(u,l)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,o){const l={p:n,d:i};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,n,i,o){this.putInternal("p",e,n,i,o)}merge(e,n,i,o){this.putInternal("m",e,n,i,o)}putInternal(e,n,i,o,l){this.initConnection_();const u={p:n,d:i};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const l=i.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Xe(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Th("Unrecognized action received from server: "+Xe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){V(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=fo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=fo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ab&&(this.reconnectDelay_=fo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ob)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+zn.nextConnectionId_++,l=this.lastSessionId;let u=!1,d=null;const h=function(){d?d.close():(u=!0,i())},p=function(_){V(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(_)};this.realtime_={close:h,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,v]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);u?ot("getToken() completed but was canceled"):(ot("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=v&&v.token,d=new ZP(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,w=>{wt(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(lb)},l))}catch(_){this.log_("Failed to get token: "+_),u||(this.repoInfo_.nodeAdmin&&wt(_),h())}}}interrupt(e){ot("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ot("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ph(this.interruptReasons_)&&(this.reconnectDelay_=fo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(l=>Cf(l)).join("$"):i="default";const o=this.removeListen_(e,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const i=new Re(e).toString();let o;if(this.listens.has(i)){const l=this.listens.get(i);o=l.get(n),l.delete(n),l.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(e,n){ot("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fy&&(this.reconnectDelay_=hy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ot("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+R0.replace(/\./g,"-")]=1,cf()?e["framework.cordova"]=1:H_()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Yl.getInstance().currentlyOnline();return ph(this.interruptReasons_)&&e}}zn.nextPersistentConnectionId_=0;zn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new me(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new me(di,e),o=new me(di,n);return this.compare(i,o)!==0}minPost(){return me.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il;class Z0 extends Su{static get __EMPTY_NODE(){return Il}static set __EMPTY_NODE(e){Il=e}compare(e,n){return _i(e.name,n.name)}isDefinedOn(e){throw hs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return me.MIN}maxPost(){return new me(Nr,Il)}makePost(e,n){return V(typeof e=="string","KeyIndex indexValue must always be a string."),new me(e,Il)}toString(){return".key"}}const si=new Z0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n,i,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?i(e.key,n):1,o&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class nt{constructor(e,n,i,o,l){this.key=e,this.value=n,this.color=i??nt.RED,this.left=o??At.EMPTY_NODE,this.right=l??At.EMPTY_NODE}copy(e,n,i,o,l){return new nt(e??this.key,n??this.value,i??this.color,o??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const l=i(e,o.key);return l<0?o=o.copy(null,null,null,o.left.insert(e,n,i),null):l===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return At.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,o;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return At.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}nt.RED=!0;nt.BLACK=!1;class ub{copy(e,n,i,o,l){return this}insert(e,n,i){return new nt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class At{constructor(e,n=At.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new At(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,nt.BLACK,null,null))}remove(e){return new At(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,nt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,o=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(o=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Tl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Tl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Tl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Tl(this.root_,null,this.comparator_,!0,e)}}At.EMPTY_NODE=new ub;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(t,e){return _i(t.name,e.name)}function bf(t,e){return _i(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh;function db(t){Rh=t}const eE=function(t){return typeof t=="number"?"number:"+k0(t):"string:"+t},tE=function(t){if(t.isLeafNode()){const e=t.val();V(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Rn(e,".sv"),"Priority must be a string or number.")}else V(t===Rh||t.isEmpty(),"priority of unexpected type.");V(t===Rh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let py;class tt{static set __childrenNodeConstructor(e){py=e}static get __childrenNodeConstructor(){return py}constructor(e,n=tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,V(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),tE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new tt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pe(e)?this:ge(e)===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=ge(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(V(i!==".priority"||kr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,tt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ae(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+eE(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=k0(this.value_):e+=this.value_,this.lazyHash_=b0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===tt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof tt.__childrenNodeConstructor?-1:(V(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,o=tt.VALUE_TYPE_ORDER.indexOf(n),l=tt.VALUE_TYPE_ORDER.indexOf(i);return V(o>=0,"Unknown leaf type: "+n),V(l>=0,"Unknown leaf type: "+i),o===l?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nE,rE;function hb(t){nE=t}function fb(t){rE=t}class pb extends Su{compare(e,n){const i=e.node.getPriority(),o=n.node.getPriority(),l=i.compareTo(o);return l===0?_i(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return me.MIN}maxPost(){return new me(Nr,new tt("[PRIORITY-POST]",rE))}makePost(e,n){const i=nE(e);return new me(n,new tt("[PRIORITY-POST]",i))}toString(){return".priority"}}const je=new pb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=Math.log(2);class gb{constructor(e){const n=l=>parseInt(Math.log(l)/mb,10),i=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=i(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Xl=function(t,e,n,i){t.sort(e);const o=function(h,p){const g=p-h;let _,v;if(g===0)return null;if(g===1)return _=t[h],v=n?n(_):_,new nt(v,_.node,nt.BLACK,null,null);{const w=parseInt(g/2,10)+h,C=o(h,w),R=o(w+1,p);return _=t[w],v=n?n(_):_,new nt(v,_.node,nt.BLACK,C,R)}},l=function(h){let p=null,g=null,_=t.length;const v=function(C,R){const A=_-C,N=_;_-=C;const M=o(A+1,N),F=t[A],z=n?n(F):F;w(new nt(z,F.node,R,null,M))},w=function(C){p?(p.left=C,p=C):(g=C,p=C)};for(let C=0;C<h.count;++C){const R=h.nextBitIsOne(),A=Math.pow(2,h.count-(C+1));R?v(A,nt.BLACK):(v(A,nt.BLACK),v(A,nt.RED))}return g},u=new gb(t.length),d=l(u);return new At(i||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd;const qi={};class Hn{static get Default(){return V(qi&&je,"ChildrenNode.ts has not been loaded"),Kd=Kd||new Hn({".priority":qi},{".priority":je}),Kd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=es(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof At?n:null}hasIndex(e){return Rn(this.indexSet_,e.toString())}addIndex(e,n){V(e!==si,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const l=n.getIterator(me.Wrap);let u=l.getNext();for(;u;)o=o||e.isDefinedOn(u.node),i.push(u),u=l.getNext();let d;o?d=Xl(i,e.getCompare()):d=qi;const h=e.toString(),p=Object.assign({},this.indexSet_);p[h]=e;const g=Object.assign({},this.indexes_);return g[h]=d,new Hn(g,p)}addToIndexes(e,n){const i=zl(this.indexes_,(o,l)=>{const u=es(this.indexSet_,l);if(V(u,"Missing index implementation for "+l),o===qi)if(u.isDefinedOn(e.node)){const d=[],h=n.getIterator(me.Wrap);let p=h.getNext();for(;p;)p.name!==e.name&&d.push(p),p=h.getNext();return d.push(e),Xl(d,u.getCompare())}else return qi;else{const d=n.get(e.name);let h=o;return d&&(h=h.remove(new me(e.name,d))),h.insert(e,e.node)}});return new Hn(i,this.indexSet_)}removeFromIndexes(e,n){const i=zl(this.indexes_,o=>{if(o===qi)return o;{const l=n.get(e.name);return l?o.remove(new me(e.name,l)):o}});return new Hn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po;class ae{static get EMPTY_NODE(){return po||(po=new ae(new At(bf),null,Hn.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&tE(this.priorityNode_),this.children_.isEmpty()&&V(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||po}updatePriority(e){return this.children_.isEmpty()?this:new ae(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?po:n}}getChild(e){const n=ge(e);return n===null?this:this.getImmediateChild(n).getChild(Ae(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(V(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new me(e,n);let o,l;n.isEmpty()?(o=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(i,this.children_));const u=o.isEmpty()?po:this.priorityNode_;return new ae(o,u,l)}}updateChild(e,n){const i=ge(e);if(i===null)return n;{V(ge(e)!==".priority"||kr(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Ae(e),n);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,o=0,l=!0;if(this.forEachChild(je,(u,d)=>{n[u]=d.val(e),i++,l&&ae.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):l=!1}),!e&&l&&o<2*i){const u=[];for(const d in n)u[d]=n[d];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+eE(this.getPriority().val())+":"),this.forEachChild(je,(n,i)=>{const o=i.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":b0(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const o=this.resolveIndex_(i);if(o){const l=o.getPredecessorKey(new me(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new me(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new me(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,me.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)<0;)o.getNext(),l=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,me.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)>0;)o.getNext(),l=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ia?-1:0}withIndex(e){if(e===si||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ae(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===si||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(je),o=n.getIterator(je);let l=i.getNext(),u=o.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=i.getNext(),u=o.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===si?null:this.indexMap_.get(e.toString())}}ae.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class vb extends ae{constructor(){super(new At(bf),ae.EMPTY_NODE,Hn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ae.EMPTY_NODE}isEmpty(){return!1}}const ia=new vb;Object.defineProperties(me,{MIN:{value:new me(di,ae.EMPTY_NODE)},MAX:{value:new me(Nr,ia)}});Z0.__EMPTY_NODE=ae.EMPTY_NODE;tt.__childrenNodeConstructor=ae;db(ia);fb(ia);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=!0;function Ye(t,e=null){if(t===null)return ae.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),V(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new tt(n,Ye(e))}if(!(t instanceof Array)&&yb){const n=[];let i=!1;if(at(t,(u,d)=>{if(u.substring(0,1)!=="."){const h=Ye(d);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),n.push(new me(u,h)))}}),n.length===0)return ae.EMPTY_NODE;const l=Xl(n,cb,u=>u.name,bf);if(i){const u=Xl(n,je.getCompare());return new ae(l,Ye(e),new Hn({".priority":u},{".priority":je}))}else return new ae(l,Ye(e),Hn.Default)}else{let n=ae.EMPTY_NODE;return at(t,(i,o)=>{if(Rn(t,i)&&i.substring(0,1)!=="."){const l=Ye(o);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(i,l))}}),n.updatePriority(Ye(e))}}hb(Ye);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf extends Su{constructor(e){super(),this.indexPath_=e,V(!pe(e)&&ge(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),o=this.extractChild(n.node),l=i.compareTo(o);return l===0?_i(e.name,n.name):l}makePost(e,n){const i=Ye(e),o=ae.EMPTY_NODE.updateChild(this.indexPath_,i);return new me(n,o)}maxPost(){const e=ae.EMPTY_NODE.updateChild(this.indexPath_,ia);return new me(Nr,e)}toString(){return Mo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b extends Su{compare(e,n){const i=e.node.compareTo(n.node);return i===0?_i(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return me.MIN}maxPost(){return me.MAX}makePost(e,n){const i=Ye(e);return new me(n,i)}toString(){return".value"}}const iE=new _b;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t){return{type:"value",snapshotNode:t}}function ns(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Do(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Fo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Eb(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e){this.index_=e}updateChild(e,n,i,o,l,u){V(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(n);return d.getChild(o).equals(i.getChild(o))&&d.isEmpty()===i.isEmpty()||(u!=null&&(i.isEmpty()?e.hasChild(n)?u.trackChildChange(Do(n,d)):V(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?u.trackChildChange(ns(n,i)):u.trackChildChange(Fo(n,i,d))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(je,(o,l)=>{n.hasChild(o)||i.trackChildChange(Do(o,l))}),n.isLeafNode()||n.forEachChild(je,(o,l)=>{if(e.hasChild(o)){const u=e.getImmediateChild(o);u.equals(l)||i.trackChildChange(Fo(o,l,u))}else i.trackChildChange(ns(o,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ae.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.indexedFilter_=new kf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Uo.getStartPost_(e),this.endPost_=Uo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,o,l,u){return this.matches(new me(n,i))||(i=ae.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,o,l,u)}updateFullNode(e,n,i){n.isLeafNode()&&(n=ae.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(ae.EMPTY_NODE);const l=this;return n.forEachChild(je,(u,d)=>{l.matches(new me(u,d))||(o=o.updateImmediateChild(u,ae.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Uo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,o,l,u){return this.rangedFilter_.matches(new me(n,i))||(i=ae.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,o,l,u):this.fullLimitUpdateChild_(e,n,i,l,u)}updateFullNode(e,n,i){let o;if(n.isLeafNode()||n.isEmpty())o=ae.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=ae.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const d=l.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),u++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(ae.EMPTY_NODE);let l;this.reverse_?l=o.getReverseIterator(this.index_):l=o.getIterator(this.index_);let u=0;for(;l.hasNext();){const d=l.getNext();u<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?u++:o=o.updateImmediateChild(d.name,ae.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,o,l){let u;if(this.reverse_){const _=this.index_.getCompare();u=(v,w)=>_(w,v)}else u=this.index_.getCompare();const d=e;V(d.numChildren()===this.limit_,"");const h=new me(n,i),p=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),g=this.rangedFilter_.matches(h);if(d.hasChild(n)){const _=d.getImmediateChild(n);let v=o.getChildAfterChild(this.index_,p,this.reverse_);for(;v!=null&&(v.name===n||d.hasChild(v.name));)v=o.getChildAfterChild(this.index_,v,this.reverse_);const w=v==null?1:u(v,h);if(g&&!i.isEmpty()&&w>=0)return l!=null&&l.trackChildChange(Fo(n,i,_)),d.updateImmediateChild(n,i);{l!=null&&l.trackChildChange(Do(n,_));const R=d.updateImmediateChild(n,ae.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(l!=null&&l.trackChildChange(ns(v.name,v.node)),R.updateImmediateChild(v.name,v.node)):R}}else return i.isEmpty()?e:g&&u(p,h)>=0?(l!=null&&(l.trackChildChange(Do(p.name,p.node)),l.trackChildChange(ns(n,i))),d.updateImmediateChild(n,i).updateImmediateChild(p.name,ae.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=je}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return V(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return V(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:di}hasEnd(){return this.endSet_}getIndexEndValue(){return V(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return V(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Nr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return V(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===je}copy(){const e=new Af;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Sb(t){return t.loadsAllData()?new kf(t.getIndex()):t.hasLimit()?new wb(t):new Uo(t)}function Cb(t,e,n){const i=t.copy();return i.startSet_=!0,e===void 0&&(e=null),i.indexStartValue_=e,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function Ib(t,e,n){const i=t.copy();return i.endSet_=!0,e===void 0&&(e=null),i.indexEndValue_=e,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function Tb(t,e){const n=t.copy();return n.index_=e,n}function my(t){const e={};if(t.isDefault())return e;let n;if(t.index_===je?n="$priority":t.index_===iE?n="$value":t.index_===si?n="$key":(V(t.index_ instanceof Nf,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Xe(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Xe(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Xe(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Xe(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Xe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function gy(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==je&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends K0{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(V(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=ra("p:rest:"),this.listens_={}}listen(e,n,i,o){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=Jl.getListenId_(e,i),d={};this.listens_[u]=d;const h=my(e._queryParams);this.restRequest_(l+".json",h,(p,g)=>{let _=g;if(p===404&&(_=null,p=null),p===null&&this.onDataUpdate_(l,_,!1,i),es(this.listens_,u)===d){let v;p?p===401?v="permission_denied":v="rest_error:"+p:v="ok",o(v,null)}})}unlisten(e,n){const i=Jl.getListenId_(e,n);delete this.listens_[i]}get(e){const n=my(e._queryParams),i=e._path.toString(),o=new Qo;return this.restRequest_(i+".json",n,(l,u)=>{let d=u;l===404&&(d=null,l=null),l===null?(this.onDataUpdate_(i,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(n.auth=o.accessToken),l&&l.token&&(n.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+fs(n);this.log_("Sending REST request for "+u);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&d.readyState===4){this.log_("REST Response for "+u+" received. status:",d.status,"response:",d.responseText);let h=null;if(d.status>=200&&d.status<300){try{h=bo(d.responseText)}catch{wt("Failed to parse JSON response for "+u+": "+d.responseText)}i(null,h)}else d.status!==401&&d.status!==404&&wt("Got unsuccessful REST response for "+u+" Status: "+d.status),i(d.status);i=null}},d.open("GET",u,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this.rootNode_=ae.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(){return{value:null,children:new Map}}function oE(t,e,n){if(pe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=ge(e);t.children.has(i)||t.children.set(i,Zl());const o=t.children.get(i);e=Ae(e),oE(o,e,n)}}function Ph(t,e,n){t.value!==null?n(e,t.value):Rb(t,(i,o)=>{const l=new Re(e.toString()+"/"+i);Ph(o,l,n)})}function Rb(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&at(this.last_,(i,o)=>{n[i]=n[i]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=10*1e3,bb=30*1e3,Nb=5*60*1e3;class kb{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Pb(e);const i=vy+(bb-vy)*Math.random();Co(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;at(e,(o,l)=>{l>0&&Rn(this.statsToReport_,o)&&(n[o]=l,i=!0)}),i&&this.server_.reportStats(n),Co(this.reportStats_.bind(this),Math.floor(Math.random()*2*Nb))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(cn||(cn={}));function Lf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Of(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Mf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=cn.ACK_USER_WRITE,this.source=Lf()}operationForChild(e){if(pe(this.path)){if(this.affectedTree.value!=null)return V(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Re(e));return new eu(Ie(),n,this.revert)}}else return V(ge(this.path)===e,"operationForChild called for unrelated child."),new eu(Ae(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n){this.source=e,this.path=n,this.type=cn.LISTEN_COMPLETE}operationForChild(e){return pe(this.path)?new Ho(this.source,Ie()):new Ho(this.source,Ae(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=cn.OVERWRITE}operationForChild(e){return pe(this.path)?new hi(this.source,Ie(),this.snap.getImmediateChild(e)):new hi(this.source,Ae(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=cn.MERGE}operationForChild(e){if(pe(this.path)){const n=this.children.subtree(new Re(e));return n.isEmpty()?null:n.value?new hi(this.source,Ie(),n.value):new rs(this.source,Ie(),n)}else return V(ge(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new rs(this.source,Ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pe(e))return this.isFullyInitialized()&&!this.filtered_;const n=ge(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Lb(t,e,n,i){const o=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(Eb(u.childName,u.snapshotNode))}),mo(t,o,"child_removed",e,i,n),mo(t,o,"child_added",e,i,n),mo(t,o,"child_moved",l,i,n),mo(t,o,"child_changed",e,i,n),mo(t,o,"value",e,i,n),o}function mo(t,e,n,i,o,l){const u=i.filter(d=>d.type===n);u.sort((d,h)=>Mb(t,d,h)),u.forEach(d=>{const h=Ob(t,d,l);o.forEach(p=>{p.respondsTo(d.type)&&e.push(p.createEvent(h,t.query_))})})}function Ob(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Mb(t,e,n){if(e.childName==null||n.childName==null)throw hs("Should only compare child_ events.");const i=new me(e.childName,e.snapshotNode),o=new me(n.childName,n.snapshotNode);return t.index_.compare(i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t,e){return{eventCache:t,serverCache:e}}function Io(t,e,n,i){return Cu(new Ar(e,n,i),t.serverCache)}function aE(t,e,n,i){return Cu(t.eventCache,new Ar(e,n,i))}function tu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function fi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qd;const Db=()=>(Qd||(Qd=new At(_P)),Qd);class ke{static fromObject(e){let n=new ke(null);return at(e,(i,o)=>{n=n.set(new Re(i),o)}),n}constructor(e,n=Db()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ie(),value:this.value};if(pe(e))return null;{const i=ge(e),o=this.children.get(i);if(o!==null){const l=o.findRootMostMatchingPathAndValue(Ae(e),n);return l!=null?{path:We(new Re(i),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pe(e))return this;{const n=ge(e),i=this.children.get(n);return i!==null?i.subtree(Ae(e)):new ke(null)}}set(e,n){if(pe(e))return new ke(n,this.children);{const i=ge(e),l=(this.children.get(i)||new ke(null)).set(Ae(e),n),u=this.children.insert(i,l);return new ke(this.value,u)}}remove(e){if(pe(e))return this.children.isEmpty()?new ke(null):new ke(null,this.children);{const n=ge(e),i=this.children.get(n);if(i){const o=i.remove(Ae(e));let l;return o.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,o),this.value===null&&l.isEmpty()?new ke(null):new ke(this.value,l)}else return this}}get(e){if(pe(e))return this.value;{const n=ge(e),i=this.children.get(n);return i?i.get(Ae(e)):null}}setTree(e,n){if(pe(e))return n;{const i=ge(e),l=(this.children.get(i)||new ke(null)).setTree(Ae(e),n);let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),new ke(this.value,u)}}fold(e){return this.fold_(Ie(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((o,l)=>{i[o]=l.fold_(We(e,o),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Ie(),n)}findOnPath_(e,n,i){const o=this.value?i(n,this.value):!1;if(o)return o;if(pe(e))return null;{const l=ge(e),u=this.children.get(l);return u?u.findOnPath_(Ae(e),We(n,l),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ie(),n)}foreachOnPath_(e,n,i){if(pe(e))return this;{this.value&&i(n,this.value);const o=ge(e),l=this.children.get(o);return l?l.foreachOnPath_(Ae(e),We(n,o),i):new ke(null)}}foreach(e){this.foreach_(Ie(),e)}foreach_(e,n){this.children.inorderTraversal((i,o)=>{o.foreach_(We(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.writeTree_=e}static empty(){return new dn(new ke(null))}}function To(t,e,n){if(pe(e))return new dn(new ke(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const o=i.path;let l=i.value;const u=Et(o,e);return l=l.updateChild(u,n),new dn(t.writeTree_.set(o,l))}else{const o=new ke(n),l=t.writeTree_.setTree(e,o);return new dn(l)}}}function bh(t,e,n){let i=t;return at(n,(o,l)=>{i=To(i,We(e,o),l)}),i}function yy(t,e){if(pe(e))return dn.empty();{const n=t.writeTree_.setTree(e,new ke(null));return new dn(n)}}function Nh(t,e){return Ei(t,e)!=null}function Ei(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Et(n.path,e)):null}function _y(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(je,(i,o)=>{e.push(new me(i,o))}):t.writeTree_.children.inorderTraversal((i,o)=>{o.value!=null&&e.push(new me(i,o.value))}),e}function Pr(t,e){if(pe(e))return t;{const n=Ei(t,e);return n!=null?new dn(new ke(n)):new dn(t.writeTree_.subtree(e))}}function kh(t){return t.writeTree_.isEmpty()}function is(t,e){return lE(Ie(),t.writeTree_,e)}function lE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((o,l)=>{o===".priority"?(V(l.value!==null,"Priority writes must always be leaf nodes"),i=l.value):n=lE(We(t,o),l,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(We(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t,e){return hE(e,t)}function Fb(t,e,n,i,o){V(i>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:o}),o&&(t.visibleWrites=To(t.visibleWrites,e,n)),t.lastWriteId=i}function Ub(t,e,n,i){V(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=bh(t.visibleWrites,e,n),t.lastWriteId=i}function Hb(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function Bb(t,e){const n=t.allWrites.findIndex(d=>d.writeId===e);V(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let o=i.visible,l=!1,u=t.allWrites.length-1;for(;o&&u>=0;){const d=t.allWrites[u];d.visible&&(u>=n&&jb(d,i.path)?o=!1:qt(i.path,d.path)&&(l=!0)),u--}if(o){if(l)return zb(t),!0;if(i.snap)t.visibleWrites=yy(t.visibleWrites,i.path);else{const d=i.children;at(d,h=>{t.visibleWrites=yy(t.visibleWrites,We(i.path,h))})}return!0}else return!1}function jb(t,e){if(t.snap)return qt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&qt(We(t.path,n),e))return!0;return!1}function zb(t){t.visibleWrites=uE(t.allWrites,Wb,Ie()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Wb(t){return t.visible}function uE(t,e,n){let i=dn.empty();for(let o=0;o<t.length;++o){const l=t[o];if(e(l)){const u=l.path;let d;if(l.snap)qt(n,u)?(d=Et(n,u),i=To(i,d,l.snap)):qt(u,n)&&(d=Et(u,n),i=To(i,Ie(),l.snap.getChild(d)));else if(l.children){if(qt(n,u))d=Et(n,u),i=bh(i,d,l.children);else if(qt(u,n))if(d=Et(u,n),pe(d))i=bh(i,Ie(),l.children);else{const h=es(l.children,ge(d));if(h){const p=h.getChild(Ae(d));i=To(i,Ie(),p)}}}else throw hs("WriteRecord should have .snap or .children")}}return i}function cE(t,e,n,i,o){if(!i&&!o){const l=Ei(t.visibleWrites,e);if(l!=null)return l;{const u=Pr(t.visibleWrites,e);if(kh(u))return n;if(n==null&&!Nh(u,Ie()))return null;{const d=n||ae.EMPTY_NODE;return is(u,d)}}}else{const l=Pr(t.visibleWrites,e);if(!o&&kh(l))return n;if(!o&&n==null&&!Nh(l,Ie()))return null;{const u=function(p){return(p.visible||o)&&(!i||!~i.indexOf(p.writeId))&&(qt(p.path,e)||qt(e,p.path))},d=uE(t.allWrites,u,e),h=n||ae.EMPTY_NODE;return is(d,h)}}}function Vb(t,e,n){let i=ae.EMPTY_NODE;const o=Ei(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(je,(l,u)=>{i=i.updateImmediateChild(l,u)}),i;if(n){const l=Pr(t.visibleWrites,e);return n.forEachChild(je,(u,d)=>{const h=is(Pr(l,new Re(u)),d);i=i.updateImmediateChild(u,h)}),_y(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}else{const l=Pr(t.visibleWrites,e);return _y(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}}function $b(t,e,n,i,o){V(i||o,"Either existingEventSnap or existingServerSnap must exist");const l=We(e,n);if(Nh(t.visibleWrites,l))return null;{const u=Pr(t.visibleWrites,l);return kh(u)?o.getChild(n):is(u,o.getChild(n))}}function Gb(t,e,n,i){const o=We(e,n),l=Ei(t.visibleWrites,o);if(l!=null)return l;if(i.isCompleteForChild(n)){const u=Pr(t.visibleWrites,o);return is(u,i.getNode().getImmediateChild(n))}else return null}function qb(t,e){return Ei(t.visibleWrites,e)}function Kb(t,e,n,i,o,l,u){let d;const h=Pr(t.visibleWrites,e),p=Ei(h,Ie());if(p!=null)d=p;else if(n!=null)d=is(h,n);else return[];if(d=d.withIndex(u),!d.isEmpty()&&!d.isLeafNode()){const g=[],_=u.getCompare(),v=l?d.getReverseIteratorFrom(i,u):d.getIteratorFrom(i,u);let w=v.getNext();for(;w&&g.length<o;)_(w,i)!==0&&g.push(w),w=v.getNext();return g}else return[]}function Qb(){return{visibleWrites:dn.empty(),allWrites:[],lastWriteId:-1}}function nu(t,e,n,i){return cE(t.writeTree,t.treePath,e,n,i)}function Df(t,e){return Vb(t.writeTree,t.treePath,e)}function Ey(t,e,n,i){return $b(t.writeTree,t.treePath,e,n,i)}function ru(t,e){return qb(t.writeTree,We(t.treePath,e))}function Yb(t,e,n,i,o,l){return Kb(t.writeTree,t.treePath,e,n,i,o,l)}function Ff(t,e,n){return Gb(t.writeTree,t.treePath,e,n)}function dE(t,e){return hE(We(t.treePath,e),t.writeTree)}function hE(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;V(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),V(i!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const l=o.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(i,Fo(i,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(i,Do(i,o.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(i,ns(i,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(i,Fo(i,e.snapshotNode,o.oldSnap));else throw hs("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const fE=new Jb;class Uf{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Ar(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ff(this.writes_,e,i)}}getChildAfterChild(e,n,i){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fi(this.viewCache_),l=Yb(this.writes_,o,n,1,i,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(t){return{filter:t}}function eN(t,e){V(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),V(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function tN(t,e,n,i,o){const l=new Xb;let u,d;if(n.type===cn.OVERWRITE){const p=n;p.source.fromUser?u=Ah(t,e,p.path,p.snap,i,o,l):(V(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered()&&!pe(p.path),u=iu(t,e,p.path,p.snap,i,o,d,l))}else if(n.type===cn.MERGE){const p=n;p.source.fromUser?u=rN(t,e,p.path,p.children,i,o,l):(V(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered(),u=Lh(t,e,p.path,p.children,i,o,d,l))}else if(n.type===cn.ACK_USER_WRITE){const p=n;p.revert?u=oN(t,e,p.path,i,o,l):u=iN(t,e,p.path,p.affectedTree,i,o,l)}else if(n.type===cn.LISTEN_COMPLETE)u=sN(t,e,n.path,i,l);else throw hs("Unknown operation type: "+n.type);const h=l.getChanges();return nN(e,u,h),{viewCache:u,changes:h}}function nN(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=tu(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&n.push(sE(tu(e)))}}function pE(t,e,n,i,o,l){const u=e.eventCache;if(ru(i,n)!=null)return e;{let d,h;if(pe(n))if(V(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=fi(e),g=p instanceof ae?p:ae.EMPTY_NODE,_=Df(i,g);d=t.filter.updateFullNode(e.eventCache.getNode(),_,l)}else{const p=nu(i,fi(e));d=t.filter.updateFullNode(e.eventCache.getNode(),p,l)}else{const p=ge(n);if(p===".priority"){V(kr(n)===1,"Can't have a priority with additional path components");const g=u.getNode();h=e.serverCache.getNode();const _=Ey(i,n,g,h);_!=null?d=t.filter.updatePriority(g,_):d=u.getNode()}else{const g=Ae(n);let _;if(u.isCompleteForChild(p)){h=e.serverCache.getNode();const v=Ey(i,n,u.getNode(),h);v!=null?_=u.getNode().getImmediateChild(p).updateChild(g,v):_=u.getNode().getImmediateChild(p)}else _=Ff(i,p,e.serverCache);_!=null?d=t.filter.updateChild(u.getNode(),p,_,g,o,l):d=u.getNode()}}return Io(e,d,u.isFullyInitialized()||pe(n),t.filter.filtersNodes())}}function iu(t,e,n,i,o,l,u,d){const h=e.serverCache;let p;const g=u?t.filter:t.filter.getIndexedFilter();if(pe(n))p=g.updateFullNode(h.getNode(),i,null);else if(g.filtersNodes()&&!h.isFiltered()){const w=h.getNode().updateChild(n,i);p=g.updateFullNode(h.getNode(),w,null)}else{const w=ge(n);if(!h.isCompleteForPath(n)&&kr(n)>1)return e;const C=Ae(n),A=h.getNode().getImmediateChild(w).updateChild(C,i);w===".priority"?p=g.updatePriority(h.getNode(),A):p=g.updateChild(h.getNode(),w,A,C,fE,null)}const _=aE(e,p,h.isFullyInitialized()||pe(n),g.filtersNodes()),v=new Uf(o,_,l);return pE(t,_,n,o,v,d)}function Ah(t,e,n,i,o,l,u){const d=e.eventCache;let h,p;const g=new Uf(o,e,l);if(pe(n))p=t.filter.updateFullNode(e.eventCache.getNode(),i,u),h=Io(e,p,!0,t.filter.filtersNodes());else{const _=ge(n);if(_===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),i),h=Io(e,p,d.isFullyInitialized(),d.isFiltered());else{const v=Ae(n),w=d.getNode().getImmediateChild(_);let C;if(pe(v))C=i;else{const R=g.getCompleteChild(_);R!=null?Rf(v)===".priority"&&R.getChild(Y0(v)).isEmpty()?C=R:C=R.updateChild(v,i):C=ae.EMPTY_NODE}if(w.equals(C))h=e;else{const R=t.filter.updateChild(d.getNode(),_,C,v,g,u);h=Io(e,R,d.isFullyInitialized(),t.filter.filtersNodes())}}}return h}function wy(t,e){return t.eventCache.isCompleteForChild(e)}function rN(t,e,n,i,o,l,u){let d=e;return i.foreach((h,p)=>{const g=We(n,h);wy(e,ge(g))&&(d=Ah(t,d,g,p,o,l,u))}),i.foreach((h,p)=>{const g=We(n,h);wy(e,ge(g))||(d=Ah(t,d,g,p,o,l,u))}),d}function Sy(t,e,n){return n.foreach((i,o)=>{e=e.updateChild(i,o)}),e}function Lh(t,e,n,i,o,l,u,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,p;pe(n)?p=i:p=new ke(null).setTree(n,i);const g=e.serverCache.getNode();return p.children.inorderTraversal((_,v)=>{if(g.hasChild(_)){const w=e.serverCache.getNode().getImmediateChild(_),C=Sy(t,w,v);h=iu(t,h,new Re(_),C,o,l,u,d)}}),p.children.inorderTraversal((_,v)=>{const w=!e.serverCache.isCompleteForChild(_)&&v.value===null;if(!g.hasChild(_)&&!w){const C=e.serverCache.getNode().getImmediateChild(_),R=Sy(t,C,v);h=iu(t,h,new Re(_),R,o,l,u,d)}}),h}function iN(t,e,n,i,o,l,u){if(ru(o,n)!=null)return e;const d=e.serverCache.isFiltered(),h=e.serverCache;if(i.value!=null){if(pe(n)&&h.isFullyInitialized()||h.isCompleteForPath(n))return iu(t,e,n,h.getNode().getChild(n),o,l,d,u);if(pe(n)){let p=new ke(null);return h.getNode().forEachChild(si,(g,_)=>{p=p.set(new Re(g),_)}),Lh(t,e,n,p,o,l,d,u)}else return e}else{let p=new ke(null);return i.foreach((g,_)=>{const v=We(n,g);h.isCompleteForPath(v)&&(p=p.set(g,h.getNode().getChild(v)))}),Lh(t,e,n,p,o,l,d,u)}}function sN(t,e,n,i,o){const l=e.serverCache,u=aE(e,l.getNode(),l.isFullyInitialized()||pe(n),l.isFiltered());return pE(t,u,n,i,fE,o)}function oN(t,e,n,i,o,l){let u;if(ru(i,n)!=null)return e;{const d=new Uf(i,e,o),h=e.eventCache.getNode();let p;if(pe(n)||ge(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=nu(i,fi(e));else{const _=e.serverCache.getNode();V(_ instanceof ae,"serverChildren would be complete if leaf node"),g=Df(i,_)}g=g,p=t.filter.updateFullNode(h,g,l)}else{const g=ge(n);let _=Ff(i,g,e.serverCache);_==null&&e.serverCache.isCompleteForChild(g)&&(_=h.getImmediateChild(g)),_!=null?p=t.filter.updateChild(h,g,_,Ae(n),d,l):e.eventCache.getNode().hasChild(g)?p=t.filter.updateChild(h,g,ae.EMPTY_NODE,Ae(n),d,l):p=h,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=nu(i,fi(e)),u.isLeafNode()&&(p=t.filter.updateFullNode(p,u,l)))}return u=e.serverCache.isFullyInitialized()||ru(i,Ie())!=null,Io(e,p,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new kf(i.getIndex()),l=Sb(i);this.processor_=Zb(l);const u=n.serverCache,d=n.eventCache,h=o.updateFullNode(ae.EMPTY_NODE,u.getNode(),null),p=l.updateFullNode(ae.EMPTY_NODE,d.getNode(),null),g=new Ar(h,u.isFullyInitialized(),o.filtersNodes()),_=new Ar(p,d.isFullyInitialized(),l.filtersNodes());this.viewCache_=Cu(_,g),this.eventGenerator_=new Ab(this.query_)}get query(){return this.query_}}function lN(t){return t.viewCache_.serverCache.getNode()}function uN(t){return tu(t.viewCache_)}function cN(t,e){const n=fi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!pe(e)&&!n.getImmediateChild(ge(e)).isEmpty())?n.getChild(e):null}function Cy(t){return t.eventRegistrations_.length===0}function dN(t,e){t.eventRegistrations_.push(e)}function Iy(t,e,n){const i=[];if(n){V(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(n,o);u&&i.push(u)})}if(e){let o=[];for(let l=0;l<t.eventRegistrations_.length;++l){const u=t.eventRegistrations_[l];if(!u.matches(e))o.push(u);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return i}function Ty(t,e,n,i){e.type===cn.MERGE&&e.source.queryId!==null&&(V(fi(t.viewCache_),"We should always have a full cache before handling merges"),V(tu(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,l=tN(t.processor_,o,e,n,i);return eN(t.processor_,l.viewCache),V(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,mE(t,l.changes,l.viewCache.eventCache.getNode(),null)}function hN(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(je,(l,u)=>{i.push(ns(l,u))}),n.isFullyInitialized()&&i.push(sE(n.getNode())),mE(t,i,n.getNode(),e)}function mE(t,e,n,i){const o=i?[i]:t.eventRegistrations_;return Lb(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su;class gE{constructor(){this.views=new Map}}function fN(t){V(!su,"__referenceConstructor has already been defined"),su=t}function pN(){return V(su,"Reference.ts has not been loaded"),su}function mN(t){return t.views.size===0}function Hf(t,e,n,i){const o=e.source.queryId;if(o!==null){const l=t.views.get(o);return V(l!=null,"SyncTree gave us an op for an invalid query."),Ty(l,e,n,i)}else{let l=[];for(const u of t.views.values())l=l.concat(Ty(u,e,n,i));return l}}function vE(t,e,n,i,o){const l=e._queryIdentifier,u=t.views.get(l);if(!u){let d=nu(n,o?i:null),h=!1;d?h=!0:i instanceof ae?(d=Df(n,i),h=!1):(d=ae.EMPTY_NODE,h=!1);const p=Cu(new Ar(d,h,!1),new Ar(i,o,!1));return new aN(e,p)}return u}function gN(t,e,n,i,o,l){const u=vE(t,e,i,o,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),dN(u,n),hN(u,n)}function vN(t,e,n,i){const o=e._queryIdentifier,l=[];let u=[];const d=Lr(t);if(o==="default")for(const[h,p]of t.views.entries())u=u.concat(Iy(p,n,i)),Cy(p)&&(t.views.delete(h),p.query._queryParams.loadsAllData()||l.push(p.query));else{const h=t.views.get(o);h&&(u=u.concat(Iy(h,n,i)),Cy(h)&&(t.views.delete(o),h.query._queryParams.loadsAllData()||l.push(h.query)))}return d&&!Lr(t)&&l.push(new(pN())(e._repo,e._path)),{removed:l,events:u}}function yE(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function br(t,e){let n=null;for(const i of t.views.values())n=n||cN(i,e);return n}function _E(t,e){if(e._queryParams.loadsAllData())return Tu(t);{const i=e._queryIdentifier;return t.views.get(i)}}function EE(t,e){return _E(t,e)!=null}function Lr(t){return Tu(t)!=null}function Tu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou;function yN(t){V(!ou,"__referenceConstructor has already been defined"),ou=t}function _N(){return V(ou,"Reference.ts has not been loaded"),ou}let EN=1;class xy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ke(null),this.pendingWriteTree_=Qb(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function wE(t,e,n,i,o){return Fb(t.pendingWriteTree_,e,n,i,o),o?vs(t,new hi(Lf(),e,n)):[]}function wN(t,e,n,i){Ub(t.pendingWriteTree_,e,n,i);const o=ke.fromObject(n);return vs(t,new rs(Lf(),e,o))}function Sr(t,e,n=!1){const i=Hb(t.pendingWriteTree_,e);if(Bb(t.pendingWriteTree_,e)){let l=new ke(null);return i.snap!=null?l=l.set(Ie(),!0):at(i.children,u=>{l=l.set(new Re(u),!0)}),vs(t,new eu(i.path,l,n))}else return[]}function sa(t,e,n){return vs(t,new hi(Of(),e,n))}function SN(t,e,n){const i=ke.fromObject(n);return vs(t,new rs(Of(),e,i))}function CN(t,e){return vs(t,new Ho(Of(),e))}function IN(t,e,n){const i=jf(t,n);if(i){const o=zf(i),l=o.path,u=o.queryId,d=Et(l,e),h=new Ho(Mf(u),d);return Wf(t,l,h)}else return[]}function SE(t,e,n,i,o=!1){const l=e._path,u=t.syncPointTree_.get(l);let d=[];if(u&&(e._queryIdentifier==="default"||EE(u,e))){const h=vN(u,e,n,i);mN(u)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const p=h.removed;if(d=h.events,!o){const g=p.findIndex(v=>v._queryParams.loadsAllData())!==-1,_=t.syncPointTree_.findOnPath(l,(v,w)=>Lr(w));if(g&&!_){const v=t.syncPointTree_.subtree(l);if(!v.isEmpty()){const w=PN(v);for(let C=0;C<w.length;++C){const R=w[C],A=R.query,N=xE(t,R);t.listenProvider_.startListening(xo(A),Bo(t,A),N.hashFn,N.onComplete)}}}!_&&p.length>0&&!i&&(g?t.listenProvider_.stopListening(xo(e),null):p.forEach(v=>{const w=t.queryToTagMap.get(xu(v));t.listenProvider_.stopListening(xo(v),w)}))}bN(t,p)}return d}function CE(t,e,n,i){const o=jf(t,i);if(o!=null){const l=zf(o),u=l.path,d=l.queryId,h=Et(u,e),p=new hi(Mf(d),h,n);return Wf(t,u,p)}else return[]}function TN(t,e,n,i){const o=jf(t,i);if(o){const l=zf(o),u=l.path,d=l.queryId,h=Et(u,e),p=ke.fromObject(n),g=new rs(Mf(d),h,p);return Wf(t,u,g)}else return[]}function xN(t,e,n,i=!1){const o=e._path;let l=null,u=!1;t.syncPointTree_.foreachOnPath(o,(v,w)=>{const C=Et(v,o);l=l||br(w,C),u=u||Lr(w)});let d=t.syncPointTree_.get(o);d?(u=u||Lr(d),l=l||br(d,Ie())):(d=new gE,t.syncPointTree_=t.syncPointTree_.set(o,d));let h;l!=null?h=!0:(h=!1,l=ae.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((w,C)=>{const R=br(C,Ie());R&&(l=l.updateImmediateChild(w,R))}));const p=EE(d,e);if(!p&&!e._queryParams.loadsAllData()){const v=xu(e);V(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const w=NN();t.queryToTagMap.set(v,w),t.tagToQueryMap.set(w,v)}const g=Iu(t.pendingWriteTree_,o);let _=gN(d,e,n,g,l,h);if(!p&&!u&&!i){const v=_E(d,e);_=_.concat(kN(t,e,v))}return _}function Bf(t,e,n){const o=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(u,d)=>{const h=Et(u,e),p=br(d,h);if(p)return p});return cE(o,e,l,n,!0)}function RN(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(p,g)=>{const _=Et(p,n);i=i||br(g,_)});let o=t.syncPointTree_.get(n);o?i=i||br(o,Ie()):(o=new gE,t.syncPointTree_=t.syncPointTree_.set(n,o));const l=i!=null,u=l?new Ar(i,!0,!1):null,d=Iu(t.pendingWriteTree_,e._path),h=vE(o,e,d,l?u.getNode():ae.EMPTY_NODE,l);return uN(h)}function vs(t,e){return IE(e,t.syncPointTree_,null,Iu(t.pendingWriteTree_,Ie()))}function IE(t,e,n,i){if(pe(t.path))return TE(t,e,n,i);{const o=e.get(Ie());n==null&&o!=null&&(n=br(o,Ie()));let l=[];const u=ge(t.path),d=t.operationForChild(u),h=e.children.get(u);if(h&&d){const p=n?n.getImmediateChild(u):null,g=dE(i,u);l=l.concat(IE(d,h,p,g))}return o&&(l=l.concat(Hf(o,t,i,n))),l}}function TE(t,e,n,i){const o=e.get(Ie());n==null&&o!=null&&(n=br(o,Ie()));let l=[];return e.children.inorderTraversal((u,d)=>{const h=n?n.getImmediateChild(u):null,p=dE(i,u),g=t.operationForChild(u);g&&(l=l.concat(TE(g,d,h,p)))}),o&&(l=l.concat(Hf(o,t,i,n))),l}function xE(t,e){const n=e.query,i=Bo(t,n);return{hashFn:()=>(lN(e)||ae.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return i?IN(t,n._path,i):CN(t,n._path);{const l=SP(o,n);return SE(t,n,null,l)}}}}function Bo(t,e){const n=xu(e);return t.queryToTagMap.get(n)}function xu(t){return t._path.toString()+"$"+t._queryIdentifier}function jf(t,e){return t.tagToQueryMap.get(e)}function zf(t){const e=t.indexOf("$");return V(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Re(t.substr(0,e))}}function Wf(t,e,n){const i=t.syncPointTree_.get(e);V(i,"Missing sync point for query tag that we're tracking");const o=Iu(t.pendingWriteTree_,e);return Hf(i,n,o,null)}function PN(t){return t.fold((e,n,i)=>{if(n&&Lr(n))return[Tu(n)];{let o=[];return n&&(o=yE(n)),at(i,(l,u)=>{o=o.concat(u)}),o}})}function xo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(_N())(t._repo,t._path):t}function bN(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const o=xu(i),l=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(l)}}}function NN(){return EN++}function kN(t,e,n){const i=e._path,o=Bo(t,e),l=xE(t,n),u=t.listenProvider_.startListening(xo(e),o,l.hashFn,l.onComplete),d=t.syncPointTree_.subtree(i);if(o)V(!Lr(d.value),"If we're adding a query, it shouldn't be shadowed");else{const h=d.fold((p,g,_)=>{if(!pe(p)&&g&&Lr(g))return[Tu(g).query];{let v=[];return g&&(v=v.concat(yE(g).map(w=>w.query))),at(_,(w,C)=>{v=v.concat(C)}),v}});for(let p=0;p<h.length;++p){const g=h[p];t.listenProvider_.stopListening(xo(g),Bo(t,g))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Vf(n)}node(){return this.node_}}class $f{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=We(this.path_,e);return new $f(this.syncTree_,n)}node(){return Bf(this.syncTree_,this.path_)}}const AN=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Ry=function(t,e,n){if(!t||typeof t!="object")return t;if(V(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return LN(t[".sv"],e,n);if(typeof t[".sv"]=="object")return ON(t[".sv"],e);V(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},LN=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:V(!1,"Unexpected server value: "+t)}},ON=function(t,e,n){t.hasOwnProperty("increment")||V(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&V(!1,"Unexpected increment value: "+i);const o=e.node();if(V(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const u=o.getValue();return typeof u!="number"?i:u+i},RE=function(t,e,n,i){return Gf(e,new $f(n,t),i)},PE=function(t,e,n){return Gf(t,new Vf(e),n)};function Gf(t,e,n){const i=t.getPriority().val(),o=Ry(i,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const u=t,d=Ry(u.getValue(),e,n);return d!==u.getValue()||o!==u.getPriority().val()?new tt(d,Ye(o)):t}else{const u=t;return l=u,o!==u.getPriority().val()&&(l=l.updatePriority(new tt(o))),u.forEachChild(je,(d,h)=>{const p=Gf(h,e.getImmediateChild(d),n);p!==h&&(l=l.updateImmediateChild(d,p))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Kf(t,e){let n=e instanceof Re?e:new Re(e),i=t,o=ge(n);for(;o!==null;){const l=es(i.node.children,o)||{children:{},childCount:0};i=new qf(o,i,l),n=Ae(n),o=ge(n)}return i}function ys(t){return t.node.value}function bE(t,e){t.node.value=e,Oh(t)}function NE(t){return t.node.childCount>0}function MN(t){return ys(t)===void 0&&!NE(t)}function Ru(t,e){at(t.node.children,(n,i)=>{e(new qf(n,t,i))})}function kE(t,e,n,i){n&&e(t),Ru(t,o=>{kE(o,e,!0)})}function DN(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function oa(t){return new Re(t.parent===null?t.name:oa(t.parent)+"/"+t.name)}function Oh(t){t.parent!==null&&FN(t.parent,t.name,t)}function FN(t,e,n){const i=MN(n),o=Rn(t.node.children,e);i&&o?(delete t.node.children[e],t.node.childCount--,Oh(t)):!i&&!o&&(t.node.children[e]=n.node,t.node.childCount++,Oh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=/[\[\].#$\/\u0000-\u001F\u007F]/,HN=/[\[\].#$\u0000-\u001F\u007F]/,Yd=10*1024*1024,Qf=function(t){return typeof t=="string"&&t.length!==0&&!UN.test(t)},AE=function(t){return typeof t=="string"&&t.length!==0&&!HN.test(t)},BN=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),AE(t)},Mh=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Sf(t)||t&&typeof t=="object"&&Rn(t,".sv")},aa=function(t,e,n,i){i&&e===void 0||Pu(vu(t,"value"),e,n)},Pu=function(t,e,n){const i=n instanceof Re?new nb(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ti(i));if(typeof e=="function")throw new Error(t+"contains a function "+ti(i)+" with contents = "+e.toString());if(Sf(e))throw new Error(t+"contains "+e.toString()+" "+ti(i));if(typeof e=="string"&&e.length>Yd/3&&yu(e)>Yd)throw new Error(t+"contains a string greater than "+Yd+" utf8 bytes "+ti(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,l=!1;if(at(e,(u,d)=>{if(u===".value")o=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!Qf(u)))throw new Error(t+" contains an invalid key ("+u+") "+ti(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);rb(i,u),Pu(t,d,i),ib(i)}),o&&l)throw new Error(t+' contains ".value" child '+ti(i)+" in addition to actual children.")}},jN=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const l=Mo(i);for(let u=0;u<l.length;u++)if(!(l[u]===".priority"&&u===l.length-1)){if(!Qf(l[u]))throw new Error(t+"contains an invalid key ("+l[u]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(tb);let o=null;for(n=0;n<e.length;n++){if(i=e[n],o!==null&&qt(o,i))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}},zN=function(t,e,n,i){const o=vu(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const l=[];at(e,(u,d)=>{const h=new Re(u);if(Pu(o,d,We(n,h)),Rf(h)===".priority"&&!Mh(d))throw new Error(o+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(h)}),jN(o,l)},Yf=function(t,e,n,i){if(!AE(n))throw new Error(vu(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},WN=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Yf(t,e,n)},Xf=function(t,e){if(ge(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},VN=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Qf(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!BN(n))throw new Error(vu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Jf(t,e){let n=null;for(let i=0;i<e.length;i++){const o=e[i],l=o.getPath();n!==null&&!X0(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(o)}n&&t.eventLists_.push(n)}function Yt(t,e,n){Jf(t,n),GN(t,i=>qt(i,e)||qt(e,i))}function GN(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const o=t.eventLists_[i];if(o){const l=o.path;e(l)?(qN(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function qN(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();So&&ot("event: "+n.toString()),gs(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="repo_interrupt",QN=25;class YN{constructor(e,n,i,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $N,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zl(),this.transactionQueueTree_=new qf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function XN(t,e,n){if(t.stats_=Tf(t.repoInfo_),t.forceRestClient_||xP())t.server_=new Jl(t.repoInfo_,(i,o,l,u)=>{Py(t,i,o,l,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>by(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Xe(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new zn(t.repoInfo_,e,(i,o,l,u)=>{Py(t,i,o,l,u)},i=>{by(t,i)},i=>{JN(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=kP(t.repoInfo_,()=>new kb(t.stats_,t.server_)),t.infoData_=new xb,t.infoSyncTree_=new xy({startListening:(i,o,l,u)=>{let d=[];const h=t.infoData_.getNode(i._path);return h.isEmpty()||(d=sa(t.infoSyncTree_,i._path,h),setTimeout(()=>{u("ok")},0)),d},stopListening:()=>{}}),Zf(t,"connected",!1),t.serverSyncTree_=new xy({startListening:(i,o,l,u)=>(t.server_.listen(i,l,o,(d,h)=>{const p=u(d,h);Yt(t.eventQueue_,i._path,p)}),[]),stopListening:(i,o)=>{t.server_.unlisten(i,o)}})}function LE(t){const n=t.infoData_.getNode(new Re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function bu(t){return AN({timestamp:LE(t)})}function Py(t,e,n,i,o){t.dataUpdateCount++;const l=new Re(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(o)if(i){const h=zl(n,p=>Ye(p));u=TN(t.serverSyncTree_,l,h,o)}else{const h=Ye(n);u=CE(t.serverSyncTree_,l,h,o)}else if(i){const h=zl(n,p=>Ye(p));u=SN(t.serverSyncTree_,l,h)}else{const h=Ye(n);u=sa(t.serverSyncTree_,l,h)}let d=l;u.length>0&&(d=ss(t,l)),Yt(t.eventQueue_,d,u)}function by(t,e){Zf(t,"connected",e),e===!1&&nk(t)}function JN(t,e){at(e,(n,i)=>{Zf(t,n,i)})}function Zf(t,e,n){const i=new Re("/.info/"+e),o=Ye(n);t.infoData_.updateSnapshot(i,o);const l=sa(t.infoSyncTree_,i,o);Yt(t.eventQueue_,i,l)}function ep(t){return t.nextWriteId_++}function ZN(t,e,n){const i=RN(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(o=>{const l=Ye(o).withIndex(e._queryParams.getIndex());xN(t.serverSyncTree_,e,n,!0);let u;if(e._queryParams.loadsAllData())u=sa(t.serverSyncTree_,e._path,l);else{const d=Bo(t.serverSyncTree_,e);u=CE(t.serverSyncTree_,e._path,l,d)}return Yt(t.eventQueue_,e._path,u),SE(t.serverSyncTree_,e,n,null,!0),l},o=>(la(t,"get for query "+Xe(e)+" failed: "+o),Promise.reject(new Error(o))))}function ek(t,e,n,i,o){la(t,"set",{path:e.toString(),value:n,priority:i});const l=bu(t),u=Ye(n,i),d=Bf(t.serverSyncTree_,e),h=PE(u,d,l),p=ep(t),g=wE(t.serverSyncTree_,e,h,p,!0);Jf(t.eventQueue_,g),t.server_.put(e.toString(),u.val(!0),(v,w)=>{const C=v==="ok";C||wt("set at "+e+" failed: "+v);const R=Sr(t.serverSyncTree_,p,!C);Yt(t.eventQueue_,e,R),Dh(t,o,v,w)});const _=np(t,e);ss(t,_),Yt(t.eventQueue_,_,[])}function tk(t,e,n,i){la(t,"update",{path:e.toString(),value:n});let o=!0;const l=bu(t),u={};if(at(n,(d,h)=>{o=!1,u[d]=RE(We(e,d),Ye(h),t.serverSyncTree_,l)}),o)ot("update() called with empty data.  Don't do anything."),Dh(t,i,"ok",void 0);else{const d=ep(t),h=wN(t.serverSyncTree_,e,u,d);Jf(t.eventQueue_,h),t.server_.merge(e.toString(),n,(p,g)=>{const _=p==="ok";_||wt("update at "+e+" failed: "+p);const v=Sr(t.serverSyncTree_,d,!_),w=v.length>0?ss(t,e):e;Yt(t.eventQueue_,w,v),Dh(t,i,p,g)}),at(n,p=>{const g=np(t,We(e,p));ss(t,g)}),Yt(t.eventQueue_,e,[])}}function nk(t){la(t,"onDisconnectEvents");const e=bu(t),n=Zl();Ph(t.onDisconnect_,Ie(),(o,l)=>{const u=RE(o,l,t.serverSyncTree_,e);oE(n,o,u)});let i=[];Ph(n,Ie(),(o,l)=>{i=i.concat(sa(t.serverSyncTree_,o,l));const u=np(t,o);ss(t,u)}),t.onDisconnect_=Zl(),Yt(t.eventQueue_,Ie(),i)}function rk(t){t.persistentConnection_&&t.persistentConnection_.interrupt(KN)}function la(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ot(n,...e)}function Dh(t,e,n,i){e&&gs(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let l=o;i&&(l+=": "+i);const u=new Error(l);u.code=o,e(u)}})}function OE(t,e,n){return Bf(t.serverSyncTree_,e,n)||ae.EMPTY_NODE}function tp(t,e=t.transactionQueueTree_){if(e||Nu(t,e),ys(e)){const n=DE(t,e);V(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&ik(t,oa(e),n)}else NE(e)&&Ru(e,n=>{tp(t,n)})}function ik(t,e,n){const i=n.map(p=>p.currentWriteId),o=OE(t,e,i);let l=o;const u=o.hash();for(let p=0;p<n.length;p++){const g=n[p];V(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const _=Et(e,g.path);l=l.updateChild(_,g.currentOutputSnapshotRaw)}const d=l.val(!0),h=e;t.server_.put(h.toString(),d,p=>{la(t,"transaction put response",{path:h.toString(),status:p});let g=[];if(p==="ok"){const _=[];for(let v=0;v<n.length;v++)n[v].status=2,g=g.concat(Sr(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&_.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();Nu(t,Kf(t.transactionQueueTree_,e)),tp(t,t.transactionQueueTree_),Yt(t.eventQueue_,e,g);for(let v=0;v<_.length;v++)gs(_[v])}else{if(p==="datastale")for(let _=0;_<n.length;_++)n[_].status===3?n[_].status=4:n[_].status=0;else{wt("transaction at "+h.toString()+" failed: "+p);for(let _=0;_<n.length;_++)n[_].status=4,n[_].abortReason=p}ss(t,e)}},u)}function ss(t,e){const n=ME(t,e),i=oa(n),o=DE(t,n);return sk(t,o,i),i}function sk(t,e,n){if(e.length===0)return;const i=[];let o=[];const u=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const h=e[d],p=Et(n,h.path);let g=!1,_;if(V(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)g=!0,_=h.abortReason,o=o.concat(Sr(t.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=QN)g=!0,_="maxretry",o=o.concat(Sr(t.serverSyncTree_,h.currentWriteId,!0));else{const v=OE(t,h.path,u);h.currentInputSnapshot=v;const w=e[d].update(v.val());if(w!==void 0){Pu("transaction failed: Data returned ",w,h.path);let C=Ye(w);typeof w=="object"&&w!=null&&Rn(w,".priority")||(C=C.updatePriority(v.getPriority()));const A=h.currentWriteId,N=bu(t),M=PE(C,v,N);h.currentOutputSnapshotRaw=C,h.currentOutputSnapshotResolved=M,h.currentWriteId=ep(t),u.splice(u.indexOf(A),1),o=o.concat(wE(t.serverSyncTree_,h.path,M,h.currentWriteId,h.applyLocally)),o=o.concat(Sr(t.serverSyncTree_,A,!0))}else g=!0,_="nodata",o=o.concat(Sr(t.serverSyncTree_,h.currentWriteId,!0))}Yt(t.eventQueue_,n,o),o=[],g&&(e[d].status=2,function(v){setTimeout(v,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(_==="nodata"?i.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):i.push(()=>e[d].onComplete(new Error(_),!1,null))))}Nu(t,t.transactionQueueTree_);for(let d=0;d<i.length;d++)gs(i[d]);tp(t,t.transactionQueueTree_)}function ME(t,e){let n,i=t.transactionQueueTree_;for(n=ge(e);n!==null&&ys(i)===void 0;)i=Kf(i,n),e=Ae(e),n=ge(e);return i}function DE(t,e){const n=[];return FE(t,e,n),n.sort((i,o)=>i.order-o.order),n}function FE(t,e,n){const i=ys(e);if(i)for(let o=0;o<i.length;o++)n.push(i[o]);Ru(e,o=>{FE(t,o,n)})}function Nu(t,e){const n=ys(e);if(n){let i=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[i]=n[o],i++);n.length=i,bE(e,n.length>0?n:void 0)}Ru(e,i=>{Nu(t,i)})}function np(t,e){const n=oa(ME(t,e)),i=Kf(t.transactionQueueTree_,e);return DN(i,o=>{Xd(t,o)}),Xd(t,i),kE(i,o=>{Xd(t,o)}),n}function Xd(t,e){const n=ys(e);if(n){const i=[];let o=[],l=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(V(l===u-1,"All SENT items should be at beginning of queue."),l=u,n[u].status=3,n[u].abortReason="set"):(V(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),o=o.concat(Sr(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&i.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?bE(e,void 0):n.length=l+1,Yt(t.eventQueue_,oa(e),o);for(let u=0;u<i.length;u++)gs(i[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let o=n[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function ak(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):wt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Ny=function(t,e){const n=lk(t),i=n.namespace;n.domain==="firebase.com"&&Kn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Kn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||vP();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new j0(n.host,n.secure,i,o,e,"",i!==n.subdomain),path:new Re(n.pathString)}},lk=function(t){let e="",n="",i="",o="",l="",u=!0,d="https",h=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(d=t.substring(0,p-1),t=t.substring(p+2));let g=t.indexOf("/");g===-1&&(g=t.length);let _=t.indexOf("?");_===-1&&(_=t.length),e=t.substring(0,Math.min(g,_)),g<_&&(o=ok(t.substring(g,_)));const v=ak(t.substring(Math.min(t.length,_)));p=e.indexOf(":"),p>=0?(u=d==="https"||d==="wss",h=parseInt(e.substring(p+1),10)):p=e.length;const w=e.slice(0,p);if(w.toLowerCase()==="localhost")n="localhost";else if(w.split(".").length<=2)n=w;else{const C=e.indexOf(".");i=e.substring(0,C).toLowerCase(),n=e.substring(C+1),l=i}"ns"in v&&(l=v.ns)}return{host:e,port:h,domain:n,subdomain:i,secure:u,scheme:d,pathString:o,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",uk=function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let o;const l=new Array(8);for(o=7;o>=0;o--)l[o]=ky.charAt(n%64),n=Math.floor(n/64);V(n===0,"Cannot push at time == 0");let u=l.join("");if(i){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)u+=ky.charAt(e[o]);return V(u.length===20,"nextPushId: Length should be 20."),u}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n,i,o){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Xe(this.snapshot.exportVal())}}class dk{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return V(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,i,o){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=o}get key(){return pe(this._path)?null:Rf(this._path)}get ref(){return new Yn(this._repo,this._path)}get _queryIdentifier(){const e=gy(this._queryParams),n=Cf(e);return n==="{}"?"default":n}get _queryObject(){return gy(this._queryParams)}isEqual(e){if(e=lt(e),!(e instanceof _s))return!1;const n=this._repo===e._repo,i=X0(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&i&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+eb(this._path)}}function fk(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function rp(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===si){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==di)throw new Error(i);if(typeof e!="string")throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==Nr)throw new Error(i);if(typeof n!="string")throw new Error(o)}}else if(t.getIndex()===je){if(e!=null&&!Mh(e)||n!=null&&!Mh(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(V(t.getIndex()instanceof Nf||t.getIndex()===iE,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function UE(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Yn extends _s{constructor(e,n){super(e,n,new Af,!1)}get parent(){const e=Y0(this._path);return e===null?null:new Yn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class jo{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Re(e),i=zo(this.ref,e);return new jo(this._node.getChild(n),i,je)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,o)=>e(new jo(o,zo(this.ref,i),je)))}hasChild(e){const n=new Re(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Kt(t,e){return t=lt(t),t._checkNotDeleted("ref"),e!==void 0?zo(t._root,e):t._root}function zo(t,e){return t=lt(t),ge(t._path)===null?WN("child","path",e):Yf("child","path",e),new Yn(t._repo,We(t._path,e))}function pk(t,e){t=lt(t),Xf("push",t._path),aa("push",e,t._path,!0);const n=LE(t._repo),i=uk(n),o=zo(t,i),l=zo(t,i);let u;return e!=null?u=ip(l,e).then(()=>l):u=Promise.resolve(l),o.then=u.then.bind(u),o.catch=u.then.bind(u,void 0),o}function mk(t){return Xf("remove",t._path),ip(t,null)}function ip(t,e){t=lt(t),Xf("set",t._path),aa("set",e,t._path,!1);const n=new Qo;return ek(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function ku(t,e){zN("update",e,t._path);const n=new Qo;return tk(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Wo(t){t=lt(t);const e=new hk(()=>{}),n=new sp(e);return ZN(t._repo,t,n).then(i=>new jo(i,new Yn(t._repo,t._path),t._queryParams.getIndex()))}class sp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new ck("value",this,new jo(e.snapshotNode,new Yn(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new dk(this,e,n):null}matches(e){return e instanceof sp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Au{}class gk extends Au{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){aa("endAt",this._value,e._path,!0);const n=Ib(e._queryParams,this._value,this._key);if(UE(n),rp(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new _s(e._repo,e._path,n,e._orderByCalled)}}class vk extends Au{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){aa("startAt",this._value,e._path,!0);const n=Cb(e._queryParams,this._value,this._key);if(UE(n),rp(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new _s(e._repo,e._path,n,e._orderByCalled)}}class yk extends Au{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){fk(e,"orderByChild");const n=new Re(this._path);if(pe(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Nf(n),o=Tb(e._queryParams,i);return rp(o),new _s(e._repo,e._path,o,!0)}}function HE(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Yf("orderByChild","path",t),new yk(t)}class _k extends Au{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(aa("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new gk(this._value,this._key)._apply(new vk(this._value,this._key)._apply(e))}}function Ek(t,e){return new _k(t,e)}function BE(t,...e){let n=lt(t);for(const i of e)n=i._apply(n);return n}fN(Yn);yN(Yn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk="FIREBASE_DATABASE_EMULATOR_HOST",Fh={};let Sk=!1;function Ck(t,e,n,i){const o=e.lastIndexOf(":"),l=e.substring(0,o),u=Yo(l);t.repoInfo_=new j0(e,u,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function Ik(t,e,n,i,o){let l=i||t.options.databaseURL;l===void 0&&(t.options.projectId||Kn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ot("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=Ny(l,o),d=u.repoInfo,h;typeof process<"u"&&Jv&&(h=Jv[wk]),h?(l=`http://${h}?ns=${d.namespace}`,u=Ny(l,o),d=u.repoInfo):u.repoInfo.secure;const p=new PP(t.name,t.options,e);VN("Invalid Firebase Database URL",u),pe(u.path)||Kn("Database URL must point to the root of a Firebase Database (not including a child path).");const g=xk(d,t,p,new RP(t,n));return new Rk(g,t)}function Tk(t,e){const n=Fh[e];(!n||n[t.key]!==t)&&Kn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),rk(t),delete n[t.key]}function xk(t,e,n,i){let o=Fh[e.name];o||(o={},Fh[e.name]=o);let l=o[t.toURLString()];return l&&Kn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new YN(t,Sk,n,i),o[t.toURLString()]=l,l}class Rk{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(XN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yn(this._repo,Ie())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Tk(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Kn("Cannot call "+e+" on a deleted database.")}}function Qt(t=V_(),e){const n=ff(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=_T("database");i&&Pk(n,...i)}return n}function Pk(t,e,n,i={}){t=lt(t),t._checkNotDeleted("useEmulator");const o=`${e}:${n}`,l=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&ai(i,l.repoInfo_.emulatorOptions))return;Kn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(l.repoInfo_.nodeAdmin)i.mockUserToken&&Kn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Dl(Dl.OWNER);else if(i.mockUserToken){const d=typeof i.mockUserToken=="string"?i.mockUserToken:ET(i.mockUserToken,t.app.options.projectId);u=new Dl(d)}Yo(e)&&(F_(e),U_("Database",!0)),Ck(l,o,i,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(t){dP(ps),ts(new li("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return Ik(i,o,l,n)},"PUBLIC").setMultipleInstances(!0)),Rr(Zv,ey,t),Rr(Zv,ey,"esm2017")}zn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};zn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};bk();class Nk{async getUserRoles(e){const n=Qt(Ft),i=Kt(n,`users/${e}/roles`),o=await Wo(i);if(o.exists()){const l=o.val(),u=[];return l.admin===!0&&u.push(Ir.ADMIN),u.length===0&&u.push(Ir.USER),u}return[Ir.USER]}async setUserRoles(e,n){const i=Qt(Ft),o=Kt(i,`users/${e}`);try{await ip(o,n),console.log("User roles set successfully for UID:",e)}catch(l){throw console.error("Error setting user roles:",l),l}}}const go=oP(Ft);class kk{constructor(){Gi(this,"databaseService");this.databaseService=new Nk}signIn(e,n){return $1(go,e,n)}signUp(e,n){return V1(go,e,n)}signOut(){return Q1(go)}onAuthStateChanged(e){return K1(go,e)}getCurrentUser(){return go.currentUser}async getUserRoles(e){return e.email==="ricf1@mscloud.ua.es"?[Ir.ADMIN]:this.databaseService.getUserRoles(e.uid)}async setUserRoles(e,n){try{await this.databaseService.setUserRoles(e,{email:n.email,roles:{admin:!1}}),console.log("Roles de usuario establecidos correctamente.")}catch(i){throw console.error("Error al establecer roles de usuario:",i),i}}}const os=new kk;var Jd={exports:{}},Zd={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function Ak(){if(Ay)return Zd;Ay=1;var t=pu();function e(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,o=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return Zd.useSyncExternalStoreWithSelector=function(h,p,g,_,v){var w=o(null);if(w.current===null){var C={hasValue:!1,value:null};w.current=C}else C=w.current;w=u(function(){function A(L){if(!N){if(N=!0,M=L,L=_(L),v!==void 0&&C.hasValue){var $=C.value;if(v($,L))return F=$}return F=L}if($=F,n(M,L))return $;var X=_(L);return v!==void 0&&v($,X)?(M=L,$):(M=L,F=X)}var N=!1,M,F,z=g===void 0?null:g;return[function(){return A(p())},z===null?void 0:function(){return A(z())}]},[p,g,_,v]);var R=i(h,w[0],w[1]);return l(function(){C.hasValue=!0,C.value=R},[R]),d(R),R},Zd}var Ly;function Lk(){return Ly||(Ly=1,Jd.exports=Ak()),Jd.exports}var Ok=Lk();function Mk(t){t()}function Dk(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Mk(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const o=e={callback:n,next:null,prev:e};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var Oy={notify(){},get:()=>[]};function Fk(t,e){let n,i=Oy,o=0,l=!1;function u(R){g();const A=i.subscribe(R);let N=!1;return()=>{N||(N=!0,A(),_())}}function d(){i.notify()}function h(){C.onStateChange&&C.onStateChange()}function p(){return l}function g(){o++,n||(n=t.subscribe(h),i=Dk())}function _(){o--,n&&o===0&&(n(),n=void 0,i.clear(),i=Oy)}function v(){l||(l=!0,g())}function w(){l&&(l=!1,_())}const C={addNestedSub:u,notifyNestedSubs:d,handleChangeWrapper:h,isSubscribed:p,trySubscribe:v,tryUnsubscribe:w,getListeners:()=>i};return C}var Uk=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Hk=Uk(),Bk=()=>typeof navigator<"u"&&navigator.product==="ReactNative",jk=Bk(),zk=()=>Hk||jk?P.useLayoutEffect:P.useEffect,Wk=zk(),eh=Symbol.for("react-redux-context"),th=typeof globalThis<"u"?globalThis:{};function Vk(){if(!P.createContext)return{};const t=th[eh]??(th[eh]=new Map);let e=t.get(P.createContext);return e||(e=P.createContext(null),t.set(P.createContext,e)),e}var Or=Vk();function $k(t){const{children:e,context:n,serverState:i,store:o}=t,l=P.useMemo(()=>{const h=Fk(o);return{store:o,subscription:h,getServerState:i?()=>i:void 0}},[o,i]),u=P.useMemo(()=>o.getState(),[o]);Wk(()=>{const{subscription:h}=l;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),u!==o.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[l,u]);const d=n||Or;return P.createElement(d.Provider,{value:l},e)}var Gk=$k;function op(t=Or){return function(){return P.useContext(t)}}var jE=op();function zE(t=Or){const e=t===Or?jE:op(t),n=()=>{const{store:i}=e();return i};return Object.assign(n,{withTypes:()=>n}),n}var qk=zE();function Kk(t=Or){const e=t===Or?qk:zE(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Qk=Kk(),Yk=(t,e)=>t===e;function Xk(t=Or){const e=t===Or?jE:op(t),n=(i,o={})=>{const{equalityFn:l=Yk}=typeof o=="function"?{equalityFn:o}:o,u=e(),{store:d,subscription:h,getServerState:p}=u;P.useRef(!0);const g=P.useCallback({[i.name](v){return i(v)}}[i.name],[i]),_=Ok.useSyncExternalStoreWithSelector(h.addNestedSub,d.getState,p||d.getState,g,l);return P.useDebugValue(_),_};return Object.assign(n,{withTypes:()=>n}),n}var Jk=Xk();const Lu=Qk,pi=Jk;function st(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Zk=typeof Symbol=="function"&&Symbol.observable||"@@observable",My=Zk,nh=()=>Math.random().toString(36).substring(7).split("").join("."),eA={INIT:`@@redux/INIT${nh()}`,REPLACE:`@@redux/REPLACE${nh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${nh()}`},au=eA;function ap(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function WE(t,e,n){if(typeof t!="function")throw new Error(st(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(st(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(st(1));return n(WE)(t,e)}let i=t,o=e,l=new Map,u=l,d=0,h=!1;function p(){u===l&&(u=new Map,l.forEach((A,N)=>{u.set(N,A)}))}function g(){if(h)throw new Error(st(3));return o}function _(A){if(typeof A!="function")throw new Error(st(4));if(h)throw new Error(st(5));let N=!0;p();const M=d++;return u.set(M,A),function(){if(N){if(h)throw new Error(st(6));N=!1,p(),u.delete(M),l=null}}}function v(A){if(!ap(A))throw new Error(st(7));if(typeof A.type>"u")throw new Error(st(8));if(typeof A.type!="string")throw new Error(st(17));if(h)throw new Error(st(9));try{h=!0,o=i(o,A)}finally{h=!1}return(l=u).forEach(M=>{M()}),A}function w(A){if(typeof A!="function")throw new Error(st(10));i=A,v({type:au.REPLACE})}function C(){const A=_;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(st(11));function M(){const z=N;z.next&&z.next(g())}return M(),{unsubscribe:A(M)}},[My](){return this}}}return v({type:au.INIT}),{dispatch:v,subscribe:_,getState:g,replaceReducer:w,[My]:C}}function tA(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:au.INIT})>"u")throw new Error(st(12));if(typeof n(void 0,{type:au.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(st(13))})}function nA(t){const e=Object.keys(t),n={};for(let l=0;l<e.length;l++){const u=e[l];typeof t[u]=="function"&&(n[u]=t[u])}const i=Object.keys(n);let o;try{tA(n)}catch(l){o=l}return function(u={},d){if(o)throw o;let h=!1;const p={};for(let g=0;g<i.length;g++){const _=i[g],v=n[_],w=u[_],C=v(w,d);if(typeof C>"u")throw d&&d.type,new Error(st(14));p[_]=C,h=h||C!==w}return h=h||i.length!==Object.keys(u).length,h?p:u}}function lu(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function rA(...t){return e=>(n,i)=>{const o=e(n,i);let l=()=>{throw new Error(st(15))};const u={getState:o.getState,dispatch:(h,...p)=>l(h,...p)},d=t.map(h=>h(u));return l=lu(...d)(o.dispatch),{...o,dispatch:l}}}function iA(t){return ap(t)&&"type"in t&&typeof t.type=="string"}var VE=Symbol.for("immer-nothing"),Dy=Symbol.for("immer-draftable"),Ut=Symbol.for("immer-state");function ln(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var as=Object.getPrototypeOf;function mi(t){return!!t&&!!t[Ut]}function Qn(t){var e;return t?$E(t)||Array.isArray(t)||!!t[Dy]||!!((e=t.constructor)!=null&&e[Dy])||Mu(t)||Du(t):!1}var sA=Object.prototype.constructor.toString();function $E(t){if(!t||typeof t!="object")return!1;const e=as(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===sA}function uu(t,e){Ou(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function Ou(t){const e=t[Ut];return e?e.type_:Array.isArray(t)?1:Mu(t)?2:Du(t)?3:0}function Uh(t,e){return Ou(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function GE(t,e,n){const i=Ou(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function oA(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Mu(t){return t instanceof Map}function Du(t){return t instanceof Set}function ni(t){return t.copy_||t.base_}function Hh(t,e){if(Mu(t))return new Map(t);if(Du(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=$E(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[Ut];let o=Reflect.ownKeys(i);for(let l=0;l<o.length;l++){const u=o[l],d=i[u];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(i[u]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[u]})}return Object.create(as(t),i)}else{const i=as(t);if(i!==null&&n)return{...t};const o=Object.create(i);return Object.assign(o,t)}}function lp(t,e=!1){return Fu(t)||mi(t)||!Qn(t)||(Ou(t)>1&&(t.set=t.add=t.clear=t.delete=aA),Object.freeze(t),e&&Object.entries(t).forEach(([n,i])=>lp(i,!0))),t}function aA(){ln(2)}function Fu(t){return Object.isFrozen(t)}var lA={};function gi(t){const e=lA[t];return e||ln(0,t),e}var Vo;function qE(){return Vo}function uA(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Fy(t,e){e&&(gi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Bh(t){jh(t),t.drafts_.forEach(cA),t.drafts_=null}function jh(t){t===Vo&&(Vo=t.parent_)}function Uy(t){return Vo=uA(Vo,t)}function cA(t){const e=t[Ut];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Hy(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ut].modified_&&(Bh(e),ln(4)),Qn(t)&&(t=cu(e,t),e.parent_||du(e,t)),e.patches_&&gi("Patches").generateReplacementPatches_(n[Ut].base_,t,e.patches_,e.inversePatches_)):t=cu(e,n,[]),Bh(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==VE?t:void 0}function cu(t,e,n){if(Fu(e))return e;const i=e[Ut];if(!i)return uu(e,(o,l)=>By(t,i,e,o,l,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return du(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let l=o,u=!1;i.type_===3&&(l=new Set(o),o.clear(),u=!0),uu(l,(d,h)=>By(t,i,o,d,h,n,u)),du(t,o,!1),n&&t.patches_&&gi("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function By(t,e,n,i,o,l,u){if(mi(o)){const d=l&&e&&e.type_!==3&&!Uh(e.assigned_,i)?l.concat(i):void 0,h=cu(t,o,d);if(GE(n,i,h),mi(h))t.canAutoFreeze_=!1;else return}else u&&n.add(o);if(Qn(o)&&!Fu(o)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;cu(t,o),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&du(t,o)}}function du(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&lp(e,n)}function dA(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:qE(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=i,l=up;n&&(o=[i],l=$o);const{revoke:u,proxy:d}=Proxy.revocable(o,l);return i.draft_=d,i.revoke_=u,d}var up={get(t,e){if(e===Ut)return t;const n=ni(t);if(!Uh(n,e))return hA(t,n,e);const i=n[e];return t.finalized_||!Qn(i)?i:i===rh(t.base_,e)?(ih(t),t.copy_[e]=Wh(i,t)):i},has(t,e){return e in ni(t)},ownKeys(t){return Reflect.ownKeys(ni(t))},set(t,e,n){const i=KE(ni(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const o=rh(ni(t),e),l=o==null?void 0:o[Ut];if(l&&l.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(oA(n,o)&&(n!==void 0||Uh(t.base_,e)))return!0;ih(t),zh(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return rh(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,ih(t),zh(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ni(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){ln(11)},getPrototypeOf(t){return as(t.base_)},setPrototypeOf(){ln(12)}},$o={};uu(up,(t,e)=>{$o[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});$o.deleteProperty=function(t,e){return $o.set.call(this,t,e,void 0)};$o.set=function(t,e,n){return up.set.call(this,t[0],e,n,t[0])};function rh(t,e){const n=t[Ut];return(n?ni(n):t)[e]}function hA(t,e,n){var o;const i=KE(e,n);return i?"value"in i?i.value:(o=i.get)==null?void 0:o.call(t.draft_):void 0}function KE(t,e){if(!(e in t))return;let n=as(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=as(n)}}function zh(t){t.modified_||(t.modified_=!0,t.parent_&&zh(t.parent_))}function ih(t){t.copy_||(t.copy_=Hh(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var fA=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const l=n;n=e;const u=this;return function(h=l,...p){return u.produce(h,g=>n.call(this,g,...p))}}typeof n!="function"&&ln(6),i!==void 0&&typeof i!="function"&&ln(7);let o;if(Qn(e)){const l=Uy(this),u=Wh(e,void 0);let d=!0;try{o=n(u),d=!1}finally{d?Bh(l):jh(l)}return Fy(l,i),Hy(o,l)}else if(!e||typeof e!="object"){if(o=n(e),o===void 0&&(o=e),o===VE&&(o=void 0),this.autoFreeze_&&lp(o,!0),i){const l=[],u=[];gi("Patches").generateReplacementPatches_(e,o,l,u),i(l,u)}return o}else ln(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(u,...d)=>this.produceWithPatches(u,h=>e(h,...d));let i,o;return[this.produce(e,n,(u,d)=>{i=u,o=d}),i,o]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Qn(t)||ln(8),mi(t)&&(t=pA(t));const e=Uy(this),n=Wh(t,void 0);return n[Ut].isManual_=!0,jh(e),n}finishDraft(t,e){const n=t&&t[Ut];(!n||!n.isManual_)&&ln(9);const{scope_:i}=n;return Fy(i,e),Hy(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const o=e[n];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}n>-1&&(e=e.slice(n+1));const i=gi("Patches").applyPatches_;return mi(t)?i(t,e):this.produce(t,o=>i(o,e))}};function Wh(t,e){const n=Mu(t)?gi("MapSet").proxyMap_(t,e):Du(t)?gi("MapSet").proxySet_(t,e):dA(t,e);return(e?e.scope_:qE()).drafts_.push(n),n}function pA(t){return mi(t)||ln(10,t),QE(t)}function QE(t){if(!Qn(t)||Fu(t))return t;const e=t[Ut];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Hh(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Hh(t,!0);return uu(n,(i,o)=>{GE(n,i,QE(o))}),e&&(e.finalized_=!1),n}var Ht=new fA,YE=Ht.produce;Ht.produceWithPatches.bind(Ht);Ht.setAutoFreeze.bind(Ht);Ht.setUseStrictShallowCopy.bind(Ht);Ht.applyPatches.bind(Ht);Ht.createDraft.bind(Ht);Ht.finishDraft.bind(Ht);function XE(t){return({dispatch:n,getState:i})=>o=>l=>typeof l=="function"?l(n,i,t):o(l)}var mA=XE(),gA=XE,vA=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?lu:lu.apply(null,arguments)},yA=t=>t&&typeof t.match=="function";function Ro(t,e){function n(...i){if(e){let o=e(...i);if(!o)throw new Error(Wn(0));return{type:t,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>iA(i)&&i.type===t,n}var JE=class _o extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,_o.prototype)}static get[Symbol.species](){return _o}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new _o(...e[0].concat(this)):new _o(...e.concat(this))}};function jy(t){return Qn(t)?YE(t,()=>{}):t}function xl(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function _A(t){return typeof t=="boolean"}var EA=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:o=!0,actionCreatorCheck:l=!0}=e??{};let u=new JE;return n&&(_A(n)?u.push(mA):u.push(gA(n.extraArgument))),u},wA="RTK_autoBatch",zy=t=>e=>{setTimeout(e,t)},SA=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let o=!0,l=!1,u=!1;const d=new Set,h=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zy(10):t.type==="callback"?t.queueNotification:zy(t.timeout),p=()=>{u=!1,l&&(l=!1,d.forEach(g=>g()))};return Object.assign({},i,{subscribe(g){const _=()=>o&&g(),v=i.subscribe(_);return d.add(g),()=>{v(),d.delete(g)}},dispatch(g){var _;try{return o=!((_=g==null?void 0:g.meta)!=null&&_[wA]),l=!o,l&&(u||(u=!0,h(p))),i.dispatch(g)}finally{o=!0}}})},CA=t=>function(n){const{autoBatch:i=!0}=n??{};let o=new JE(t);return i&&o.push(SA(typeof i=="object"?i:void 0)),o};function IA(t){const e=EA(),{reducer:n=void 0,middleware:i,devTools:o=!0,preloadedState:l=void 0,enhancers:u=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(ap(n))d=nA(n);else throw new Error(Wn(1));let h;typeof i=="function"?h=i(e):h=e();let p=lu;o&&(p=vA({trace:!1,...typeof o=="object"&&o}));const g=rA(...h),_=CA(g);let v=typeof u=="function"?u(_):_();const w=p(...v);return WE(d,l,w)}function ZE(t){const e={},n=[];let i;const o={addCase(l,u){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Wn(28));if(d in e)throw new Error(Wn(29));return e[d]=u,o},addMatcher(l,u){return n.push({matcher:l,reducer:u}),o},addDefaultCase(l){return i=l,o}};return t(o),[e,n,i]}function TA(t){return typeof t=="function"}function xA(t,e){let[n,i,o]=ZE(e),l;if(TA(t))l=()=>jy(t());else{const d=jy(t);l=()=>d}function u(d=l(),h){let p=[n[h.type],...i.filter(({matcher:g})=>g(h)).map(({reducer:g})=>g)];return p.filter(g=>!!g).length===0&&(p=[o]),p.reduce((g,_)=>{if(_)if(mi(g)){const w=_(g,h);return w===void 0?g:w}else{if(Qn(g))return YE(g,v=>_(v,h));{const v=_(g,h);if(v===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return g},d)}return u.getInitialState=l,u}var RA=(t,e)=>yA(t)?t.match(e):t(e);function PA(...t){return e=>t.some(n=>RA(n,e))}var bA="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",NA=(t=21)=>{let e="",n=t;for(;n--;)e+=bA[Math.random()*64|0];return e},kA=["name","message","stack","code"],sh=class{constructor(t,e){Gi(this,"_type");this.payload=t,this.meta=e}},Wy=class{constructor(t,e){Gi(this,"_type");this.payload=t,this.meta=e}},AA=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of kA)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},Vy="External signal was aborted",LA=(()=>{function t(e,n,i){const o=Ro(e+"/fulfilled",(h,p,g,_)=>({payload:h,meta:{..._||{},arg:g,requestId:p,requestStatus:"fulfilled"}})),l=Ro(e+"/pending",(h,p,g)=>({payload:void 0,meta:{...g||{},arg:p,requestId:h,requestStatus:"pending"}})),u=Ro(e+"/rejected",(h,p,g,_,v)=>({payload:_,error:(i&&i.serializeError||AA)(h||"Rejected"),meta:{...v||{},arg:g,requestId:p,rejectedWithValue:!!_,requestStatus:"rejected",aborted:(h==null?void 0:h.name)==="AbortError",condition:(h==null?void 0:h.name)==="ConditionError"}}));function d(h,{signal:p}={}){return(g,_,v)=>{const w=i!=null&&i.idGenerator?i.idGenerator(h):NA(),C=new AbortController;let R,A;function N(F){A=F,C.abort()}p&&(p.aborted?N(Vy):p.addEventListener("abort",()=>N(Vy),{once:!0}));const M=async function(){var L,$;let F;try{let X=(L=i==null?void 0:i.condition)==null?void 0:L.call(i,h,{getState:_,extra:v});if(MA(X)&&(X=await X),X===!1||C.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const de=new Promise((ee,Se)=>{R=()=>{Se({name:"AbortError",message:A||"Aborted"})},C.signal.addEventListener("abort",R)});g(l(w,h,($=i==null?void 0:i.getPendingMeta)==null?void 0:$.call(i,{requestId:w,arg:h},{getState:_,extra:v}))),F=await Promise.race([de,Promise.resolve(n(h,{dispatch:g,getState:_,extra:v,requestId:w,signal:C.signal,abort:N,rejectWithValue:(ee,Se)=>new sh(ee,Se),fulfillWithValue:(ee,Se)=>new Wy(ee,Se)})).then(ee=>{if(ee instanceof sh)throw ee;return ee instanceof Wy?o(ee.payload,w,h,ee.meta):o(ee,w,h)})])}catch(X){F=X instanceof sh?u(null,w,h,X.payload,X.meta):u(X,w,h)}finally{R&&C.signal.removeEventListener("abort",R)}return i&&!i.dispatchConditionRejection&&u.match(F)&&F.meta.condition||g(F),F}();return Object.assign(M,{abort:N,requestId:w,arg:h,unwrap(){return M.then(OA)}})}}return Object.assign(d,{pending:l,rejected:u,fulfilled:o,settled:PA(u,o),typePrefix:e})}return t.withTypes=()=>t,t})();function OA(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function MA(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var DA=Symbol.for("rtk-slice-createasyncthunk");function FA(t,e){return`${t}/${e}`}function UA({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[DA];return function(o){const{name:l,reducerPath:u=l}=o;if(!l)throw new Error(Wn(11));const d=(typeof o.reducers=="function"?o.reducers(BA()):o.reducers)||{},h=Object.keys(d),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(z,L){const $=typeof z=="string"?z:z.type;if(!$)throw new Error(Wn(12));if($ in p.sliceCaseReducersByType)throw new Error(Wn(13));return p.sliceCaseReducersByType[$]=L,g},addMatcher(z,L){return p.sliceMatchers.push({matcher:z,reducer:L}),g},exposeAction(z,L){return p.actionCreators[z]=L,g},exposeCaseReducer(z,L){return p.sliceCaseReducersByName[z]=L,g}};h.forEach(z=>{const L=d[z],$={reducerName:z,type:FA(l,z),createNotation:typeof o.reducers=="function"};zA(L)?VA($,L,g,e):jA($,L,g)});function _(){const[z={},L=[],$=void 0]=typeof o.extraReducers=="function"?ZE(o.extraReducers):[o.extraReducers],X={...z,...p.sliceCaseReducersByType};return xA(o.initialState,de=>{for(let ee in X)de.addCase(ee,X[ee]);for(let ee of p.sliceMatchers)de.addMatcher(ee.matcher,ee.reducer);for(let ee of L)de.addMatcher(ee.matcher,ee.reducer);$&&de.addDefaultCase($)})}const v=z=>z,w=new Map,C=new WeakMap;let R;function A(z,L){return R||(R=_()),R(z,L)}function N(){return R||(R=_()),R.getInitialState()}function M(z,L=!1){function $(de){let ee=de[z];return typeof ee>"u"&&L&&(ee=xl(C,$,N)),ee}function X(de=v){const ee=xl(w,L,()=>new WeakMap);return xl(ee,de,()=>{const Se={};for(const[Ct,pt]of Object.entries(o.selectors??{}))Se[Ct]=HA(pt,de,()=>xl(C,de,N),L);return Se})}return{reducerPath:z,getSelectors:X,get selectors(){return X($)},selectSlice:$}}const F={name:l,reducer:A,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:N,...M(u),injectInto(z,{reducerPath:L,...$}={}){const X=L??u;return z.inject({reducerPath:X,reducer:A},$),{...F,...M(X,!0)}}};return F}}function HA(t,e,n,i){function o(l,...u){let d=e(l);return typeof d>"u"&&i&&(d=n()),t(d,...u)}return o.unwrapped=t,o}var ew=UA();function BA(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function jA({type:t,reducerName:e,createNotation:n},i,o){let l,u;if("reducer"in i){if(n&&!WA(i))throw new Error(Wn(17));l=i.reducer,u=i.prepare}else l=i;o.addCase(t,l).exposeCaseReducer(e,l).exposeAction(e,u?Ro(t,u):Ro(t))}function zA(t){return t._reducerDefinitionType==="asyncThunk"}function WA(t){return t._reducerDefinitionType==="reducerWithPrepare"}function VA({type:t,reducerName:e},n,i,o){if(!o)throw new Error(Wn(18));const{payloadCreator:l,fulfilled:u,pending:d,rejected:h,settled:p,options:g}=n,_=o(t,l,g);i.exposeAction(e,_),u&&i.addCase(_.fulfilled,u),d&&i.addCase(_.pending,d),h&&i.addCase(_.rejected,h),p&&i.addMatcher(_.settled,p),i.exposeCaseReducer(e,{fulfilled:u||Rl,pending:d||Rl,rejected:h||Rl,settled:p||Rl})}function Rl(){}function Wn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const $A={user:null,roles:null,isLoading:!1,error:null},Fl=LA("auth/fetchUserRoles",async(t,{rejectWithValue:e})=>{if(!t)return e("No user provided for role fetch.");try{return await os.getUserRoles(t)}catch(n){return console.error("Error fetching user roles:",n),e(n.message||"Failed to fetch user roles")}}),tw=ew({name:"auth",initialState:$A,reducers:{setUser:(t,e)=>{t.user=e.payload,e.payload||(t.roles=null,t.error=null,t.isLoading=!1)},setRoles:(t,e)=>{t.roles=e.payload,t.isLoading=!1},logout:t=>{t.user=null,t.roles=null,t.error=null,t.isLoading=!1},setAuthError:(t,e)=>{t.error=e.payload,t.isLoading=!1},setLoading:(t,e)=>{t.isLoading=e.payload}},extraReducers:t=>{t.addCase(Fl.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fl.fulfilled,(e,n)=>{e.roles=n.payload,e.isLoading=!1,e.error=null}).addCase(Fl.rejected,(e,n)=>{e.isLoading=!1,e.roles=null,e.error=n.payload})}}),{setUser:$y,setRoles:Gy,logout:GA,setAuthError:Dn,setLoading:oi}=tw.actions,qA=tw.reducer,KA=()=>{const t=localStorage.getItem("locale");if(t&&["es","en"].includes(t))return t;const e=navigator.language.split("-")[0];return["es","en"].includes(e)?e:"es"},QA={locale:KA()},nw=ew({name:"i18n",initialState:QA,reducers:{setLocale:(t,e)=>{t.locale=e.payload,localStorage.setItem("locale",e.payload)}}}),{setLocale:YA}=nw.actions,XA=nw.reducer;function En(t,e){var n=e&&e.cache?e.cache:iL,i=e&&e.serializer?e.serializer:nL,o=e&&e.strategy?e.strategy:eL;return o(t,{cache:n,serializer:i})}function JA(t){return t==null||typeof t=="number"||typeof t=="boolean"}function ZA(t,e,n,i){var o=JA(i)?i:n(i),l=e.get(o);return typeof l>"u"&&(l=t.call(this,i),e.set(o,l)),l}function rw(t,e,n){var i=Array.prototype.slice.call(arguments,3),o=n(i),l=e.get(o);return typeof l>"u"&&(l=t.apply(this,i),e.set(o,l)),l}function iw(t,e,n,i,o){return n.bind(e,t,i,o)}function eL(t,e){var n=t.length===1?ZA:rw;return iw(t,this,n,e.cache.create(),e.serializer)}function tL(t,e){return iw(t,this,rw,e.cache.create(),e.serializer)}var nL=function(){return JSON.stringify(arguments)},rL=function(){function t(){this.cache=Object.create(null)}return t.prototype.get=function(e){return this.cache[e]},t.prototype.set=function(e,n){this.cache[e]=n},t}(),iL={create:function(){return new rL}},wn={variadic:tL},ve;(function(t){t[t.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",t[t.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",t[t.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",t[t.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",t[t.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",t[t.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",t[t.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",t[t.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",t[t.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",t[t.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",t[t.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",t[t.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",t[t.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",t[t.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",t[t.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",t[t.INVALID_TAG=23]="INVALID_TAG",t[t.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",t[t.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",t[t.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(ve||(ve={}));var Me;(function(t){t[t.literal=0]="literal",t[t.argument=1]="argument",t[t.number=2]="number",t[t.date=3]="date",t[t.time=4]="time",t[t.select=5]="select",t[t.plural=6]="plural",t[t.pound=7]="pound",t[t.tag=8]="tag"})(Me||(Me={}));var ls;(function(t){t[t.number=0]="number",t[t.dateTime=1]="dateTime"})(ls||(ls={}));function qy(t){return t.type===Me.literal}function sL(t){return t.type===Me.argument}function sw(t){return t.type===Me.number}function ow(t){return t.type===Me.date}function aw(t){return t.type===Me.time}function lw(t){return t.type===Me.select}function uw(t){return t.type===Me.plural}function oL(t){return t.type===Me.pound}function cw(t){return t.type===Me.tag}function dw(t){return!!(t&&typeof t=="object"&&t.type===ls.number)}function Vh(t){return!!(t&&typeof t=="object"&&t.type===ls.dateTime)}var hw=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,aL=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function lL(t){var e={};return t.replace(aL,function(n){var i=n.length;switch(n[0]){case"G":e.era=i===4?"long":i===5?"narrow":"short";break;case"y":e.year=i===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][i-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][i-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=i===4?"long":i===5?"narrow":"short";break;case"e":if(i<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][i-4];break;case"c":if(i<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][i-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][i-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][i-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][i-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][i-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][i-1];break;case"s":e.second=["numeric","2-digit"][i-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":e.timeZoneName=i<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),e}var uL=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function cL(t){if(t.length===0)throw new Error("Number skeleton cannot be empty");for(var e=t.split(uL).filter(function(v){return v.length>0}),n=[],i=0,o=e;i<o.length;i++){var l=o[i],u=l.split("/");if(u.length===0)throw new Error("Invalid number skeleton");for(var d=u[0],h=u.slice(1),p=0,g=h;p<g.length;p++){var _=g[p];if(_.length===0)throw new Error("Invalid number skeleton")}n.push({stem:d,options:h})}return n}function dL(t){return t.replace(/^(.*?)-/,"")}var Ky=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,fw=/^(@+)?(\+|#+)?[rs]?$/g,hL=/(\*)(0+)|(#+)(0+)|(0+)/g,pw=/^(0+)$/;function Qy(t){var e={};return t[t.length-1]==="r"?e.roundingPriority="morePrecision":t[t.length-1]==="s"&&(e.roundingPriority="lessPrecision"),t.replace(fw,function(n,i,o){return typeof o!="string"?(e.minimumSignificantDigits=i.length,e.maximumSignificantDigits=i.length):o==="+"?e.minimumSignificantDigits=i.length:i[0]==="#"?e.maximumSignificantDigits=i.length:(e.minimumSignificantDigits=i.length,e.maximumSignificantDigits=i.length+(typeof o=="string"?o.length:0)),""}),e}function mw(t){switch(t){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function fL(t){var e;if(t[0]==="E"&&t[1]==="E"?(e={notation:"engineering"},t=t.slice(2)):t[0]==="E"&&(e={notation:"scientific"},t=t.slice(1)),e){var n=t.slice(0,2);if(n==="+!"?(e.signDisplay="always",t=t.slice(2)):n==="+?"&&(e.signDisplay="exceptZero",t=t.slice(2)),!pw.test(t))throw new Error("Malformed concise eng/scientific notation");e.minimumIntegerDigits=t.length}return e}function Yy(t){var e={},n=mw(t);return n||e}function pL(t){for(var e={},n=0,i=t;n<i.length;n++){var o=i[n];switch(o.stem){case"percent":case"%":e.style="percent";continue;case"%x100":e.style="percent",e.scale=100;continue;case"currency":e.style="currency",e.currency=o.options[0];continue;case"group-off":case",_":e.useGrouping=!1;continue;case"precision-integer":case".":e.maximumFractionDigits=0;continue;case"measure-unit":case"unit":e.style="unit",e.unit=dL(o.options[0]);continue;case"compact-short":case"K":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":case"KK":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e=J(J(J({},e),{notation:"scientific"}),o.options.reduce(function(h,p){return J(J({},h),Yy(p))},{}));continue;case"engineering":e=J(J(J({},e),{notation:"engineering"}),o.options.reduce(function(h,p){return J(J({},h),Yy(p))},{}));continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue;case"scale":e.scale=parseFloat(o.options[0]);continue;case"rounding-mode-floor":e.roundingMode="floor";continue;case"rounding-mode-ceiling":e.roundingMode="ceil";continue;case"rounding-mode-down":e.roundingMode="trunc";continue;case"rounding-mode-up":e.roundingMode="expand";continue;case"rounding-mode-half-even":e.roundingMode="halfEven";continue;case"rounding-mode-half-down":e.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":e.roundingMode="halfExpand";continue;case"integer-width":if(o.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");o.options[0].replace(hL,function(h,p,g,_,v,w){if(p)e.minimumIntegerDigits=g.length;else{if(_&&v)throw new Error("We currently do not support maximum integer digits");if(w)throw new Error("We currently do not support exact integer digits")}return""});continue}if(pw.test(o.stem)){e.minimumIntegerDigits=o.stem.length;continue}if(Ky.test(o.stem)){if(o.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");o.stem.replace(Ky,function(h,p,g,_,v,w){return g==="*"?e.minimumFractionDigits=p.length:_&&_[0]==="#"?e.maximumFractionDigits=_.length:v&&w?(e.minimumFractionDigits=v.length,e.maximumFractionDigits=v.length+w.length):(e.minimumFractionDigits=p.length,e.maximumFractionDigits=p.length),""});var l=o.options[0];l==="w"?e=J(J({},e),{trailingZeroDisplay:"stripIfInteger"}):l&&(e=J(J({},e),Qy(l)));continue}if(fw.test(o.stem)){e=J(J({},e),Qy(o.stem));continue}var u=mw(o.stem);u&&(e=J(J({},e),u));var d=fL(o.stem);d&&(e=J(J({},e),d))}return e}var Pl={"001":["H","h"],419:["h","H","hB","hb"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["h","H","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["h","H","hB","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["h","H","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["h","H","hB","hb"],CU:["h","H","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["h","H","hB","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["h","H","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["h","H","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["h","H","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["h","H","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["h","H","hB","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["h","H","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["h","H","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["h","H","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"en-HK":["h","hb","H","hB"],"en-IL":["H","h","hb","hB"],"en-MY":["h","hb","H","hB"],"es-BR":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function mL(t,e){for(var n="",i=0;i<t.length;i++){var o=t.charAt(i);if(o==="j"){for(var l=0;i+1<t.length&&t.charAt(i+1)===o;)l++,i++;var u=1+(l&1),d=l<2?1:3+(l>>1),h="a",p=gL(e);for((p=="H"||p=="k")&&(d=0);d-- >0;)n+=h;for(;u-- >0;)n=p+n}else o==="J"?n+="H":n+=o}return n}function gL(t){var e=t.hourCycle;if(e===void 0&&t.hourCycles&&t.hourCycles.length&&(e=t.hourCycles[0]),e)switch(e){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n=t.language,i;n!=="root"&&(i=t.maximize().region);var o=Pl[i||""]||Pl[n||""]||Pl["".concat(n,"-001")]||Pl["001"];return o[0]}var oh,vL=new RegExp("^".concat(hw.source,"*")),yL=new RegExp("".concat(hw.source,"*$"));function Ee(t,e){return{start:t,end:e}}var _L=!!String.prototype.startsWith&&"_a".startsWith("a",1),EL=!!String.fromCodePoint,wL=!!Object.fromEntries,SL=!!String.prototype.codePointAt,CL=!!String.prototype.trimStart,IL=!!String.prototype.trimEnd,TL=!!Number.isSafeInteger,xL=TL?Number.isSafeInteger:function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t&&Math.abs(t)<=9007199254740991},$h=!0;try{var RL=vw("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");$h=((oh=RL.exec("a"))===null||oh===void 0?void 0:oh[0])==="a"}catch{$h=!1}var Xy=_L?function(e,n,i){return e.startsWith(n,i)}:function(e,n,i){return e.slice(i,i+n.length)===n},Gh=EL?String.fromCodePoint:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i="",o=e.length,l=0,u;o>l;){if(u=e[l++],u>1114111)throw RangeError(u+" is not a valid code point");i+=u<65536?String.fromCharCode(u):String.fromCharCode(((u-=65536)>>10)+55296,u%1024+56320)}return i},Jy=wL?Object.fromEntries:function(e){for(var n={},i=0,o=e;i<o.length;i++){var l=o[i],u=l[0],d=l[1];n[u]=d}return n},gw=SL?function(e,n){return e.codePointAt(n)}:function(e,n){var i=e.length;if(!(n<0||n>=i)){var o=e.charCodeAt(n),l;return o<55296||o>56319||n+1===i||(l=e.charCodeAt(n+1))<56320||l>57343?o:(o-55296<<10)+(l-56320)+65536}},PL=CL?function(e){return e.trimStart()}:function(e){return e.replace(vL,"")},bL=IL?function(e){return e.trimEnd()}:function(e){return e.replace(yL,"")};function vw(t,e){return new RegExp(t,e)}var qh;if($h){var Zy=vw("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");qh=function(e,n){var i;Zy.lastIndex=n;var o=Zy.exec(e);return(i=o[1])!==null&&i!==void 0?i:""}}else qh=function(e,n){for(var i=[];;){var o=gw(e,n);if(o===void 0||yw(o)||LL(o))break;i.push(o),n+=o>=65536?2:1}return Gh.apply(void 0,i)};var NL=function(){function t(e,n){n===void 0&&(n={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!n.ignoreTag,this.locale=n.locale,this.requiresOtherClause=!!n.requiresOtherClause,this.shouldParseSkeletons=!!n.shouldParseSkeletons}return t.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},t.prototype.parseMessage=function(e,n,i){for(var o=[];!this.isEOF();){var l=this.char();if(l===123){var u=this.parseArgument(e,i);if(u.err)return u;o.push(u.val)}else{if(l===125&&e>0)break;if(l===35&&(n==="plural"||n==="selectordinal")){var d=this.clonePosition();this.bump(),o.push({type:Me.pound,location:Ee(d,this.clonePosition())})}else if(l===60&&!this.ignoreTag&&this.peek()===47){if(i)break;return this.error(ve.UNMATCHED_CLOSING_TAG,Ee(this.clonePosition(),this.clonePosition()))}else if(l===60&&!this.ignoreTag&&Kh(this.peek()||0)){var u=this.parseTag(e,n);if(u.err)return u;o.push(u.val)}else{var u=this.parseLiteral(e,n);if(u.err)return u;o.push(u.val)}}}return{val:o,err:null}},t.prototype.parseTag=function(e,n){var i=this.clonePosition();this.bump();var o=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:Me.literal,value:"<".concat(o,"/>"),location:Ee(i,this.clonePosition())},err:null};if(this.bumpIf(">")){var l=this.parseMessage(e+1,n,!0);if(l.err)return l;var u=l.val,d=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Kh(this.char()))return this.error(ve.INVALID_TAG,Ee(d,this.clonePosition()));var h=this.clonePosition(),p=this.parseTagName();return o!==p?this.error(ve.UNMATCHED_CLOSING_TAG,Ee(h,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:Me.tag,value:o,children:u,location:Ee(i,this.clonePosition())},err:null}:this.error(ve.INVALID_TAG,Ee(d,this.clonePosition())))}else return this.error(ve.UNCLOSED_TAG,Ee(i,this.clonePosition()))}else return this.error(ve.INVALID_TAG,Ee(i,this.clonePosition()))},t.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&AL(this.char());)this.bump();return this.message.slice(e,this.offset())},t.prototype.parseLiteral=function(e,n){for(var i=this.clonePosition(),o="";;){var l=this.tryParseQuote(n);if(l){o+=l;continue}var u=this.tryParseUnquoted(e,n);if(u){o+=u;continue}var d=this.tryParseLeftAngleBracket();if(d){o+=d;continue}break}var h=Ee(i,this.clonePosition());return{val:{type:Me.literal,value:o,location:h},err:null}},t.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!kL(this.peek()||0))?(this.bump(),"<"):null},t.prototype.tryParseQuote=function(e){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(e==="plural"||e==="selectordinal")break;return null;default:return null}this.bump();var n=[this.char()];for(this.bump();!this.isEOF();){var i=this.char();if(i===39)if(this.peek()===39)n.push(39),this.bump();else{this.bump();break}else n.push(i);this.bump()}return Gh.apply(void 0,n)},t.prototype.tryParseUnquoted=function(e,n){if(this.isEOF())return null;var i=this.char();return i===60||i===123||i===35&&(n==="plural"||n==="selectordinal")||i===125&&e>0?null:(this.bump(),Gh(i))},t.prototype.parseArgument=function(e,n){var i=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(ve.EXPECT_ARGUMENT_CLOSING_BRACE,Ee(i,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(ve.EMPTY_ARGUMENT,Ee(i,this.clonePosition()));var o=this.parseIdentifierIfPossible().value;if(!o)return this.error(ve.MALFORMED_ARGUMENT,Ee(i,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(ve.EXPECT_ARGUMENT_CLOSING_BRACE,Ee(i,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:Me.argument,value:o,location:Ee(i,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(ve.EXPECT_ARGUMENT_CLOSING_BRACE,Ee(i,this.clonePosition())):this.parseArgumentOptions(e,n,o,i);default:return this.error(ve.MALFORMED_ARGUMENT,Ee(i,this.clonePosition()))}},t.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),n=this.offset(),i=qh(this.message,n),o=n+i.length;this.bumpTo(o);var l=this.clonePosition(),u=Ee(e,l);return{value:i,location:u}},t.prototype.parseArgumentOptions=function(e,n,i,o){var l,u=this.clonePosition(),d=this.parseIdentifierIfPossible().value,h=this.clonePosition();switch(d){case"":return this.error(ve.EXPECT_ARGUMENT_TYPE,Ee(u,h));case"number":case"date":case"time":{this.bumpSpace();var p=null;if(this.bumpIf(",")){this.bumpSpace();var g=this.clonePosition(),_=this.parseSimpleArgStyleIfPossible();if(_.err)return _;var v=bL(_.val);if(v.length===0)return this.error(ve.EXPECT_ARGUMENT_STYLE,Ee(this.clonePosition(),this.clonePosition()));var w=Ee(g,this.clonePosition());p={style:v,styleLocation:w}}var C=this.tryParseArgumentClose(o);if(C.err)return C;var R=Ee(o,this.clonePosition());if(p&&Xy(p==null?void 0:p.style,"::",0)){var A=PL(p.style.slice(2));if(d==="number"){var _=this.parseNumberSkeletonFromString(A,p.styleLocation);return _.err?_:{val:{type:Me.number,value:i,location:R,style:_.val},err:null}}else{if(A.length===0)return this.error(ve.EXPECT_DATE_TIME_SKELETON,R);var N=A;this.locale&&(N=mL(A,this.locale));var v={type:ls.dateTime,pattern:N,location:p.styleLocation,parsedOptions:this.shouldParseSkeletons?lL(N):{}},M=d==="date"?Me.date:Me.time;return{val:{type:M,value:i,location:R,style:v},err:null}}}return{val:{type:d==="number"?Me.number:d==="date"?Me.date:Me.time,value:i,location:R,style:(l=p==null?void 0:p.style)!==null&&l!==void 0?l:null},err:null}}case"plural":case"selectordinal":case"select":{var F=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(ve.EXPECT_SELECT_ARGUMENT_OPTIONS,Ee(F,J({},F)));this.bumpSpace();var z=this.parseIdentifierIfPossible(),L=0;if(d!=="select"&&z.value==="offset"){if(!this.bumpIf(":"))return this.error(ve.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Ee(this.clonePosition(),this.clonePosition()));this.bumpSpace();var _=this.tryParseDecimalInteger(ve.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,ve.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(_.err)return _;this.bumpSpace(),z=this.parseIdentifierIfPossible(),L=_.val}var $=this.tryParsePluralOrSelectOptions(e,d,n,z);if($.err)return $;var C=this.tryParseArgumentClose(o);if(C.err)return C;var X=Ee(o,this.clonePosition());return d==="select"?{val:{type:Me.select,value:i,options:Jy($.val),location:X},err:null}:{val:{type:Me.plural,value:i,options:Jy($.val),offset:L,pluralType:d==="plural"?"cardinal":"ordinal",location:X},err:null}}default:return this.error(ve.INVALID_ARGUMENT_TYPE,Ee(u,h))}},t.prototype.tryParseArgumentClose=function(e){return this.isEOF()||this.char()!==125?this.error(ve.EXPECT_ARGUMENT_CLOSING_BRACE,Ee(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},t.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,n=this.clonePosition();!this.isEOF();){var i=this.char();switch(i){case 39:{this.bump();var o=this.clonePosition();if(!this.bumpUntil("'"))return this.error(ve.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Ee(o,this.clonePosition()));this.bump();break}case 123:{e+=1,this.bump();break}case 125:{if(e>0)e-=1;else return{val:this.message.slice(n.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(n.offset,this.offset()),err:null}},t.prototype.parseNumberSkeletonFromString=function(e,n){var i=[];try{i=cL(e)}catch{return this.error(ve.INVALID_NUMBER_SKELETON,n)}return{val:{type:ls.number,tokens:i,location:n,parsedOptions:this.shouldParseSkeletons?pL(i):{}},err:null}},t.prototype.tryParsePluralOrSelectOptions=function(e,n,i,o){for(var l,u=!1,d=[],h=new Set,p=o.value,g=o.location;;){if(p.length===0){var _=this.clonePosition();if(n!=="select"&&this.bumpIf("=")){var v=this.tryParseDecimalInteger(ve.EXPECT_PLURAL_ARGUMENT_SELECTOR,ve.INVALID_PLURAL_ARGUMENT_SELECTOR);if(v.err)return v;g=Ee(_,this.clonePosition()),p=this.message.slice(_.offset,this.offset())}else break}if(h.has(p))return this.error(n==="select"?ve.DUPLICATE_SELECT_ARGUMENT_SELECTOR:ve.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,g);p==="other"&&(u=!0),this.bumpSpace();var w=this.clonePosition();if(!this.bumpIf("{"))return this.error(n==="select"?ve.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:ve.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Ee(this.clonePosition(),this.clonePosition()));var C=this.parseMessage(e+1,n,i);if(C.err)return C;var R=this.tryParseArgumentClose(w);if(R.err)return R;d.push([p,{value:C.val,location:Ee(w,this.clonePosition())}]),h.add(p),this.bumpSpace(),l=this.parseIdentifierIfPossible(),p=l.value,g=l.location}return d.length===0?this.error(n==="select"?ve.EXPECT_SELECT_ARGUMENT_SELECTOR:ve.EXPECT_PLURAL_ARGUMENT_SELECTOR,Ee(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!u?this.error(ve.MISSING_OTHER_CLAUSE,Ee(this.clonePosition(),this.clonePosition())):{val:d,err:null}},t.prototype.tryParseDecimalInteger=function(e,n){var i=1,o=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(i=-1);for(var l=!1,u=0;!this.isEOF();){var d=this.char();if(d>=48&&d<=57)l=!0,u=u*10+(d-48),this.bump();else break}var h=Ee(o,this.clonePosition());return l?(u*=i,xL(u)?{val:u,err:null}:this.error(n,h)):this.error(e,h)},t.prototype.offset=function(){return this.position.offset},t.prototype.isEOF=function(){return this.offset()===this.message.length},t.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},t.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var n=gw(this.message,e);if(n===void 0)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return n},t.prototype.error=function(e,n){return{val:null,err:{kind:e,message:this.message,location:n}}},t.prototype.bump=function(){if(!this.isEOF()){var e=this.char();e===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},t.prototype.bumpIf=function(e){if(Xy(this.message,e,this.offset())){for(var n=0;n<e.length;n++)this.bump();return!0}return!1},t.prototype.bumpUntil=function(e){var n=this.offset(),i=this.message.indexOf(e,n);return i>=0?(this.bumpTo(i),!0):(this.bumpTo(this.message.length),!1)},t.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var n=this.offset();if(n===e)break;if(n>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},t.prototype.bumpSpace=function(){for(;!this.isEOF()&&yw(this.char());)this.bump()},t.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),n=this.offset(),i=this.message.charCodeAt(n+(e>=65536?2:1));return i??null},t}();function Kh(t){return t>=97&&t<=122||t>=65&&t<=90}function kL(t){return Kh(t)||t===47}function AL(t){return t===45||t===46||t>=48&&t<=57||t===95||t>=97&&t<=122||t>=65&&t<=90||t==183||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8255&&t<=8256||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}function yw(t){return t>=9&&t<=13||t===32||t===133||t>=8206&&t<=8207||t===8232||t===8233}function LL(t){return t>=33&&t<=35||t===36||t>=37&&t<=39||t===40||t===41||t===42||t===43||t===44||t===45||t>=46&&t<=47||t>=58&&t<=59||t>=60&&t<=62||t>=63&&t<=64||t===91||t===92||t===93||t===94||t===96||t===123||t===124||t===125||t===126||t===161||t>=162&&t<=165||t===166||t===167||t===169||t===171||t===172||t===174||t===176||t===177||t===182||t===187||t===191||t===215||t===247||t>=8208&&t<=8213||t>=8214&&t<=8215||t===8216||t===8217||t===8218||t>=8219&&t<=8220||t===8221||t===8222||t===8223||t>=8224&&t<=8231||t>=8240&&t<=8248||t===8249||t===8250||t>=8251&&t<=8254||t>=8257&&t<=8259||t===8260||t===8261||t===8262||t>=8263&&t<=8273||t===8274||t===8275||t>=8277&&t<=8286||t>=8592&&t<=8596||t>=8597&&t<=8601||t>=8602&&t<=8603||t>=8604&&t<=8607||t===8608||t>=8609&&t<=8610||t===8611||t>=8612&&t<=8613||t===8614||t>=8615&&t<=8621||t===8622||t>=8623&&t<=8653||t>=8654&&t<=8655||t>=8656&&t<=8657||t===8658||t===8659||t===8660||t>=8661&&t<=8691||t>=8692&&t<=8959||t>=8960&&t<=8967||t===8968||t===8969||t===8970||t===8971||t>=8972&&t<=8991||t>=8992&&t<=8993||t>=8994&&t<=9e3||t===9001||t===9002||t>=9003&&t<=9083||t===9084||t>=9085&&t<=9114||t>=9115&&t<=9139||t>=9140&&t<=9179||t>=9180&&t<=9185||t>=9186&&t<=9254||t>=9255&&t<=9279||t>=9280&&t<=9290||t>=9291&&t<=9311||t>=9472&&t<=9654||t===9655||t>=9656&&t<=9664||t===9665||t>=9666&&t<=9719||t>=9720&&t<=9727||t>=9728&&t<=9838||t===9839||t>=9840&&t<=10087||t===10088||t===10089||t===10090||t===10091||t===10092||t===10093||t===10094||t===10095||t===10096||t===10097||t===10098||t===10099||t===10100||t===10101||t>=10132&&t<=10175||t>=10176&&t<=10180||t===10181||t===10182||t>=10183&&t<=10213||t===10214||t===10215||t===10216||t===10217||t===10218||t===10219||t===10220||t===10221||t===10222||t===10223||t>=10224&&t<=10239||t>=10240&&t<=10495||t>=10496&&t<=10626||t===10627||t===10628||t===10629||t===10630||t===10631||t===10632||t===10633||t===10634||t===10635||t===10636||t===10637||t===10638||t===10639||t===10640||t===10641||t===10642||t===10643||t===10644||t===10645||t===10646||t===10647||t===10648||t>=10649&&t<=10711||t===10712||t===10713||t===10714||t===10715||t>=10716&&t<=10747||t===10748||t===10749||t>=10750&&t<=11007||t>=11008&&t<=11055||t>=11056&&t<=11076||t>=11077&&t<=11078||t>=11079&&t<=11084||t>=11085&&t<=11123||t>=11124&&t<=11125||t>=11126&&t<=11157||t===11158||t>=11159&&t<=11263||t>=11776&&t<=11777||t===11778||t===11779||t===11780||t===11781||t>=11782&&t<=11784||t===11785||t===11786||t===11787||t===11788||t===11789||t>=11790&&t<=11798||t===11799||t>=11800&&t<=11801||t===11802||t===11803||t===11804||t===11805||t>=11806&&t<=11807||t===11808||t===11809||t===11810||t===11811||t===11812||t===11813||t===11814||t===11815||t===11816||t===11817||t>=11818&&t<=11822||t===11823||t>=11824&&t<=11833||t>=11834&&t<=11835||t>=11836&&t<=11839||t===11840||t===11841||t===11842||t>=11843&&t<=11855||t>=11856&&t<=11857||t===11858||t>=11859&&t<=11903||t>=12289&&t<=12291||t===12296||t===12297||t===12298||t===12299||t===12300||t===12301||t===12302||t===12303||t===12304||t===12305||t>=12306&&t<=12307||t===12308||t===12309||t===12310||t===12311||t===12312||t===12313||t===12314||t===12315||t===12316||t===12317||t>=12318&&t<=12319||t===12320||t===12336||t===64830||t===64831||t>=65093&&t<=65094}function Qh(t){t.forEach(function(e){if(delete e.location,lw(e)||uw(e))for(var n in e.options)delete e.options[n].location,Qh(e.options[n].value);else sw(e)&&dw(e.style)||(ow(e)||aw(e))&&Vh(e.style)?delete e.style.location:cw(e)&&Qh(e.children)})}function OL(t,e){e===void 0&&(e={}),e=J({shouldParseSkeletons:!0,requiresOtherClause:!0},e);var n=new NL(t,e).parse();if(n.err){var i=SyntaxError(ve[n.err.kind]);throw i.location=n.err.location,i.originalMessage=n.err.message,i}return e!=null&&e.captureLocation||Qh(n.val),n.val}var Tn;(function(t){t.MISSING_VALUE="MISSING_VALUE",t.INVALID_VALUE="INVALID_VALUE",t.MISSING_INTL_API="MISSING_INTL_API"})(Tn||(Tn={}));var Hr=function(t){Xt(e,t);function e(n,i,o){var l=t.call(this,n)||this;return l.code=i,l.originalMessage=o,l}return e.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},e}(Error),e_=function(t){Xt(e,t);function e(n,i,o,l){return t.call(this,'Invalid values for "'.concat(n,'": "').concat(i,'". Options are "').concat(Object.keys(o).join('", "'),'"'),Tn.INVALID_VALUE,l)||this}return e}(Hr),ML=function(t){Xt(e,t);function e(n,i,o){return t.call(this,'Value for "'.concat(n,'" must be of type ').concat(i),Tn.INVALID_VALUE,o)||this}return e}(Hr),DL=function(t){Xt(e,t);function e(n,i){return t.call(this,'The intl string context variable "'.concat(n,'" was not provided to the string "').concat(i,'"'),Tn.MISSING_VALUE,i)||this}return e}(Hr),_t;(function(t){t[t.literal=0]="literal",t[t.object=1]="object"})(_t||(_t={}));function FL(t){return t.length<2?t:t.reduce(function(e,n){var i=e[e.length-1];return!i||i.type!==_t.literal||n.type!==_t.literal?e.push(n):i.value+=n.value,e},[])}function _w(t){return typeof t=="function"}function Ul(t,e,n,i,o,l,u){if(t.length===1&&qy(t[0]))return[{type:_t.literal,value:t[0].value}];for(var d=[],h=0,p=t;h<p.length;h++){var g=p[h];if(qy(g)){d.push({type:_t.literal,value:g.value});continue}if(oL(g)){typeof l=="number"&&d.push({type:_t.literal,value:n.getNumberFormat(e).format(l)});continue}var _=g.value;if(!(o&&_ in o))throw new DL(_,u);var v=o[_];if(sL(g)){(!v||typeof v=="string"||typeof v=="number")&&(v=typeof v=="string"||typeof v=="number"?String(v):""),d.push({type:typeof v=="string"?_t.literal:_t.object,value:v});continue}if(ow(g)){var w=typeof g.style=="string"?i.date[g.style]:Vh(g.style)?g.style.parsedOptions:void 0;d.push({type:_t.literal,value:n.getDateTimeFormat(e,w).format(v)});continue}if(aw(g)){var w=typeof g.style=="string"?i.time[g.style]:Vh(g.style)?g.style.parsedOptions:i.time.medium;d.push({type:_t.literal,value:n.getDateTimeFormat(e,w).format(v)});continue}if(sw(g)){var w=typeof g.style=="string"?i.number[g.style]:dw(g.style)?g.style.parsedOptions:void 0;w&&w.scale&&(v=v*(w.scale||1)),d.push({type:_t.literal,value:n.getNumberFormat(e,w).format(v)});continue}if(cw(g)){var C=g.children,R=g.value,A=o[R];if(!_w(A))throw new ML(R,"function",u);var N=Ul(C,e,n,i,o,l),M=A(N.map(function(L){return L.value}));Array.isArray(M)||(M=[M]),d.push.apply(d,M.map(function(L){return{type:typeof L=="string"?_t.literal:_t.object,value:L}}))}if(lw(g)){var F=g.options[v]||g.options.other;if(!F)throw new e_(g.value,v,Object.keys(g.options),u);d.push.apply(d,Ul(F.value,e,n,i,o));continue}if(uw(g)){var F=g.options["=".concat(v)];if(!F){if(!Intl.PluralRules)throw new Hr(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Tn.MISSING_INTL_API,u);var z=n.getPluralRules(e,{type:g.pluralType}).select(v-(g.offset||0));F=g.options[z]||g.options.other}if(!F)throw new e_(g.value,v,Object.keys(g.options),u);d.push.apply(d,Ul(F.value,e,n,i,o,v-(g.offset||0)));continue}}return FL(d)}function UL(t,e){return e?J(J(J({},t||{}),e||{}),Object.keys(t).reduce(function(n,i){return n[i]=J(J({},t[i]),e[i]||{}),n},{})):t}function HL(t,e){return e?Object.keys(t).reduce(function(n,i){return n[i]=UL(t[i],e[i]),n},J({},t)):t}function ah(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,n){t[e]=n}}}}}function BL(t){return t===void 0&&(t={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:En(function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return new((e=Intl.NumberFormat).bind.apply(e,Sn([void 0],n,!1)))},{cache:ah(t.number),strategy:wn.variadic}),getDateTimeFormat:En(function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return new((e=Intl.DateTimeFormat).bind.apply(e,Sn([void 0],n,!1)))},{cache:ah(t.dateTime),strategy:wn.variadic}),getPluralRules:En(function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return new((e=Intl.PluralRules).bind.apply(e,Sn([void 0],n,!1)))},{cache:ah(t.pluralRules),strategy:wn.variadic})}}var Ew=function(){function t(e,n,i,o){n===void 0&&(n=t.defaultLocale);var l=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(h){var p=l.formatToParts(h);if(p.length===1)return p[0].value;var g=p.reduce(function(_,v){return!_.length||v.type!==_t.literal||typeof _[_.length-1]!="string"?_.push(v.value):_[_.length-1]+=v.value,_},[]);return g.length<=1?g[0]||"":g},this.formatToParts=function(h){return Ul(l.ast,l.locales,l.formatters,l.formats,h,void 0,l.message)},this.resolvedOptions=function(){var h;return{locale:((h=l.resolvedLocale)===null||h===void 0?void 0:h.toString())||Intl.NumberFormat.supportedLocalesOf(l.locales)[0]}},this.getAst=function(){return l.ast},this.locales=n,this.resolvedLocale=t.resolveLocale(n),typeof e=="string"){if(this.message=e,!t.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var u=o||{};u.formatters;var d=Gn(u,["formatters"]);this.ast=t.__parse(e,J(J({},d),{locale:this.resolvedLocale}))}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=HL(t.formats,i),this.formatters=o&&o.formatters||BL(this.formatterCache)}return Object.defineProperty(t,"defaultLocale",{get:function(){return t.memoizedDefaultLocale||(t.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),t.memoizedDefaultLocale},enumerable:!1,configurable:!0}),t.memoizedDefaultLocale=null,t.resolveLocale=function(e){if(!(typeof Intl.Locale>"u")){var n=Intl.NumberFormat.supportedLocalesOf(e);return n.length>0?new Intl.Locale(n[0]):new Intl.Locale(typeof e=="string"?e:e[0])}},t.__parse=OL,t.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},t}(),vi;(function(t){t.FORMAT_ERROR="FORMAT_ERROR",t.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",t.INVALID_CONFIG="INVALID_CONFIG",t.MISSING_DATA="MISSING_DATA",t.MISSING_TRANSLATION="MISSING_TRANSLATION"})(vi||(vi={}));var ua=function(t){Xt(e,t);function e(n,i,o){var l=this,u=o?o instanceof Error?o:new Error(String(o)):void 0;return l=t.call(this,"[@formatjs/intl Error ".concat(n,"] ").concat(i,`
`).concat(u?`
`.concat(u.message,`
`).concat(u.stack):""))||this,l.code=n,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(l,e),l}return e}(Error),jL=function(t){Xt(e,t);function e(n,i){return t.call(this,vi.UNSUPPORTED_FORMATTER,n,i)||this}return e}(ua),zL=function(t){Xt(e,t);function e(n,i){return t.call(this,vi.INVALID_CONFIG,n,i)||this}return e}(ua),t_=function(t){Xt(e,t);function e(n,i){return t.call(this,vi.MISSING_DATA,n,i)||this}return e}(ua),Jt=function(t){Xt(e,t);function e(n,i,o){var l=t.call(this,vi.FORMAT_ERROR,"".concat(n,`
Locale: `).concat(i,`
`),o)||this;return l.locale=i,l}return e}(ua),lh=function(t){Xt(e,t);function e(n,i,o,l){var u=t.call(this,"".concat(n,`
MessageID: `).concat(o==null?void 0:o.id,`
Default Message: `).concat(o==null?void 0:o.defaultMessage,`
Description: `).concat(o==null?void 0:o.description,`
`),i,l)||this;return u.descriptor=o,u.locale=i,u}return e}(Jt),WL=function(t){Xt(e,t);function e(n,i){var o=t.call(this,vi.MISSING_TRANSLATION,'Missing message: "'.concat(n.id,'" for locale "').concat(i,'", using ').concat(n.defaultMessage?"default message (".concat(typeof n.defaultMessage=="string"?n.defaultMessage:n.defaultMessage.map(function(l){var u;return(u=l.value)!==null&&u!==void 0?u:JSON.stringify(l)}).join(),")"):"id"," as fallback."))||this;return o.descriptor=n,o}return e}(ua);function VL(t,e,n){if(n===void 0&&(n=Error),!t)throw new n(e)}function Es(t,e,n){return n===void 0&&(n={}),e.reduce(function(i,o){return o in t?i[o]=t[o]:o in n&&(i[o]=n[o]),i},{})}var $L=function(t){},GL=function(t){},ww={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:$L,onWarn:GL};function Sw(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function Zr(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,n){t[e]=n}}}}}function qL(t){t===void 0&&(t=Sw());var e=Intl.RelativeTimeFormat,n=Intl.ListFormat,i=Intl.DisplayNames,o=En(function(){for(var d,h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];return new((d=Intl.DateTimeFormat).bind.apply(d,Sn([void 0],h,!1)))},{cache:Zr(t.dateTime),strategy:wn.variadic}),l=En(function(){for(var d,h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];return new((d=Intl.NumberFormat).bind.apply(d,Sn([void 0],h,!1)))},{cache:Zr(t.number),strategy:wn.variadic}),u=En(function(){for(var d,h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];return new((d=Intl.PluralRules).bind.apply(d,Sn([void 0],h,!1)))},{cache:Zr(t.pluralRules),strategy:wn.variadic});return{getDateTimeFormat:o,getNumberFormat:l,getMessageFormat:En(function(d,h,p,g){return new Ew(d,h,p,J({formatters:{getNumberFormat:l,getDateTimeFormat:o,getPluralRules:u}},g||{}))},{cache:Zr(t.message),strategy:wn.variadic}),getRelativeTimeFormat:En(function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];return new(e.bind.apply(e,Sn([void 0],d,!1)))},{cache:Zr(t.relativeTime),strategy:wn.variadic}),getPluralRules:u,getListFormat:En(function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];return new(n.bind.apply(n,Sn([void 0],d,!1)))},{cache:Zr(t.list),strategy:wn.variadic}),getDisplayNames:En(function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];return new(i.bind.apply(i,Sn([void 0],d,!1)))},{cache:Zr(t.displayNames),strategy:wn.variadic})}}function cp(t,e,n,i){var o=t&&t[e],l;if(o&&(l=o[n]),l)return l;i(new jL("No ".concat(e," format named: ").concat(n)))}function bl(t,e){return Object.keys(t).reduce(function(n,i){return n[i]=J({timeZone:e},t[i]),n},{})}function n_(t,e){var n=Object.keys(J(J({},t),e));return n.reduce(function(i,o){return i[o]=J(J({},t[o]||{}),e[o]||{}),i},{})}function r_(t,e){if(!e)return t;var n=Ew.formats;return J(J(J({},n),t),{date:n_(bl(n.date,e),bl(t.date||{},e)),time:n_(bl(n.time,e),bl(t.time||{},e))})}var Yh=function(t,e,n,i,o){var l=t.locale,u=t.formats,d=t.messages,h=t.defaultLocale,p=t.defaultFormats,g=t.fallbackOnEmptyString,_=t.onError,v=t.timeZone,w=t.defaultRichTextElements;n===void 0&&(n={id:""});var C=n.id,R=n.defaultMessage;VL(!!C,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.github.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.github.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.github.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var A=String(C),N=d&&Object.prototype.hasOwnProperty.call(d,A)&&d[A];if(Array.isArray(N)&&N.length===1&&N[0].type===Me.literal)return N[0].value;if(!i&&N&&typeof N=="string"&&!w)return N.replace(/'\{(.*?)\}'/gi,"{$1}");if(i=J(J({},w),i||{}),u=r_(u,v),p=r_(p,v),!N){if(g===!1&&N==="")return N;if((!R||l&&l.toLowerCase()!==h.toLowerCase())&&_(new WL(n,l)),R)try{var M=e.getMessageFormat(R,h,p,o);return M.format(i)}catch(F){return _(new lh('Error formatting default message for: "'.concat(A,'", rendering default message verbatim'),l,n,F)),typeof R=="string"?R:A}return A}try{var M=e.getMessageFormat(N,l,u,J({formatters:e},o||{}));return M.format(i)}catch(F){_(new lh('Error formatting message: "'.concat(A,'", using ').concat(R?"default message":"id"," as fallback."),l,n,F))}if(R)try{var M=e.getMessageFormat(R,h,p,o);return M.format(i)}catch(F){_(new lh('Error formatting the default message for: "'.concat(A,'", rendering message verbatim'),l,n,F))}return typeof N=="string"?N:typeof R=="string"?R:A},KL=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function ca(t,e,n,i){var o=t.locale,l=t.formats,u=t.onError,d=t.timeZone;i===void 0&&(i={});var h=i.format,p=J(J({},d&&{timeZone:d}),h&&cp(l,e,h,u)),g=Es(i,KL,p);return e==="time"&&!g.hour&&!g.minute&&!g.second&&!g.timeStyle&&!g.dateStyle&&(g=J(J({},g),{hour:"numeric",minute:"numeric"})),n(o,g)}function QL(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=n[0],l=n[1],u=l===void 0?{}:l,d=typeof o=="string"?new Date(o||0):o;try{return ca(t,"date",e,u).format(d)}catch(h){t.onError(new Jt("Error formatting date.",t.locale,h))}return String(d)}function YL(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=n[0],l=n[1],u=l===void 0?{}:l,d=typeof o=="string"?new Date(o||0):o;try{return ca(t,"time",e,u).format(d)}catch(h){t.onError(new Jt("Error formatting time.",t.locale,h))}return String(d)}function XL(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=n[0],l=n[1],u=n[2],d=u===void 0?{}:u,h=typeof o=="string"?new Date(o||0):o,p=typeof l=="string"?new Date(l||0):l;try{return ca(t,"dateTimeRange",e,d).formatRange(h,p)}catch(g){t.onError(new Jt("Error formatting date time range.",t.locale,g))}return String(h)}function JL(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=n[0],l=n[1],u=l===void 0?{}:l,d=typeof o=="string"?new Date(o||0):o;try{return ca(t,"date",e,u).formatToParts(d)}catch(h){t.onError(new Jt("Error formatting date.",t.locale,h))}return[]}function ZL(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=n[0],l=n[1],u=l===void 0?{}:l,d=typeof o=="string"?new Date(o||0):o;try{return ca(t,"time",e,u).formatToParts(d)}catch(h){t.onError(new Jt("Error formatting time.",t.locale,h))}return[]}var eO=["style","type","fallback","languageDisplay"];function tO(t,e,n,i){var o=t.locale,l=t.onError,u=Intl.DisplayNames;u||l(new Hr(`Intl.DisplayNames is not available in this environment.
Try polyfilling it using "@formatjs/intl-displaynames"
`,Tn.MISSING_INTL_API));var d=Es(i,eO);try{return e(o,d).of(n)}catch(h){l(new Jt("Error formatting display name.",o,h))}}var nO=["type","style"],i_=Date.now();function rO(t){return"".concat(i_,"_").concat(t,"_").concat(i_)}function iO(t,e,n,i){i===void 0&&(i={});var o=Cw(t,e,n,i).reduce(function(l,u){var d=u.value;return typeof d!="string"?l.push(d):typeof l[l.length-1]=="string"?l[l.length-1]+=d:l.push(d),l},[]);return o.length===1?o[0]:o.length===0?"":o}function Cw(t,e,n,i){var o=t.locale,l=t.onError;i===void 0&&(i={});var u=Intl.ListFormat;u||l(new Hr(`Intl.ListFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-listformat"
`,Tn.MISSING_INTL_API));var d=Es(i,nO);try{var h={},p=n.map(function(g,_){if(typeof g=="object"){var v=rO(_);return h[v]=g,v}return String(g)});return e(o,d).formatToParts(p).map(function(g){return g.type==="literal"?g:J(J({},g),{value:h[g.value]||g.value})})}catch(g){l(new Jt("Error formatting list.",o,g))}return n}var sO=["type"];function oO(t,e,n,i){var o=t.locale,l=t.onError;i===void 0&&(i={}),Intl.PluralRules||l(new Hr(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Tn.MISSING_INTL_API));var u=Es(i,sO);try{return e(o,u).select(n)}catch(d){l(new Jt("Error formatting plural.",o,d))}return"other"}var aO=["numeric","style"];function lO(t,e,n){var i=t.locale,o=t.formats,l=t.onError;n===void 0&&(n={});var u=n.format,d=!!u&&cp(o,"relative",u,l)||{},h=Es(n,aO,d);return e(i,h)}function uO(t,e,n,i,o){o===void 0&&(o={}),i||(i="second");var l=Intl.RelativeTimeFormat;l||t.onError(new Hr(`Intl.RelativeTimeFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-relativetimeformat"
`,Tn.MISSING_INTL_API));try{return lO(t,e,o).format(n,i)}catch(u){t.onError(new Jt("Error formatting relative time.",t.locale,u))}return String(n)}var cO=["style","currency","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem","trailingZeroDisplay","roundingPriority","roundingIncrement","roundingMode"];function Iw(t,e,n){var i=t.locale,o=t.formats,l=t.onError;n===void 0&&(n={});var u=n.format,d=u&&cp(o,"number",u,l)||{},h=Es(n,cO,d);return e(i,h)}function dO(t,e,n,i){i===void 0&&(i={});try{return Iw(t,e,i).format(n)}catch(o){t.onError(new Jt("Error formatting number.",t.locale,o))}return String(n)}function hO(t,e,n,i){i===void 0&&(i={});try{return Iw(t,e,i).formatToParts(n)}catch(o){t.onError(new Jt("Error formatting number.",t.locale,o))}return[]}function fO(t){var e=t?t[Object.keys(t)[0]]:void 0;return typeof e=="string"}function pO(t){t.onWarn&&t.defaultRichTextElements&&fO(t.messages||{})&&t.onWarn(`[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. 
Please consider using "@formatjs/cli" to pre-compile your messages for performance.
For more details see https://formatjs.github.io/docs/getting-started/message-distribution`)}function mO(t,e){var n=qL(e),i=J(J({},ww),t),o=i.locale,l=i.defaultLocale,u=i.onError;return o?!Intl.NumberFormat.supportedLocalesOf(o).length&&u?u(new t_('Missing locale data for locale: "'.concat(o,'" in Intl.NumberFormat. Using default locale: "').concat(l,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(o).length&&u&&u(new t_('Missing locale data for locale: "'.concat(o,'" in Intl.DateTimeFormat. Using default locale: "').concat(l,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):(u&&u(new zL('"locale" was not configured, using "'.concat(l,'" as fallback. See https://formatjs.github.io/docs/react-intl/api#intlshape for more details'))),i.locale=i.defaultLocale||"en"),pO(i),J(J({},i),{formatters:n,formatNumber:dO.bind(null,i,n.getNumberFormat),formatNumberToParts:hO.bind(null,i,n.getNumberFormat),formatRelativeTime:uO.bind(null,i,n.getRelativeTimeFormat),formatDate:QL.bind(null,i,n.getDateTimeFormat),formatDateToParts:JL.bind(null,i,n.getDateTimeFormat),formatTime:YL.bind(null,i,n.getDateTimeFormat),formatDateTimeRange:XL.bind(null,i,n.getDateTimeFormat),formatTimeToParts:ZL.bind(null,i,n.getDateTimeFormat),formatPlural:oO.bind(null,i,n.getPluralRules),formatMessage:Yh.bind(null,i,n),$t:Yh.bind(null,i,n),formatList:iO.bind(null,i,n.getListFormat),formatListToParts:Cw.bind(null,i,n.getListFormat),formatDisplayName:tO.bind(null,i,n.getDisplayNames)})}function gO(t,e,n){if(n===void 0&&(n=Error),!t)throw new n(e)}function Tw(t){gO(t,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var xw=J(J({},ww),{textComponent:P.Fragment}),vO={key:42},yO=function(t){return P.isValidElement(t)?P.createElement(P.Fragment,vO,t):t},_O=function(t){var e;return(e=P.Children.map(t,yO))!==null&&e!==void 0?e:[]};function EO(t){return function(e){return t(P.Children.toArray(e))}}function Xh(t,e){if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t),i=Object.keys(e),o=n.length;if(i.length!==o)return!1;for(var l=0;l<o;l++){var u=n[l];if(t[u]!==e[u]||!Object.prototype.hasOwnProperty.call(e,u))return!1}return!0}var uh={exports:{}},Te={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function wO(){if(s_)return Te;s_=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,l=t?Symbol.for("react.profiler"):60114,u=t?Symbol.for("react.provider"):60109,d=t?Symbol.for("react.context"):60110,h=t?Symbol.for("react.async_mode"):60111,p=t?Symbol.for("react.concurrent_mode"):60111,g=t?Symbol.for("react.forward_ref"):60112,_=t?Symbol.for("react.suspense"):60113,v=t?Symbol.for("react.suspense_list"):60120,w=t?Symbol.for("react.memo"):60115,C=t?Symbol.for("react.lazy"):60116,R=t?Symbol.for("react.block"):60121,A=t?Symbol.for("react.fundamental"):60117,N=t?Symbol.for("react.responder"):60118,M=t?Symbol.for("react.scope"):60119;function F(L){if(typeof L=="object"&&L!==null){var $=L.$$typeof;switch($){case e:switch(L=L.type,L){case h:case p:case i:case l:case o:case _:return L;default:switch(L=L&&L.$$typeof,L){case d:case g:case C:case w:case u:return L;default:return $}}case n:return $}}}function z(L){return F(L)===p}return Te.AsyncMode=h,Te.ConcurrentMode=p,Te.ContextConsumer=d,Te.ContextProvider=u,Te.Element=e,Te.ForwardRef=g,Te.Fragment=i,Te.Lazy=C,Te.Memo=w,Te.Portal=n,Te.Profiler=l,Te.StrictMode=o,Te.Suspense=_,Te.isAsyncMode=function(L){return z(L)||F(L)===h},Te.isConcurrentMode=z,Te.isContextConsumer=function(L){return F(L)===d},Te.isContextProvider=function(L){return F(L)===u},Te.isElement=function(L){return typeof L=="object"&&L!==null&&L.$$typeof===e},Te.isForwardRef=function(L){return F(L)===g},Te.isFragment=function(L){return F(L)===i},Te.isLazy=function(L){return F(L)===C},Te.isMemo=function(L){return F(L)===w},Te.isPortal=function(L){return F(L)===n},Te.isProfiler=function(L){return F(L)===l},Te.isStrictMode=function(L){return F(L)===o},Te.isSuspense=function(L){return F(L)===_},Te.isValidElementType=function(L){return typeof L=="string"||typeof L=="function"||L===i||L===p||L===l||L===o||L===_||L===v||typeof L=="object"&&L!==null&&(L.$$typeof===C||L.$$typeof===w||L.$$typeof===u||L.$$typeof===d||L.$$typeof===g||L.$$typeof===A||L.$$typeof===N||L.$$typeof===M||L.$$typeof===R)},Te.typeOf=F,Te}var o_;function SO(){return o_||(o_=1,uh.exports=wO()),uh.exports}var ch,a_;function CO(){if(a_)return ch;a_=1;var t=SO(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[t.ForwardRef]=i,l[t.Memo]=o;function u(C){return t.isMemo(C)?o:l[C.$$typeof]||e}var d=Object.defineProperty,h=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,_=Object.getPrototypeOf,v=Object.prototype;function w(C,R,A){if(typeof R!="string"){if(v){var N=_(R);N&&N!==v&&w(C,N,A)}var M=h(R);p&&(M=M.concat(p(R)));for(var F=u(C),z=u(R),L=0;L<M.length;++L){var $=M[L];if(!n[$]&&!(A&&A[$])&&!(z&&z[$])&&!(F&&F[$])){var X=g(R,$);try{d(C,$,X)}catch{}}}}return C}return ch=w,ch}CO();var dp=typeof window<"u"&&!window.__REACT_INTL_BYPASS_GLOBAL_CONTEXT__?window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=P.createContext(null)):P.createContext(null);dp.Consumer;var IO=dp.Provider,TO=IO,xO=dp;function ws(){var t=P.useContext(xO);return Tw(t),t}var Jh;(function(t){t.formatDate="FormattedDate",t.formatTime="FormattedTime",t.formatNumber="FormattedNumber",t.formatList="FormattedList",t.formatDisplayName="FormattedDisplayName"})(Jh||(Jh={}));var Zh;(function(t){t.formatDate="FormattedDateParts",t.formatTime="FormattedTimeParts",t.formatNumber="FormattedNumberParts",t.formatList="FormattedListParts"})(Zh||(Zh={}));function Rw(t){var e=function(n){var i=ws(),o=n.value,l=n.children,u=Gn(n,["value","children"]),d=typeof o=="string"?new Date(o||0):o,h=t==="formatDate"?i.formatDateToParts(d,u):i.formatTimeToParts(d,u);return l(h)};return e.displayName=Zh[t],e}function da(t){var e=function(n){var i=ws(),o=n.value,l=n.children,u=Gn(n,["value","children"]),d=i[t](o,u);if(typeof l=="function")return l(d);var h=i.textComponent||P.Fragment;return P.createElement(h,null,d)};return e.displayName=Jh[t],e}function Pw(t){return t&&Object.keys(t).reduce(function(e,n){var i=t[n];return e[n]=_w(i)?EO(i):i,e},{})}var l_=function(t,e,n,i){for(var o=[],l=4;l<arguments.length;l++)o[l-4]=arguments[l];var u=Pw(i),d=Yh.apply(void 0,Sn([t,e,n,u],o,!1));return Array.isArray(d)?_O(d):d},u_=function(t,e){var n=t.defaultRichTextElements,i=Gn(t,["defaultRichTextElements"]),o=Pw(n),l=mO(J(J(J({},xw),i),{defaultRichTextElements:o}),e),u={locale:l.locale,timeZone:l.timeZone,fallbackOnEmptyString:l.fallbackOnEmptyString,formats:l.formats,defaultLocale:l.defaultLocale,defaultFormats:l.defaultFormats,messages:l.messages,onError:l.onError,defaultRichTextElements:o};return J(J({},l),{formatMessage:l_.bind(null,u,l.formatters),$t:l_.bind(null,u,l.formatters)})};function RO(t,e){var n=t.values,i=Gn(t,["values"]),o=e.values,l=Gn(e,["values"]);return Xh(o,n)&&Xh(i,l)}function bw(t){var e=ws(),n=e.formatMessage,i=e.textComponent,o=i===void 0?P.Fragment:i,l=t.id,u=t.description,d=t.defaultMessage,h=t.values,p=t.children,g=t.tagName,_=g===void 0?o:g,v=t.ignoreTag,w={id:l,description:u,defaultMessage:d},C=n(w,h,{ignoreTag:v});return typeof p=="function"?p(Array.isArray(C)?C:[C]):_?P.createElement(_,null,C):P.createElement(P.Fragment,null,C)}bw.displayName="FormattedMessage";var ie=P.memo(bw,RO);ie.displayName="MemoizedFormattedMessage";function dh(t){return{locale:t.locale,timeZone:t.timeZone,fallbackOnEmptyString:t.fallbackOnEmptyString,formats:t.formats,textComponent:t.textComponent,messages:t.messages,defaultLocale:t.defaultLocale,defaultFormats:t.defaultFormats,onError:t.onError,onWarn:t.onWarn,wrapRichTextChunksInFragment:t.wrapRichTextChunksInFragment,defaultRichTextElements:t.defaultRichTextElements}}var PO=function(t){Xt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cache=Sw(),n.state={cache:n.cache,intl:u_(dh(n.props),n.cache),prevConfig:dh(n.props)},n}return e.getDerivedStateFromProps=function(n,i){var o=i.prevConfig,l=i.cache,u=dh(n);return Xh(o,u)?null:{intl:u_(u,l),prevConfig:u}},e.prototype.render=function(){return Tw(this.state.intl),P.createElement(TO,{value:this.state.intl},this.props.children)},e.displayName="IntlProvider",e.defaultProps=xw,e}(P.PureComponent);da("formatDate");da("formatTime");da("formatNumber");da("formatList");da("formatDisplayName");Rw("formatDate");Rw("formatTime");const bO=()=>{const{user:t,roles:e}=pi(d=>d.auth),n=pi(d=>d.i18n.locale),i=Lu(),o=qo(),l=async()=>{try{await os.signOut(),i(GA()),o("/login")}catch(d){console.error("Error al cerrar sesión:",d)}},u=d=>{i(YA(d.target.value))};return S.jsx("nav",{className:"navbar",children:S.jsxs("ul",{className:"nav-menu",children:[t&&e&&e.includes(Ir.USER)&&S.jsx("li",{children:S.jsx(ri,{to:"/dashboard2",children:S.jsx(ie,{id:"navbar.myIncidents"})})}),t&&e&&e.includes(Ir.ADMIN)&&S.jsxs(S.Fragment,{children:[S.jsx("li",{children:S.jsx(ri,{to:"/dashboard",children:S.jsx(ie,{id:"navbar.incidents"})})}),S.jsx("li",{children:S.jsx(ri,{to:"/admin",children:S.jsx(ie,{id:"navbar.userRoles"})})})]}),!t&&S.jsx("li",{children:S.jsx(ri,{to:"/login",children:S.jsx(ie,{id:"navbar.login"})})}),!t&&S.jsx("li",{children:S.jsx(ri,{to:"/register",children:S.jsx(ie,{id:"navbar.register"})})}),t&&S.jsxs(S.Fragment,{children:[S.jsx("li",{children:S.jsxs("select",{value:n,onChange:u,className:"ml-4 p-1 rounded bg-gray-700 text-white border border-gray-600",children:[S.jsx("option",{value:"es",children:"Español"}),S.jsx("option",{value:"en",children:"English"})]})}),S.jsx("li",{children:S.jsx("button",{onClick:l,children:S.jsx(ie,{id:"navbar.logout"})})})]})]})})},c_=({children:t})=>{const{user:e,roles:n,isLoading:i}=pi(o=>o.auth);return i?S.jsx("div",{children:"Cargando autenticación..."}):!e||!n||!n.includes(Ir.ADMIN)?S.jsx(I_,{to:"/",replace:!0}):S.jsx(S.Fragment,{children:t})},NO=({children:t})=>{const{user:e,isLoading:n}=pi(i=>i.auth);return n?S.jsx("div",{children:"Cargando autenticación..."}):e?t:S.jsx(I_,{to:"/login",replace:!0})},kO=()=>{const[t,e]=P.useState(""),[n,i]=P.useState(""),[o,l]=P.useState(""),u=qo(),d=Lu(),h=ws(),p=async g=>{g.preventDefault(),l(""),d(Dn(null)),d(oi(!0));try{const _=await os.signIn(t,n);console.log("Usuario autenticado:",_.user),u("/")}catch(_){console.error("Error al iniciar sesión:",_),l(_.message),d(Dn(_.message))}finally{d(oi(!1))}};return S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:S.jsxs("form",{onSubmit:p,className:"bg-white p-8 rounded-lg shadow-md w-full max-w-sm",children:[S.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-6",children:S.jsx(ie,{id:"login.title"})}),S.jsx("div",{className:"mb-4",children:S.jsx("input",{type:"email",placeholder:h.formatMessage({id:"login.placeholder.email"}),value:t,onChange:g=>e(g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),S.jsx("div",{className:"mb-6",children:S.jsx("input",{type:"password",placeholder:h.formatMessage({id:"login.placeholder.password"}),value:n,onChange:g=>i(g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),S.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-200",children:S.jsx(ie,{id:"login.button.login"})}),o&&S.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:o})]})})},AO=()=>{const[t,e]=P.useState(""),[n,i]=P.useState(""),[o,l]=P.useState(""),[u,d]=P.useState(""),h=qo(),p=Lu(),g=ws(),_=async v=>{v.preventDefault(),l(""),d(""),p(Dn(null)),p(oi(!0));try{const w=await os.signUp(t,n);console.log("Usuario registrado:",w.user),await os.setUserRoles(w.user.uid,{email:w.user.email,roles:{admin:!1}}),d(g.formatMessage({id:"register.successMessage"})),setTimeout(()=>{h("/")},2e3)}catch(w){console.error("Error al registrarse:",w),l(w.message),p(Dn(w.message))}finally{p(oi(!1))}};return S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:S.jsxs("form",{onSubmit:_,className:"bg-white p-8 rounded-lg shadow-md w-full max-w-sm",children:[S.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-6",children:S.jsx(ie,{id:"register.title"})}),S.jsx("div",{className:"mb-4",children:S.jsx("input",{type:"email",placeholder:g.formatMessage({id:"register.placeholder.email"}),value:t,onChange:v=>e(v.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),S.jsx("div",{className:"mb-6",children:S.jsx("input",{type:"password",placeholder:g.formatMessage({id:"register.placeholder.password"}),value:n,onChange:v=>i(v.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),S.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-200",children:S.jsx(ie,{id:"register.button.register"})}),o&&S.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:o}),u&&S.jsx("p",{className:"text-green-500 text-sm mt-4 text-center",children:u})]})})};function d_(){return S.jsx(S.Fragment,{children:S.jsx("div",{children:S.jsx(ie,{id:"welcome.message"})})})}class LO{constructor(){Gi(this,"levels");Gi(this,"currentLevel");this.levels=["debug","info","warn","error"],this.currentLevel="debug"}setLevel(e){this.levels.includes(e)?this.currentLevel=e:console.error(`Nivel de log no válido: ${e}`)}log(e,n){const i=this.levels.indexOf(e),o=this.levels.indexOf(this.currentLevel);if(i>=o){const l=new Date().toISOString();console[e](`[${e.toUpperCase()}] ${l}: ${n}`)}}debug(e){this.log("debug",e)}info(e){this.log("info",e)}warn(e){this.log("warn",e)}error(e){this.log("error",e)}}const qe=new LO;var Nw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},h_=Cr.createContext&&Cr.createContext(Nw),OO=["attr","size","title"];function MO(t,e){if(t==null)return{};var n=DO(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function DO(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},hu.apply(this,arguments)}function f_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function fu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f_(Object(n),!0).forEach(function(i){FO(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function FO(t,e,n){return e=UO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UO(t){var e=HO(t,"string");return typeof e=="symbol"?e:e+""}function HO(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kw(t){return t&&t.map((e,n)=>Cr.createElement(e.tag,fu({key:n},e.attr),kw(e.child)))}function BO(t){return e=>Cr.createElement(jO,hu({attr:fu({},t.attr)},e),kw(t.child))}function jO(t){var e=n=>{var{attr:i,size:o,title:l}=t,u=MO(t,OO),d=o||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Cr.createElement("svg",hu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:h,style:fu(fu({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Cr.createElement("title",null,l),t.children)};return h_!==void 0?Cr.createElement(h_.Consumer,null,n=>e(n)):e(Nw)}function zO(t){return BO({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(t)}const WO=({incident:t,onIncidentUpdated:e,onIncidentClick:n,onIncidentDeleted:i})=>{const o=async()=>{const u=Qt(Ft),d=Kt(u,`incidents/${t.id}`);try{await ku(d,{status:!1}),qe.info("Incident new status Closed"),e()}catch(h){qe.error("Error closing incident:"+h)}},l=async()=>{if(window.confirm("¿Estás seguro de que quieres eliminar este incidente? Esta acción es irreversible.")){const u=Qt(Ft),d=Kt(u,`incidents/${t.id}`);try{await mk(d),qe.info(`Incident with ID ${t.id} deleted successfully.`),i(t.id)}catch(h){qe.error("Error deleting incident:"+h)}}};return S.jsx(S.Fragment,{children:S.jsxs("div",{className:"incident-item",children:[t.status?S.jsxs("div",{className:"incident-id",onClick:()=>n(t),style:{cursor:"pointer"},children:["INC",t.id]}):S.jsxs("div",{className:"incident-id-close",onClick:()=>n(t),style:{cursor:"pointer"},children:["INC",t.id]}),S.jsx("div",{className:"incident-title",onClick:()=>n(t),style:{cursor:"pointer"},children:t.title}),S.jsx("div",{className:"incident-path",onClick:()=>n(t),style:{cursor:"pointer"},children:t.path}),S.jsx("div",{className:"incident-assigned",onClick:()=>n(t),style:{cursor:"pointer"},children:t.assignedUser}),S.jsx("div",{className:"incident-date",onClick:()=>n(t),style:{cursor:"pointer"},children:t.fecha}),S.jsx("div",{className:"incident-action",children:t.status?S.jsxs(S.Fragment,{children:[S.jsx("button",{className:"close-incident-button",onClick:o,children:S.jsx(ie,{id:"incidentItem.closeButton"})}),S.jsx("button",{className:"delete-incident-button",onClick:l,style:{marginLeft:"10px",backgroundColor:"#dc3545",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:S.jsx(zO,{})})]}):S.jsx("span",{className:"incident-closed",children:S.jsx(ie,{id:"incidentItem.closedStatus"})})})]})})},VO=()=>{const[t,e]=P.useState([]),[n,i]=P.useState(!1),[o,l]=P.useState(""),[u,d]=P.useState(""),[h,p]=P.useState(""),[g,_]=P.useState([]),[v,w]=P.useState(!0),[C,R]=P.useState(!0),[A,N]=P.useState(null),[M,F]=P.useState(!1),[z,L]=P.useState(!1),[$,X]=P.useState(null),[de,ee]=P.useState(""),Se=ws(),Ct=()=>{qe.info("Open create Modal"),i(!0)},pt=()=>{qe.info("Close create Modal"),i(!1),l(""),d(""),p("")},mt=H=>{qe.info("Open edit Modal"),X(H),L(!0)},It=()=>{qe.info("Close edit Modal"),L(!1),X(null)},Tt=H=>{const{name:x,value:D}=H.target;switch(x){case"title":l(D);break;case"path":d(D);break;case"assignedUser":p(D);break}},ut=async()=>{if(o&&u&&h){const H=Qt(Ft),x=Kt(H,"incidents"),D={fecha:new Date().toLocaleString("es-ES"),assignedUser:h,title:o,path:u,status:!0};try{await pk(x,D),qe.info("Adding new Incident"),pt(),F(te=>!te)}catch(te){qe.error("Error adding incident:"+te),N("Error al agregar el incidente.")}}else qe.info("Missing param"),alert(Se.formatMessage({id:"incidentList.createModal.missingFieldsAlert"}))},De=()=>{qe.info("Refresh list"),F(H=>!H)},G=H=>{e(x=>x.filter(D=>D.id!==H))},se=async()=>{if($){const H=Qt(Ft),x=Kt(H,`incidents/${$.id}`);try{const D={title:$.title,path:$.path,assignedUser:$.assignedUser};await ku(x,D),qe.info("Update Incident "+D.title),It(),F(te=>!te)}catch(D){qe.error("Error updating incident:"+D),N("Error al actualizar el incidente.")}}};return P.useEffect(()=>{const H=async()=>{w(!0);const D=Qt(Ft),te=Kt(D,"incidents"),le=BE(te,HE("fecha"));try{const ce=await Wo(le);if(ce.exists()){const he=ce.val(),ye=Object.keys(he).map(_e=>({id:_e,...he[_e]})).sort((_e,be)=>{const gt=x(_e.fecha);return x(be.fecha).getTime()-gt.getTime()});qe.info("Get Incidents: "+ye),e(ye)}else e([]),qe.warn("No incidents data available")}catch(ce){qe.error("Error fetching incidents:"+ce),N("Error al cargar los incidentes.")}finally{w(!1)}},x=D=>{if(!D)return new Date(0);const te=D.split(", "),le=te[0].split("/"),ce=te[1].split(":");return new Date(parseInt(le[2],10),parseInt(le[1],10)-1,parseInt(le[0],10),parseInt(ce[0],10),parseInt(ce[1],10),parseInt(ce[2],10))};H()},[M]),P.useEffect(()=>{(async()=>{var te;R(!0);const x=Qt(Ft),D=Kt(x,"users");try{const le=await Wo(D);if(le.exists()){const ce=le.val(),he=[];for(const ye in ce)Object.prototype.hasOwnProperty.call(ce,ye)&&!((te=ce[ye].roles)!=null&&te.admin)&&he.push({uid:ye,...ce[ye]});qe.info("Get Users: "+he),_(he)}else _([]),qe.warn("No users data available")}catch(le){qe.error("Error fetching users:"+le),N("Error al cargar los usuarios.")}finally{R(!1)}})()},[]),v||C?S.jsx("div",{children:S.jsx(ie,{id:"common.loading"})}):A?S.jsxs("div",{children:[S.jsx(ie,{id:"common.errorPrefix"})," ",A]}):S.jsxs("div",{className:"incident-list-container",children:[S.jsxs("div",{className:"incident-list-header",children:[S.jsxs("div",{className:"search-input-wrapper",children:[S.jsx("svg",{className:"search-icon","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:S.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-2-2m0-7a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z"})}),S.jsx("input",{type:"text",className:"search-input",placeholder:Se.formatMessage({id:"common.searchPlaceholder"}),value:de,onChange:H=>ee(H.target.value)})]}),S.jsx("button",{onClick:Ct,className:"add-incident-button",children:S.jsx(ie,{id:"incidentList.addIncidentButton"})})]}),S.jsxs("div",{className:"incident-list-grid header-row",children:[S.jsx("div",{className:"grid-item",children:S.jsx(ie,{id:"incidentList.tableHeader.id"})}),S.jsx("div",{className:"grid-item",children:S.jsx(ie,{id:"incidentList.tableHeader.title"})}),S.jsx("div",{className:"grid-item",children:S.jsx(ie,{id:"incidentList.tableHeader.location"})}),S.jsx("div",{className:"grid-item",children:S.jsx(ie,{id:"incidentList.tableHeader.assignedTo"})}),S.jsx("div",{className:"grid-item",children:S.jsx(ie,{id:"incidentList.tableHeader.date"})}),S.jsx("div",{className:"grid-item",children:S.jsx(ie,{id:"incidentList.tableHeader.action"})})]}),t.filter(H=>H.title.toLowerCase().includes(de.toLowerCase())||H.path.toLowerCase().includes(de.toLowerCase())).map(H=>S.jsx(WO,{incident:H,onIncidentUpdated:De,onIncidentClick:mt,onIncidentDeleted:G},H.id)),n&&S.jsx("div",{className:"modal-overlay",children:S.jsxs("div",{className:"modal",children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h2",{children:S.jsx(ie,{id:"incidentList.createModal.title"})}),S.jsx("button",{onClick:pt,children:S.jsxs("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),S.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),S.jsxs("div",{className:"modal-content",children:[S.jsx("label",{htmlFor:"title",children:S.jsx(ie,{id:"incidentList.createModal.field.titleLabel"})}),S.jsx("input",{type:"text",id:"title",name:"title",value:o,onChange:Tt}),S.jsx("label",{htmlFor:"path",children:S.jsx(ie,{id:"incidentList.createModal.field.locationLabel"})}),S.jsx("input",{type:"text",id:"path",name:"path",value:u,onChange:Tt}),S.jsx("label",{htmlFor:"assignedUser",children:S.jsx(ie,{id:"incidentList.createModal.field.assignedPersonLabel"})}),S.jsxs("select",{id:"assignedUser",name:"assignedUser",value:h,onChange:Tt,children:[S.jsx("option",{value:"",children:S.jsx(ie,{id:"incidentList.createModal.field.selectUserOption"})}),g.map(H=>S.jsx("option",{value:H.email,children:H.email},H.uid))]}),S.jsx("div",{className:"modal-footer",children:S.jsx("button",{onClick:ut,className:"confirm-button",children:S.jsx(ie,{id:"incidentList.createModal.addButton"})})})]})]})}),z&&$&&S.jsx("div",{className:"modal-overlay",children:S.jsxs("div",{className:"modal",children:[S.jsxs("div",{className:"modal-header",children:[S.jsxs("h2",{children:[S.jsx(ie,{id:"incidentList.editModal.titlePrefix",values:{id:$.id}})," INC",$.id]}),S.jsx("button",{onClick:It,children:S.jsxs("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),S.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),S.jsxs("div",{className:"modal-content",children:[S.jsx("label",{htmlFor:"editTitle",children:S.jsx(ie,{id:"incidentList.editModal.field.titleLabel"})}),S.jsx("input",{type:"text",id:"editTitle",name:"title",value:$.title,onChange:H=>X({...$,title:H.target.value})}),S.jsx("label",{htmlFor:"editPath",children:S.jsx(ie,{id:"incidentList.editModal.field.locationLabel"})}),S.jsx("input",{type:"text",id:"editPath",name:"path",value:$.path,onChange:H=>X({...$,path:H.target.value})}),S.jsx("label",{htmlFor:"editAssignedUser",children:S.jsx(ie,{id:"incidentList.editModal.field.assignedPersonLabel"})}),S.jsxs("select",{id:"editAssignedUser",name:"assignedUser",value:$.assignedUser,onChange:H=>X({...$,assignedUser:H.target.value}),children:[S.jsxs("option",{value:"",children:[S.jsx(ie,{id:"incidentList.createModal.field.selectUserOption"})," "]}),g.map(H=>S.jsx("option",{value:H.email,children:H.email},H.uid))]}),S.jsx("div",{className:"modal-footer",children:S.jsx("button",{className:"confirm-button",onClick:se,children:S.jsx(ie,{id:"incidentList.editModal.saveButton"})})})]})]})})]})},$O=({incident:t,onIncidentUpdated:e})=>{const n=async()=>{const i=Qt(Ft),o=Kt(i,`incidents/${t.id}`);try{await ku(o,{status:!1}),e()}catch(l){console.error("Error closing incident:",l)}};return S.jsxs("div",{className:"incident-item",style:{cursor:"pointer"},children:[t.status?S.jsxs("div",{className:"incident-id",children:["INC",t.id]}):S.jsxs("div",{className:"incident-id-close",children:["INC",t.id]}),S.jsx("div",{className:"incident-title",children:t.title}),S.jsx("div",{className:"incident-path",children:t.path}),S.jsx("div",{className:"incident-assigned",children:t.assignedUser}),S.jsx("div",{className:"incident-date",children:t.fecha}),S.jsx("div",{className:"incident-action",children:t.status?S.jsx("button",{className:"close-incident-button",onClick:n,children:S.jsx(ie,{id:"incidentItem.closeButton"})}):S.jsx("span",{className:"incident-closed",children:S.jsx(ie,{id:"incidentItem.closedStatus"})})})]})},GO=()=>{const[t,e]=P.useState([]),[n,i]=P.useState(!0),[o,l]=P.useState(null),[u,d]=P.useState(!1),{user:h,isLoading:p}=pi(w=>w.auth),[g,_]=P.useState(""),v=()=>{d(w=>!w)};return P.useEffect(()=>{const w=async()=>{i(!0);const R=Qt(Ft);if(!h||!h.email){e([]),i(!1),l("No user or user email available to fetch incidents.");return}const A=Kt(R,"incidents"),N=BE(A,HE("assignedUser"),Ek(h.email));try{const M=await Wo(N);if(M.exists()){const F=M.val(),z=Object.keys(F).map(L=>({id:L,...F[L]}));z.sort((L,$)=>{const X=C(L.fecha);return C($.fecha).getTime()-X.getTime()}),e(z)}else e([]),console.log("No incidents data available for this user.")}catch(M){console.error("Error fetching incidents:",M),l("Error al cargar los incidentes del usuario.")}finally{i(!1)}},C=R=>{if(!R)return new Date(0);const A=R.split(", "),N=A[0].split("/"),M=A[1].split(":");return new Date(parseInt(N[2],10),parseInt(N[1],10)-1,parseInt(N[0],10),parseInt(M[0],10),parseInt(M[1],10),parseInt(M[2],10))};h&&!p?w():!p&&!h&&(e([]),i(!1),l("Inicia sesión para ver tus incidentes."))},[u,h,p]),p||n?S.jsx("div",{children:S.jsx(ie,{id:"incidentListUser.loading"})}):o?S.jsxs("div",{children:[S.jsx(ie,{id:"incidentListUser.errorPrefix"})," ",o]}):h?S.jsxs("div",{className:"incident-list-container",children:[S.jsx("div",{className:"incident-list-header",children:S.jsxs("div",{className:"search-input-wrapper",children:[S.jsx("svg",{className:"search-icon","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:S.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-2-2m0-7a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z"})}),S.jsx("input",{type:"text",className:"search-input",placeholder:"ex",value:g,onChange:w=>_(w.target.value)})]})}),S.jsxs("div",{className:"incident-list-grid header-row",children:[S.jsx("div",{className:"grid-item",children:S.jsx(ie,{id:"incidentListUser.tableHeader.id"})}),S.jsx("div",{className:"grid-item",children:S.jsx(ie,{id:"incidentListUser.tableHeader.title"})}),S.jsx("div",{className:"grid-item",children:S.jsx(ie,{id:"incidentListUser.tableHeader.location"})}),S.jsx("div",{className:"grid-item",children:S.jsx(ie,{id:"incidentListUser.tableHeader.assignedTo"})}),S.jsx("div",{className:"grid-item",children:S.jsx(ie,{id:"incidentListUser.tableHeader.date"})}),S.jsx("div",{className:"grid-item",children:S.jsx(ie,{id:"incidentListUser.tableHeader.action"})})]}),t.filter(w=>w.title.toLowerCase().includes(g.toLowerCase())||w.path.toLowerCase().includes(g.toLowerCase())).map(w=>S.jsx($O,{incident:w,onIncidentUpdated:v},w.id))]}):S.jsx("div",{children:S.jsx(ie,{id:"incidentListUser.loginPrompt"})})},qO=()=>{const[t,e]=P.useState([]),[n,i]=P.useState(!0),[o,l]=P.useState(null),{user:u,isLoading:d}=pi(p=>p.auth);P.useEffect(()=>{u&&!d?(async()=>{i(!0);const g=Qt(Ft),_=Kt(g,"users");try{const v=await Wo(_);if(v.exists()){const w=v.val(),C=Object.keys(w).filter(R=>R!==(u==null?void 0:u.uid)).map(R=>({uid:R,email:w[R].email,roles:w[R].roles||{admin:!1}}));e(C)}else e([])}catch(v){console.error("Error fetching users:",v),l("rolesAdmin.fetchUsersError")}finally{i(!1)}})():!d&&!u&&(e([]),i(!1),l("rolesAdmin.noLoggedInUserError"))},[u==null?void 0:u.uid,d]);const h=async(p,g)=>{const _=Qt(Ft),v=Kt(_,`users/${p}/roles`);try{await ku(v,{admin:g}),e(w=>w.map(C=>C.uid===p?{...C,roles:{admin:g}}:C))}catch(w){console.error("Error updating user role:",w),l("rolesAdmin.updateRoleError")}};return n||d?S.jsx("div",{className:"p-4 text-center text-lg font-semibold",children:S.jsx(ie,{id:"rolesAdmin.loadingUsers"})}):o?S.jsxs("div",{className:"p-4 text-center text-red-600 font-bold",children:[S.jsx(ie,{id:"common.errorPrefix"})," ",S.jsx(ie,{id:o})," "]}):S.jsxs("div",{className:"p-5",children:[S.jsx("h2",{className:"text-2xl font-bold mb-5",children:S.jsx(ie,{id:"rolesAdmin.title"})}),S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:t.map(p=>{var g,_;return S.jsxs("div",{className:"border border-gray-300 p-4 rounded-lg text-center shadow-sm",children:[S.jsx("h3",{className:"text-xl font-semibold mb-2",children:p.email}),S.jsxs("div",{className:"flex justify-center gap-2",children:[S.jsx("button",{className:`py-2 px-4 border rounded-md cursor-pointer transition-colors duration-300 ease-in-out
                                    ${(g=p.roles)!=null&&g.admin?"bg-green-600 text-white border-green-600 hover:bg-green-700":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,onClick:()=>h(p.uid,!0),children:S.jsx(ie,{id:"rolesAdmin.button.admin"})}),S.jsx("button",{className:`py-2 px-4 border rounded-md cursor-pointer transition-colors duration-300 ease-in-out
                                    ${(_=p.roles)!=null&&_.admin?"bg-white text-gray-800 border-gray-300 hover:bg-gray-100":"bg-green-600 text-white border-green-600 hover:bg-green-700"}`,onClick:()=>h(p.uid,!1),children:S.jsx(ie,{id:"rolesAdmin.button.personal"})})]})]},p.uid)})})]})},KO={"navbar.myIncidents":"Mis Incidentes","navbar.incidents":"Incidentes","navbar.userRoles":"Roles de Usuario","navbar.login":"Iniciar Sesión","navbar.register":"Registro","navbar.logout":"Cerrar Sesión","incidentListUser.loading":"Cargando incidentes...","incidentListUser.errorPrefix":"Error:","incidentListUser.loginPrompt":"Inicia sesión para ver tus incidentes.","incidentListUser.searchPlaceholder":"Buscar por título o ubicación","incidentListUser.tableHeader.id":"ID","incidentListUser.tableHeader.title":"Título","incidentListUser.tableHeader.location":"Ubicación","incidentListUser.tableHeader.assignedTo":"Asignado a","incidentListUser.tableHeader.date":"Fecha","incidentListUser.tableHeader.action":"Acción","common.loading":"Cargando...","common.errorPrefix":"Error:","common.searchPlaceholder":"Buscar por título o ubicación","incidentItem.closeButton":"Cerrar incidente","incidentItem.closedStatus":"Incidente cerrado","incidentList.addIncidentButton":"Agregar Incidente","incidentList.tableHeader.id":"ID","incidentList.tableHeader.title":"Título","incidentList.tableHeader.location":"Ubicación","incidentList.tableHeader.assignedTo":"Asignado a","incidentList.tableHeader.date":"Fecha","incidentList.tableHeader.action":"Acción","incidentList.createModal.title":"Creando Incidente","incidentList.createModal.field.titleLabel":"Título","incidentList.createModal.field.locationLabel":"Ubicación","incidentList.createModal.field.assignedPersonLabel":"Personal Asignado","incidentList.createModal.field.selectUserOption":"Seleccionar usuario","incidentList.createModal.addButton":"Agregar Incidente","incidentList.createModal.missingFieldsAlert":"Por favor, completa todos los campos.","incidentList.editModal.titlePrefix":"Incidente","incidentList.editModal.field.titleLabel":"Título","incidentList.editModal.field.locationLabel":"Ubicación","incidentList.editModal.field.assignedPersonLabel":"Personal Asignado","incidentList.editModal.saveButton":"Guardar","rolesAdmin.loadingUsers":"Cargando usuarios...","rolesAdmin.noLoggedInUserError":"No hay usuario logueado para administrar roles.","rolesAdmin.fetchUsersError":"Error al cargar los usuarios.","rolesAdmin.updateRoleError":"Error al actualizar el rol del usuario.","rolesAdmin.title":"Administración de Roles","rolesAdmin.button.admin":"Admin","rolesAdmin.button.personal":"Personal","login.title":"Iniciar Sesión","login.placeholder.email":"Correo electrónico","login.placeholder.password":"Contraseña","login.button.login":"Login","register.title":"Registrarse","register.placeholder.email":"Correo electrónico","register.placeholder.password":"Contraseña","register.button.register":"Registrarse","register.successMessage":"Registro exitoso. Redirigiendo...","welcome.message":"Primero debes registrarte O iniciar sesión","incidentItem.deleteButton":"Eliminar incidente"},QO={"navbar.myIncidents":"My Incidents","navbar.incidents":"Incidents","navbar.userRoles":"User Roles","navbar.login":"Login","navbar.register":"Register","navbar.logout":"Logout","incidentListUser.loading":"Loading incidents...","incidentListUser.errorPrefix":"Error:","incidentListUser.loginPrompt":"Please log in to view your incidents.","incidentListUser.searchPlaceholder":"Search by title or location","incidentListUser.tableHeader.id":"ID","incidentListUser.tableHeader.title":"Title","incidentListUser.tableHeader.location":"Location","incidentListUser.tableHeader.assignedTo":"Assigned To","incidentListUser.tableHeader.date":"Date","incidentListUser.tableHeader.action":"Action","common.loading":"Loading...","common.errorPrefix":"Error:","common.searchPlaceholder":"Search by title or location","incidentItem.closeButton":"Close Incident","incidentItem.closedStatus":"Incident Closed","incidentList.addIncidentButton":"Add Incident","incidentList.tableHeader.id":"ID","incidentList.tableHeader.title":"Title","incidentList.tableHeader.location":"Location","incidentList.tableHeader.assignedTo":"Assigned To","incidentList.tableHeader.date":"Date","incidentList.tableHeader.action":"Action","incidentList.createModal.title":"Creating Incident","incidentList.createModal.field.titleLabel":"Title","incidentList.createModal.field.locationLabel":"Location","incidentList.createModal.field.assignedPersonLabel":"Assigned Person","incidentList.createModal.field.selectUserOption":"Select user","incidentList.createModal.addButton":"Add Incident","incidentList.createModal.missingFieldsAlert":"Please complete all fields.","incidentList.editModal.titlePrefix":"Incident","incidentList.editModal.field.titleLabel":"Title","incidentList.editModal.field.locationLabel":"Location","incidentList.editModal.field.assignedPersonLabel":"Assigned Person","incidentList.editModal.saveButton":"Save","rolesAdmin.loadingUsers":"Loading users...","rolesAdmin.noLoggedInUserError":"No user logged in to manage roles.","rolesAdmin.fetchUsersError":"Error loading users.","rolesAdmin.updateRoleError":"Error updating user role.","rolesAdmin.title":"Role Administration","rolesAdmin.button.admin":"Admin","rolesAdmin.button.personal":"Staff","login.title":"Login","login.placeholder.email":"Email","login.placeholder.password":"Password","login.button.login":"Login","register.title":"Register","register.placeholder.email":"Email","register.placeholder.password":"Password","register.button.register":"Register","register.successMessage":"Registration successful. Redirecting...","welcome.message":"You must first register OR log in","incidentItem.deleteButton":"Delete Incident"},p_={es:KO,en:QO};Cr.createContext([]);const YO=()=>{const t=Lu(),e=pi(n=>n.i18n.locale);return P.useEffect(()=>{const n=os.onAuthStateChanged(async i=>{if(t(oi(!0)),t($y(i)),i)try{await t(Fl(i)).unwrap(),t(Dn(null))}catch(o){console.error("Error al obtener los roles en App:",o),o instanceof Error?t(Dn(o.message)):t(Dn(typeof o=="string"?o:"An unknown error occurred while fetching roles.")),t(Gy(null)),t($y(null))}finally{t(oi(!1))}else t(Gy(null)),t(oi(!1)),t(Dn(null))});return()=>n()},[t]),S.jsx(PO,{locale:e,messages:p_[e]||p_.es,defaultLocale:"es",children:S.jsxs(eT,{children:[S.jsx(bO,{}),S.jsx("div",{className:"main-content",children:S.jsxs(NI,{children:[S.jsx(vr,{path:"/",element:S.jsx(d_,{})}),S.jsx(vr,{path:"/login",element:S.jsx(kO,{})}),S.jsx(vr,{path:"/register",element:S.jsx(AO,{})}),S.jsx(vr,{path:"/dashboard",element:S.jsx(c_,{children:S.jsx(VO,{})})}),S.jsx(vr,{path:"/dashboard2",element:S.jsx(NO,{children:S.jsx(GO,{})})}),S.jsx(vr,{path:"/admin",element:S.jsx(c_,{children:S.jsx(qO,{})})}),S.jsx(vr,{path:"*",element:S.jsx(d_,{})})]})})]})})},XO=IA({reducer:{auth:qA,i18n:XA}});HC.createRoot(document.getElementById("root")).render(S.jsx(P.StrictMode,{children:S.jsx(Gk,{store:XO,children:S.jsx(YO,{})})}));
