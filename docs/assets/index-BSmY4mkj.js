var wC=Object.defineProperty;var SC=(t,e,n)=>e in t?wC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $i=(t,e,n)=>SC(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function CC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pd={exports:{}},oo={},kd={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function IC(){if(tv)return fe;tv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(x){return x===null||typeof x!="object"?null:(x=y&&x[y]||x["@@iterator"],typeof x=="function"?x:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,R={};function A(x,D,oe){this.props=x,this.context=D,this.refs=R,this.updater=oe||w}A.prototype.isReactComponent={},A.prototype.setState=function(x,D){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,D,"setState")},A.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function N(){}N.prototype=A.prototype;function M(x,D,oe){this.props=x,this.context=D,this.refs=R,this.updater=oe||w}var F=M.prototype=new N;F.constructor=M,S(F,A.prototype),F.isPureReactComponent=!0;var j=Array.isArray,L=Object.prototype.hasOwnProperty,V={current:null},J={key:!0,ref:!0,__self:!0,__source:!0};function ce(x,D,oe){var se,he={},de=null,Ce=null;if(D!=null)for(se in D.ref!==void 0&&(Ce=D.ref),D.key!==void 0&&(de=""+D.key),D)L.call(D,se)&&!J.hasOwnProperty(se)&&(he[se]=D[se]);var Ie=arguments.length-2;if(Ie===1)he.children=oe;else if(1<Ie){for(var ke=Array(Ie),Tt=0;Tt<Ie;Tt++)ke[Tt]=arguments[Tt+2];he.children=ke}if(x&&x.defaultProps)for(se in Ie=x.defaultProps,Ie)he[se]===void 0&&(he[se]=Ie[se]);return{$$typeof:t,type:x,key:de,ref:Ce,props:he,_owner:V.current}}function te(x,D){return{$$typeof:t,type:x.type,key:D,ref:x.ref,props:x.props,_owner:x._owner}}function Ee(x){return typeof x=="object"&&x!==null&&x.$$typeof===t}function St(x){var D={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(oe){return D[oe]})}var pt=/\/+/g;function mt(x,D){return typeof x=="object"&&x!==null&&x.key!=null?St(""+x.key):D.toString(36)}function Ct(x,D,oe,se,he){var de=typeof x;(de==="undefined"||de==="boolean")&&(x=null);var Ce=!1;if(x===null)Ce=!0;else switch(de){case"string":case"number":Ce=!0;break;case"object":switch(x.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=x,he=he(Ce),x=se===""?"."+mt(Ce,0):se,j(he)?(oe="",x!=null&&(oe=x.replace(pt,"$&/")+"/"),Ct(he,D,oe,"",function(Tt){return Tt})):he!=null&&(Ee(he)&&(he=te(he,oe+(!he.key||Ce&&Ce.key===he.key?"":(""+he.key).replace(pt,"$&/")+"/")+x)),D.push(he)),1;if(Ce=0,se=se===""?".":se+":",j(x))for(var Ie=0;Ie<x.length;Ie++){de=x[Ie];var ke=se+mt(de,Ie);Ce+=Ct(de,D,oe,ke,he)}else if(ke=v(x),typeof ke=="function")for(x=ke.call(x),Ie=0;!(de=x.next()).done;)de=de.value,ke=se+mt(de,Ie++),Ce+=Ct(de,D,oe,ke,he);else if(de==="object")throw D=String(x),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return Ce}function It(x,D,oe){if(x==null)return x;var se=[],he=0;return Ct(x,se,"","",function(de){return D.call(oe,de,he++)}),se}function ut(x){if(x._status===-1){var D=x._result;D=D(),D.then(function(oe){(x._status===0||x._status===-1)&&(x._status=1,x._result=oe)},function(oe){(x._status===0||x._status===-1)&&(x._status=2,x._result=oe)}),x._status===-1&&(x._status=0,x._result=D)}if(x._status===1)return x._result.default;throw x._result}var De={current:null},q={transition:null},$={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:q,ReactCurrentOwner:V};function G(){throw Error("act(...) is not supported in production builds of React.")}return fe.Children={map:It,forEach:function(x,D,oe){It(x,function(){D.apply(this,arguments)},oe)},count:function(x){var D=0;return It(x,function(){D++}),D},toArray:function(x){return It(x,function(D){return D})||[]},only:function(x){if(!Ee(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},fe.Component=A,fe.Fragment=n,fe.Profiler=o,fe.PureComponent=M,fe.StrictMode=i,fe.Suspense=f,fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,fe.act=G,fe.cloneElement=function(x,D,oe){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var se=S({},x.props),he=x.key,de=x.ref,Ce=x._owner;if(D!=null){if(D.ref!==void 0&&(de=D.ref,Ce=V.current),D.key!==void 0&&(he=""+D.key),x.type&&x.type.defaultProps)var Ie=x.type.defaultProps;for(ke in D)L.call(D,ke)&&!J.hasOwnProperty(ke)&&(se[ke]=D[ke]===void 0&&Ie!==void 0?Ie[ke]:D[ke])}var ke=arguments.length-2;if(ke===1)se.children=oe;else if(1<ke){Ie=Array(ke);for(var Tt=0;Tt<ke;Tt++)Ie[Tt]=arguments[Tt+2];se.children=Ie}return{$$typeof:t,type:x.type,key:he,ref:de,props:se,_owner:Ce}},fe.createContext=function(x){return x={$$typeof:u,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:l,_context:x},x.Consumer=x},fe.createElement=ce,fe.createFactory=function(x){var D=ce.bind(null,x);return D.type=x,D},fe.createRef=function(){return{current:null}},fe.forwardRef=function(x){return{$$typeof:d,render:x}},fe.isValidElement=Ee,fe.lazy=function(x){return{$$typeof:g,_payload:{_status:-1,_result:x},_init:ut}},fe.memo=function(x,D){return{$$typeof:p,type:x,compare:D===void 0?null:D}},fe.startTransition=function(x){var D=q.transition;q.transition={};try{x()}finally{q.transition=D}},fe.unstable_act=G,fe.useCallback=function(x,D){return De.current.useCallback(x,D)},fe.useContext=function(x){return De.current.useContext(x)},fe.useDebugValue=function(){},fe.useDeferredValue=function(x){return De.current.useDeferredValue(x)},fe.useEffect=function(x,D){return De.current.useEffect(x,D)},fe.useId=function(){return De.current.useId()},fe.useImperativeHandle=function(x,D,oe){return De.current.useImperativeHandle(x,D,oe)},fe.useInsertionEffect=function(x,D){return De.current.useInsertionEffect(x,D)},fe.useLayoutEffect=function(x,D){return De.current.useLayoutEffect(x,D)},fe.useMemo=function(x,D){return De.current.useMemo(x,D)},fe.useReducer=function(x,D,oe){return De.current.useReducer(x,D,oe)},fe.useRef=function(x){return De.current.useRef(x)},fe.useState=function(x){return De.current.useState(x)},fe.useSyncExternalStore=function(x,D,oe){return De.current.useSyncExternalStore(x,D,oe)},fe.useTransition=function(){return De.current.useTransition()},fe.version="18.3.1",fe}var nv;function du(){return nv||(nv=1,kd.exports=IC()),kd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function TC(){if(rv)return oo;rv=1;var t=du(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var g,y={},v=null,w=null;p!==void 0&&(v=""+p),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(w=f.ref);for(g in f)i.call(f,g)&&!l.hasOwnProperty(g)&&(y[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)y[g]===void 0&&(y[g]=f[g]);return{$$typeof:e,type:d,key:v,ref:w,props:y,_owner:o.current}}return oo.Fragment=n,oo.jsx=u,oo.jsxs=u,oo}var iv;function xC(){return iv||(iv=1,Pd.exports=TC()),Pd.exports}var C=xC(),P=du();const RC=CC(P);var El={},Nd={exports:{}},bt={},bd={exports:{}},Ad={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function PC(){return sv||(sv=1,function(t){function e(q,$){var G=q.length;q.push($);e:for(;0<G;){var x=G-1>>>1,D=q[x];if(0<o(D,$))q[x]=$,q[G]=D,G=x;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var $=q[0],G=q.pop();if(G!==$){q[0]=G;e:for(var x=0,D=q.length,oe=D>>>1;x<oe;){var se=2*(x+1)-1,he=q[se],de=se+1,Ce=q[de];if(0>o(he,G))de<D&&0>o(Ce,he)?(q[x]=Ce,q[de]=G,x=de):(q[x]=he,q[se]=G,x=se);else if(de<D&&0>o(Ce,G))q[x]=Ce,q[de]=G,x=de;else break e}}return $}function o(q,$){var G=q.sortIndex-$.sortIndex;return G!==0?G:q.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],p=[],g=1,y=null,v=3,w=!1,S=!1,R=!1,A=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(q){for(var $=n(p);$!==null;){if($.callback===null)i(p);else if($.startTime<=q)i(p),$.sortIndex=$.expirationTime,e(f,$);else break;$=n(p)}}function j(q){if(R=!1,F(q),!S)if(n(f)!==null)S=!0,ut(L);else{var $=n(p);$!==null&&De(j,$.startTime-q)}}function L(q,$){S=!1,R&&(R=!1,N(ce),ce=-1),w=!0;var G=v;try{for(F($),y=n(f);y!==null&&(!(y.expirationTime>$)||q&&!St());){var x=y.callback;if(typeof x=="function"){y.callback=null,v=y.priorityLevel;var D=x(y.expirationTime<=$);$=t.unstable_now(),typeof D=="function"?y.callback=D:y===n(f)&&i(f),F($)}else i(f);y=n(f)}if(y!==null)var oe=!0;else{var se=n(p);se!==null&&De(j,se.startTime-$),oe=!1}return oe}finally{y=null,v=G,w=!1}}var V=!1,J=null,ce=-1,te=5,Ee=-1;function St(){return!(t.unstable_now()-Ee<te)}function pt(){if(J!==null){var q=t.unstable_now();Ee=q;var $=!0;try{$=J(!0,q)}finally{$?mt():(V=!1,J=null)}}else V=!1}var mt;if(typeof M=="function")mt=function(){M(pt)};else if(typeof MessageChannel<"u"){var Ct=new MessageChannel,It=Ct.port2;Ct.port1.onmessage=pt,mt=function(){It.postMessage(null)}}else mt=function(){A(pt,0)};function ut(q){J=q,V||(V=!0,mt())}function De(q,$){ce=A(function(){q(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){S||w||(S=!0,ut(L))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(q){switch(v){case 1:case 2:case 3:var $=3;break;default:$=v}var G=v;v=$;try{return q()}finally{v=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,$){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var G=v;v=q;try{return $()}finally{v=G}},t.unstable_scheduleCallback=function(q,$,G){var x=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?x+G:x):G=x,q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=G+D,q={id:g++,callback:$,priorityLevel:q,startTime:G,expirationTime:D,sortIndex:-1},G>x?(q.sortIndex=G,e(p,q),n(f)===null&&q===n(p)&&(R?(N(ce),ce=-1):R=!0,De(j,G-x))):(q.sortIndex=D,e(f,q),S||w||(S=!0,ut(L))),q},t.unstable_shouldYield=St,t.unstable_wrapCallback=function(q){var $=v;return function(){var G=v;v=$;try{return q.apply(this,arguments)}finally{v=G}}}}(Ad)),Ad}var ov;function kC(){return ov||(ov=1,bd.exports=PC()),bd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function NC(){if(av)return bt;av=1;var t=du(),e=kC();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(r){return f.call(y,r)?!0:f.call(g,r)?!1:p.test(r)?y[r]=!0:(g[r]=!0,!1)}function w(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function S(r,s,a,c){if(s===null||typeof s>"u"||w(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function R(r,s,a,c,h,m,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=m,this.removeEmptyString=_}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){A[r]=new R(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];A[s]=new R(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){A[r]=new R(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){A[r]=new R(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){A[r]=new R(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){A[r]=new R(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){A[r]=new R(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){A[r]=new R(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){A[r]=new R(r,5,!1,r.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function M(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(N,M);A[s]=new R(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(N,M);A[s]=new R(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(N,M);A[s]=new R(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){A[r]=new R(r,1,!1,r.toLowerCase(),null,!1,!1)}),A.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){A[r]=new R(r,1,!1,r.toLowerCase(),null,!0,!0)});function F(r,s,a,c){var h=A.hasOwnProperty(s)?A[s]:null;(h!==null?h.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(S(s,a,h,c)&&(a=null),c||h===null?v(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):h.mustUseProperty?r[h.propertyName]=a===null?h.type===3?!1:"":a:(s=h.attributeName,c=h.attributeNamespace,a===null?r.removeAttribute(s):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),V=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),Ee=Symbol.for("react.provider"),St=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),It=Symbol.for("react.memo"),ut=Symbol.for("react.lazy"),De=Symbol.for("react.offscreen"),q=Symbol.iterator;function $(r){return r===null||typeof r!="object"?null:(r=q&&r[q]||r["@@iterator"],typeof r=="function"?r:null)}var G=Object.assign,x;function D(r){if(x===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);x=s&&s[1]||""}return`
`+x+r}var oe=!1;function se(r,s){if(!r||oe)return"";oe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(O){var c=O}Reflect.construct(r,[],s)}else{try{s.call()}catch(O){c=O}r.call(s.prototype)}else{try{throw Error()}catch(O){c=O}r()}}catch(O){if(O&&c&&typeof O.stack=="string"){for(var h=O.stack.split(`
`),m=c.stack.split(`
`),_=h.length-1,E=m.length-1;1<=_&&0<=E&&h[_]!==m[E];)E--;for(;1<=_&&0<=E;_--,E--)if(h[_]!==m[E]){if(_!==1||E!==1)do if(_--,E--,0>E||h[_]!==m[E]){var I=`
`+h[_].replace(" at new "," at ");return r.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",r.displayName)),I}while(1<=_&&0<=E);break}}}finally{oe=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?D(r):""}function he(r){switch(r.tag){case 5:return D(r.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return r=se(r.type,!1),r;case 11:return r=se(r.type.render,!1),r;case 1:return r=se(r.type,!0),r;default:return""}}function de(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case J:return"Fragment";case V:return"Portal";case te:return"Profiler";case ce:return"StrictMode";case mt:return"Suspense";case Ct:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case St:return(r.displayName||"Context")+".Consumer";case Ee:return(r._context.displayName||"Context")+".Provider";case pt:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case It:return s=r.displayName||null,s!==null?s:de(r.type)||"Memo";case ut:s=r._payload,r=r._init;try{return de(r(s))}catch{}}return null}function Ce(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(s);case 8:return s===ce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ie(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ke(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tt(r){var s=ke(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ca(r){r._valueTracker||(r._valueTracker=Tt(r))}function ap(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=ke(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function da(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Mu(r,s){var a=s.checked;return G({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function lp(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Ie(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function up(r,s){s=s.checked,s!=null&&F(r,"checked",s,!1)}function Du(r,s){up(r,s);var a=Ie(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Fu(r,s.type,a):s.hasOwnProperty("defaultValue")&&Fu(r,s.type,Ie(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function cp(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Fu(r,s,a){(s!=="number"||da(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var ws=Array.isArray;function Ei(r,s,a,c){if(r=r.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<r.length;a++)h=s.hasOwnProperty("$"+r[a].value),r[a].selected!==h&&(r[a].selected=h),h&&c&&(r[a].defaultSelected=!0)}else{for(a=""+Ie(a),s=null,h=0;h<r.length;h++){if(r[h].value===a){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function Uu(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return G({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function dp(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(n(92));if(ws(a)){if(1<a.length)throw Error(n(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Ie(a)}}function hp(r,s){var a=Ie(s.value),c=Ie(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function fp(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function pp(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hu(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?pp(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ha,mp=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,h){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,h)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(ha=ha||document.createElement("div"),ha.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ha.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Ss(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tw=["Webkit","ms","Moz","O"];Object.keys(Cs).forEach(function(r){Tw.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Cs[s]=Cs[r]})});function gp(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Cs.hasOwnProperty(r)&&Cs[r]?(""+s).trim():s+"px"}function vp(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,h=gp(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,h):r[a]=h}}var xw=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bu(r,s){if(s){if(xw[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function ju(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=null;function Wu(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Vu=null,wi=null,Si=null;function _p(r){if(r=$s(r)){if(typeof Vu!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Ma(s),Vu(r.stateNode,r.type,s))}}function yp(r){wi?Si?Si.push(r):Si=[r]:wi=r}function Ep(){if(wi){var r=wi,s=Si;if(Si=wi=null,_p(r),s)for(r=0;r<s.length;r++)_p(s[r])}}function wp(r,s){return r(s)}function Sp(){}var $u=!1;function Cp(r,s,a){if($u)return r(s,a);$u=!0;try{return wp(r,s,a)}finally{$u=!1,(wi!==null||Si!==null)&&(Sp(),Ep())}}function Is(r,s){var a=r.stateNode;if(a===null)return null;var c=Ma(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,s,typeof a));return a}var Gu=!1;if(d)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){Gu=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{Gu=!1}function Rw(r,s,a,c,h,m,_,E,I){var O=Array.prototype.slice.call(arguments,3);try{s.apply(a,O)}catch(H){this.onError(H)}}var xs=!1,fa=null,pa=!1,qu=null,Pw={onError:function(r){xs=!0,fa=r}};function kw(r,s,a,c,h,m,_,E,I){xs=!1,fa=null,Rw.apply(Pw,arguments)}function Nw(r,s,a,c,h,m,_,E,I){if(kw.apply(this,arguments),xs){if(xs){var O=fa;xs=!1,fa=null}else throw Error(n(198));pa||(pa=!0,qu=O)}}function Hr(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Ip(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Tp(r){if(Hr(r)!==r)throw Error(n(188))}function bw(r){var s=r.alternate;if(!s){if(s=Hr(r),s===null)throw Error(n(188));return s!==r?null:r}for(var a=r,c=s;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return Tp(h),r;if(m===c)return Tp(h),s;m=m.sibling}throw Error(n(188))}if(a.return!==c.return)a=h,c=m;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,c=m;break}if(E===c){_=!0,c=h,a=m;break}E=E.sibling}if(!_){for(E=m.child;E;){if(E===a){_=!0,a=m,c=h;break}if(E===c){_=!0,c=m,a=h;break}E=E.sibling}if(!_)throw Error(n(189))}}if(a.alternate!==c)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:s}function xp(r){return r=bw(r),r!==null?Rp(r):null}function Rp(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Rp(r);if(s!==null)return s;r=r.sibling}return null}var Pp=e.unstable_scheduleCallback,kp=e.unstable_cancelCallback,Aw=e.unstable_shouldYield,Lw=e.unstable_requestPaint,Ve=e.unstable_now,Ow=e.unstable_getCurrentPriorityLevel,Ku=e.unstable_ImmediatePriority,Np=e.unstable_UserBlockingPriority,ma=e.unstable_NormalPriority,Mw=e.unstable_LowPriority,bp=e.unstable_IdlePriority,ga=null,mn=null;function Dw(r){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(ga,r,void 0,(r.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:Hw,Fw=Math.log,Uw=Math.LN2;function Hw(r){return r>>>=0,r===0?32:31-(Fw(r)/Uw|0)|0}var va=64,_a=4194304;function Rs(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ya(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,h=r.suspendedLanes,m=r.pingedLanes,_=a&268435455;if(_!==0){var E=_&~h;E!==0?c=Rs(E):(m&=_,m!==0&&(c=Rs(m)))}else _=a&~h,_!==0?c=Rs(_):m!==0&&(c=Rs(m));if(c===0)return 0;if(s!==0&&s!==c&&(s&h)===0&&(h=c&-c,m=s&-s,h>=m||h===16&&(m&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-Xt(s),h=1<<a,c|=r[a],s&=~h;return c}function Bw(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jw(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,m=r.pendingLanes;0<m;){var _=31-Xt(m),E=1<<_,I=h[_];I===-1?((E&a)===0||(E&c)!==0)&&(h[_]=Bw(E,s)):I<=s&&(r.expiredLanes|=E),m&=~E}}function Qu(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ap(){var r=va;return va<<=1,(va&4194240)===0&&(va=64),r}function Yu(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Ps(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Xt(s),r[s]=a}function zw(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var h=31-Xt(a),m=1<<h;s[h]=0,c[h]=-1,r[h]=-1,a&=~m}}function Xu(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-Xt(a),h=1<<c;h&s|r[c]&s&&(r[c]|=s),a&=~h}}var xe=0;function Lp(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Op,Ju,Mp,Dp,Fp,Zu=!1,Ea=[],Xn=null,Jn=null,Zn=null,ks=new Map,Ns=new Map,er=[],Ww="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Up(r,s){switch(r){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":ks.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(s.pointerId)}}function bs(r,s,a,c,h,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[h]},s!==null&&(s=$s(s),s!==null&&Ju(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function Vw(r,s,a,c,h){switch(s){case"focusin":return Xn=bs(Xn,r,s,a,c,h),!0;case"dragenter":return Jn=bs(Jn,r,s,a,c,h),!0;case"mouseover":return Zn=bs(Zn,r,s,a,c,h),!0;case"pointerover":var m=h.pointerId;return ks.set(m,bs(ks.get(m)||null,r,s,a,c,h)),!0;case"gotpointercapture":return m=h.pointerId,Ns.set(m,bs(Ns.get(m)||null,r,s,a,c,h)),!0}return!1}function Hp(r){var s=Br(r.target);if(s!==null){var a=Hr(s);if(a!==null){if(s=a.tag,s===13){if(s=Ip(a),s!==null){r.blockedOn=s,Fp(r.priority,function(){Mp(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function wa(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=tc(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);zu=c,a.target.dispatchEvent(c),zu=null}else return s=$s(a),s!==null&&Ju(s),r.blockedOn=a,!1;s.shift()}return!0}function Bp(r,s,a){wa(r)&&a.delete(s)}function $w(){Zu=!1,Xn!==null&&wa(Xn)&&(Xn=null),Jn!==null&&wa(Jn)&&(Jn=null),Zn!==null&&wa(Zn)&&(Zn=null),ks.forEach(Bp),Ns.forEach(Bp)}function As(r,s){r.blockedOn===s&&(r.blockedOn=null,Zu||(Zu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$w)))}function Ls(r){function s(h){return As(h,r)}if(0<Ea.length){As(Ea[0],r);for(var a=1;a<Ea.length;a++){var c=Ea[a];c.blockedOn===r&&(c.blockedOn=null)}}for(Xn!==null&&As(Xn,r),Jn!==null&&As(Jn,r),Zn!==null&&As(Zn,r),ks.forEach(s),Ns.forEach(s),a=0;a<er.length;a++)c=er[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<er.length&&(a=er[0],a.blockedOn===null);)Hp(a),a.blockedOn===null&&er.shift()}var Ci=j.ReactCurrentBatchConfig,Sa=!0;function Gw(r,s,a,c){var h=xe,m=Ci.transition;Ci.transition=null;try{xe=1,ec(r,s,a,c)}finally{xe=h,Ci.transition=m}}function qw(r,s,a,c){var h=xe,m=Ci.transition;Ci.transition=null;try{xe=4,ec(r,s,a,c)}finally{xe=h,Ci.transition=m}}function ec(r,s,a,c){if(Sa){var h=tc(r,s,a,c);if(h===null)_c(r,s,c,Ca,a),Up(r,c);else if(Vw(h,r,s,a,c))c.stopPropagation();else if(Up(r,c),s&4&&-1<Ww.indexOf(r)){for(;h!==null;){var m=$s(h);if(m!==null&&Op(m),m=tc(r,s,a,c),m===null&&_c(r,s,c,Ca,a),m===h)break;h=m}h!==null&&c.stopPropagation()}else _c(r,s,c,null,a)}}var Ca=null;function tc(r,s,a,c){if(Ca=null,r=Wu(c),r=Br(r),r!==null)if(s=Hr(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Ip(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ca=r,null}function jp(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ow()){case Ku:return 1;case Np:return 4;case ma:case Mw:return 16;case bp:return 536870912;default:return 16}default:return 16}}var tr=null,nc=null,Ia=null;function zp(){if(Ia)return Ia;var r,s=nc,a=s.length,c,h="value"in tr?tr.value:tr.textContent,m=h.length;for(r=0;r<a&&s[r]===h[r];r++);var _=a-r;for(c=1;c<=_&&s[a-c]===h[m-c];c++);return Ia=h.slice(r,1<c?1-c:void 0)}function Ta(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function xa(){return!0}function Wp(){return!1}function Lt(r){function s(a,c,h,m,_){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var E in r)r.hasOwnProperty(E)&&(a=r[E],this[E]=a?a(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?xa:Wp,this.isPropagationStopped=Wp,this}return G(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xa)},persist:function(){},isPersistent:xa}),s}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rc=Lt(Ii),Os=G({},Ii,{view:0,detail:0}),Kw=Lt(Os),ic,sc,Ms,Ra=G({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ac,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ms&&(Ms&&r.type==="mousemove"?(ic=r.screenX-Ms.screenX,sc=r.screenY-Ms.screenY):sc=ic=0,Ms=r),ic)},movementY:function(r){return"movementY"in r?r.movementY:sc}}),Vp=Lt(Ra),Qw=G({},Ra,{dataTransfer:0}),Yw=Lt(Qw),Xw=G({},Os,{relatedTarget:0}),oc=Lt(Xw),Jw=G({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Zw=Lt(Jw),eS=G({},Ii,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),tS=Lt(eS),nS=G({},Ii,{data:0}),$p=Lt(nS),rS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oS(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=sS[r])?!!s[r]:!1}function ac(){return oS}var aS=G({},Os,{key:function(r){if(r.key){var s=rS[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ta(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?iS[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ac,charCode:function(r){return r.type==="keypress"?Ta(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ta(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),lS=Lt(aS),uS=G({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gp=Lt(uS),cS=G({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ac}),dS=Lt(cS),hS=G({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),fS=Lt(hS),pS=G({},Ra,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),mS=Lt(pS),gS=[9,13,27,32],lc=d&&"CompositionEvent"in window,Ds=null;d&&"documentMode"in document&&(Ds=document.documentMode);var vS=d&&"TextEvent"in window&&!Ds,qp=d&&(!lc||Ds&&8<Ds&&11>=Ds),Kp=" ",Qp=!1;function Yp(r,s){switch(r){case"keyup":return gS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ti=!1;function _S(r,s){switch(r){case"compositionend":return Xp(s);case"keypress":return s.which!==32?null:(Qp=!0,Kp);case"textInput":return r=s.data,r===Kp&&Qp?null:r;default:return null}}function yS(r,s){if(Ti)return r==="compositionend"||!lc&&Yp(r,s)?(r=zp(),Ia=nc=tr=null,Ti=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return qp&&s.locale!=="ko"?null:s.data;default:return null}}var ES={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!ES[r.type]:s==="textarea"}function Zp(r,s,a,c){yp(c),s=Aa(s,"onChange"),0<s.length&&(a=new rc("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var Fs=null,Us=null;function wS(r){vm(r,0)}function Pa(r){var s=Ni(r);if(ap(s))return r}function SS(r,s){if(r==="change")return s}var em=!1;if(d){var uc;if(d){var cc="oninput"in document;if(!cc){var tm=document.createElement("div");tm.setAttribute("oninput","return;"),cc=typeof tm.oninput=="function"}uc=cc}else uc=!1;em=uc&&(!document.documentMode||9<document.documentMode)}function nm(){Fs&&(Fs.detachEvent("onpropertychange",rm),Us=Fs=null)}function rm(r){if(r.propertyName==="value"&&Pa(Us)){var s=[];Zp(s,Us,r,Wu(r)),Cp(wS,s)}}function CS(r,s,a){r==="focusin"?(nm(),Fs=s,Us=a,Fs.attachEvent("onpropertychange",rm)):r==="focusout"&&nm()}function IS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Pa(Us)}function TS(r,s){if(r==="click")return Pa(s)}function xS(r,s){if(r==="input"||r==="change")return Pa(s)}function RS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Jt=typeof Object.is=="function"?Object.is:RS;function Hs(r,s){if(Jt(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!f.call(s,h)||!Jt(r[h],s[h]))return!1}return!0}function im(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function sm(r,s){var a=im(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=im(a)}}function om(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?om(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function am(){for(var r=window,s=da();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=da(r.document)}return s}function dc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function PS(r){var s=am(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&om(a.ownerDocument.documentElement,a)){if(c!==null&&dc(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var h=a.textContent.length,m=Math.min(c.start,h);c=c.end===void 0?m:Math.min(c.end,h),!r.extend&&m>c&&(h=c,c=m,m=h),h=sm(a,m);var _=sm(a,c);h&&_&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),r.removeAllRanges(),m>c?(r.addRange(s),r.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var kS=d&&"documentMode"in document&&11>=document.documentMode,xi=null,hc=null,Bs=null,fc=!1;function lm(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;fc||xi==null||xi!==da(c)||(c=xi,"selectionStart"in c&&dc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Bs&&Hs(Bs,c)||(Bs=c,c=Aa(hc,"onSelect"),0<c.length&&(s=new rc("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=xi)))}function ka(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Ri={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionend:ka("Transition","TransitionEnd")},pc={},um={};d&&(um=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function Na(r){if(pc[r])return pc[r];if(!Ri[r])return r;var s=Ri[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in um)return pc[r]=s[a];return r}var cm=Na("animationend"),dm=Na("animationiteration"),hm=Na("animationstart"),fm=Na("transitionend"),pm=new Map,mm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(r,s){pm.set(r,s),l(s,[r])}for(var mc=0;mc<mm.length;mc++){var gc=mm[mc],NS=gc.toLowerCase(),bS=gc[0].toUpperCase()+gc.slice(1);nr(NS,"on"+bS)}nr(cm,"onAnimationEnd"),nr(dm,"onAnimationIteration"),nr(hm,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(fm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AS=new Set("cancel close invalid load scroll toggle".split(" ").concat(js));function gm(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,Nw(c,s,void 0,r),r.currentTarget=null}function vm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],h=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var _=c.length-1;0<=_;_--){var E=c[_],I=E.instance,O=E.currentTarget;if(E=E.listener,I!==m&&h.isPropagationStopped())break e;gm(h,E,O),m=I}else for(_=0;_<c.length;_++){if(E=c[_],I=E.instance,O=E.currentTarget,E=E.listener,I!==m&&h.isPropagationStopped())break e;gm(h,E,O),m=I}}}if(pa)throw r=qu,pa=!1,qu=null,r}function Le(r,s){var a=s[Ic];a===void 0&&(a=s[Ic]=new Set);var c=r+"__bubble";a.has(c)||(_m(s,r,2,!1),a.add(c))}function vc(r,s,a){var c=0;s&&(c|=4),_m(a,r,c,s)}var ba="_reactListening"+Math.random().toString(36).slice(2);function zs(r){if(!r[ba]){r[ba]=!0,i.forEach(function(a){a!=="selectionchange"&&(AS.has(a)||vc(a,!1,r),vc(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ba]||(s[ba]=!0,vc("selectionchange",!1,s))}}function _m(r,s,a,c){switch(jp(s)){case 1:var h=Gw;break;case 4:h=qw;break;default:h=ec}a=h.bind(null,s,a,r),h=void 0,!Gu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(s,a,{capture:!0,passive:h}):r.addEventListener(s,a,!0):h!==void 0?r.addEventListener(s,a,{passive:h}):r.addEventListener(s,a,!1)}function _c(r,s,a,c,h){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var E=c.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(_===4)for(_=c.return;_!==null;){var I=_.tag;if((I===3||I===4)&&(I=_.stateNode.containerInfo,I===h||I.nodeType===8&&I.parentNode===h))return;_=_.return}for(;E!==null;){if(_=Br(E),_===null)return;if(I=_.tag,I===5||I===6){c=m=_;continue e}E=E.parentNode}}c=c.return}Cp(function(){var O=m,H=Wu(a),B=[];e:{var U=pm.get(r);if(U!==void 0){var K=rc,Y=r;switch(r){case"keypress":if(Ta(a)===0)break e;case"keydown":case"keyup":K=lS;break;case"focusin":Y="focus",K=oc;break;case"focusout":Y="blur",K=oc;break;case"beforeblur":case"afterblur":K=oc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Vp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Yw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=dS;break;case cm:case dm:case hm:K=Zw;break;case fm:K=fS;break;case"scroll":K=Kw;break;case"wheel":K=mS;break;case"copy":case"cut":case"paste":K=tS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Gp}var X=(s&4)!==0,$e=!X&&r==="scroll",k=X?U!==null?U+"Capture":null:U;X=[];for(var T=O,b;T!==null;){b=T;var z=b.stateNode;if(b.tag===5&&z!==null&&(b=z,k!==null&&(z=Is(T,k),z!=null&&X.push(Ws(T,z,b)))),$e)break;T=T.return}0<X.length&&(U=new K(U,Y,null,a,H),B.push({event:U,listeners:X}))}}if((s&7)===0){e:{if(U=r==="mouseover"||r==="pointerover",K=r==="mouseout"||r==="pointerout",U&&a!==zu&&(Y=a.relatedTarget||a.fromElement)&&(Br(Y)||Y[Pn]))break e;if((K||U)&&(U=H.window===H?H:(U=H.ownerDocument)?U.defaultView||U.parentWindow:window,K?(Y=a.relatedTarget||a.toElement,K=O,Y=Y?Br(Y):null,Y!==null&&($e=Hr(Y),Y!==$e||Y.tag!==5&&Y.tag!==6)&&(Y=null)):(K=null,Y=O),K!==Y)){if(X=Vp,z="onMouseLeave",k="onMouseEnter",T="mouse",(r==="pointerout"||r==="pointerover")&&(X=Gp,z="onPointerLeave",k="onPointerEnter",T="pointer"),$e=K==null?U:Ni(K),b=Y==null?U:Ni(Y),U=new X(z,T+"leave",K,a,H),U.target=$e,U.relatedTarget=b,z=null,Br(H)===O&&(X=new X(k,T+"enter",Y,a,H),X.target=b,X.relatedTarget=$e,z=X),$e=z,K&&Y)t:{for(X=K,k=Y,T=0,b=X;b;b=Pi(b))T++;for(b=0,z=k;z;z=Pi(z))b++;for(;0<T-b;)X=Pi(X),T--;for(;0<b-T;)k=Pi(k),b--;for(;T--;){if(X===k||k!==null&&X===k.alternate)break t;X=Pi(X),k=Pi(k)}X=null}else X=null;K!==null&&ym(B,U,K,X,!1),Y!==null&&$e!==null&&ym(B,$e,Y,X,!0)}}e:{if(U=O?Ni(O):window,K=U.nodeName&&U.nodeName.toLowerCase(),K==="select"||K==="input"&&U.type==="file")var ee=SS;else if(Jp(U))if(em)ee=xS;else{ee=IS;var ne=CS}else(K=U.nodeName)&&K.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(ee=TS);if(ee&&(ee=ee(r,O))){Zp(B,ee,a,H);break e}ne&&ne(r,U,O),r==="focusout"&&(ne=U._wrapperState)&&ne.controlled&&U.type==="number"&&Fu(U,"number",U.value)}switch(ne=O?Ni(O):window,r){case"focusin":(Jp(ne)||ne.contentEditable==="true")&&(xi=ne,hc=O,Bs=null);break;case"focusout":Bs=hc=xi=null;break;case"mousedown":fc=!0;break;case"contextmenu":case"mouseup":case"dragend":fc=!1,lm(B,a,H);break;case"selectionchange":if(kS)break;case"keydown":case"keyup":lm(B,a,H)}var re;if(lc)e:{switch(r){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else Ti?Yp(r,a)&&(ue="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(ue="onCompositionStart");ue&&(qp&&a.locale!=="ko"&&(Ti||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&Ti&&(re=zp()):(tr=H,nc="value"in tr?tr.value:tr.textContent,Ti=!0)),ne=Aa(O,ue),0<ne.length&&(ue=new $p(ue,r,null,a,H),B.push({event:ue,listeners:ne}),re?ue.data=re:(re=Xp(a),re!==null&&(ue.data=re)))),(re=vS?_S(r,a):yS(r,a))&&(O=Aa(O,"onBeforeInput"),0<O.length&&(H=new $p("onBeforeInput","beforeinput",null,a,H),B.push({event:H,listeners:O}),H.data=re))}vm(B,s)})}function Ws(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Aa(r,s){for(var a=s+"Capture",c=[];r!==null;){var h=r,m=h.stateNode;h.tag===5&&m!==null&&(h=m,m=Is(r,a),m!=null&&c.unshift(Ws(r,m,h)),m=Is(r,s),m!=null&&c.push(Ws(r,m,h))),r=r.return}return c}function Pi(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function ym(r,s,a,c,h){for(var m=s._reactName,_=[];a!==null&&a!==c;){var E=a,I=E.alternate,O=E.stateNode;if(I!==null&&I===c)break;E.tag===5&&O!==null&&(E=O,h?(I=Is(a,m),I!=null&&_.unshift(Ws(a,I,E))):h||(I=Is(a,m),I!=null&&_.push(Ws(a,I,E)))),a=a.return}_.length!==0&&r.push({event:s,listeners:_})}var LS=/\r\n?/g,OS=/\u0000|\uFFFD/g;function Em(r){return(typeof r=="string"?r:""+r).replace(LS,`
`).replace(OS,"")}function La(r,s,a){if(s=Em(s),Em(r)!==s&&a)throw Error(n(425))}function Oa(){}var yc=null,Ec=null;function wc(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Sc=typeof setTimeout=="function"?setTimeout:void 0,MS=typeof clearTimeout=="function"?clearTimeout:void 0,wm=typeof Promise=="function"?Promise:void 0,DS=typeof queueMicrotask=="function"?queueMicrotask:typeof wm<"u"?function(r){return wm.resolve(null).then(r).catch(FS)}:Sc;function FS(r){setTimeout(function(){throw r})}function Cc(r,s){var a=s,c=0;do{var h=a.nextSibling;if(r.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(c===0){r.removeChild(h),Ls(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=h}while(a);Ls(s)}function rr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Sm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var ki=Math.random().toString(36).slice(2),gn="__reactFiber$"+ki,Vs="__reactProps$"+ki,Pn="__reactContainer$"+ki,Ic="__reactEvents$"+ki,US="__reactListeners$"+ki,HS="__reactHandles$"+ki;function Br(r){var s=r[gn];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Pn]||a[gn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Sm(r);r!==null;){if(a=r[gn])return a;r=Sm(r)}return s}r=a,a=r.parentNode}return null}function $s(r){return r=r[gn]||r[Pn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ni(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Ma(r){return r[Vs]||null}var Tc=[],bi=-1;function ir(r){return{current:r}}function Oe(r){0>bi||(r.current=Tc[bi],Tc[bi]=null,bi--)}function Ne(r,s){bi++,Tc[bi]=r.current,r.current=s}var sr={},ct=ir(sr),xt=ir(!1),jr=sr;function Ai(r,s){var a=r.type.contextTypes;if(!a)return sr;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var h={},m;for(m in a)h[m]=s[m];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=h),h}function Rt(r){return r=r.childContextTypes,r!=null}function Da(){Oe(xt),Oe(ct)}function Cm(r,s,a){if(ct.current!==sr)throw Error(n(168));Ne(ct,s),Ne(xt,a)}function Im(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var h in c)if(!(h in s))throw Error(n(108,Ce(r)||"Unknown",h));return G({},a,c)}function Fa(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||sr,jr=ct.current,Ne(ct,r),Ne(xt,xt.current),!0}function Tm(r,s,a){var c=r.stateNode;if(!c)throw Error(n(169));a?(r=Im(r,s,jr),c.__reactInternalMemoizedMergedChildContext=r,Oe(xt),Oe(ct),Ne(ct,r)):Oe(xt),Ne(xt,a)}var kn=null,Ua=!1,xc=!1;function xm(r){kn===null?kn=[r]:kn.push(r)}function BS(r){Ua=!0,xm(r)}function or(){if(!xc&&kn!==null){xc=!0;var r=0,s=xe;try{var a=kn;for(xe=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}kn=null,Ua=!1}catch(h){throw kn!==null&&(kn=kn.slice(r+1)),Pp(Ku,or),h}finally{xe=s,xc=!1}}return null}var Li=[],Oi=0,Ha=null,Ba=0,Ht=[],Bt=0,zr=null,Nn=1,bn="";function Wr(r,s){Li[Oi++]=Ba,Li[Oi++]=Ha,Ha=r,Ba=s}function Rm(r,s,a){Ht[Bt++]=Nn,Ht[Bt++]=bn,Ht[Bt++]=zr,zr=r;var c=Nn;r=bn;var h=32-Xt(c)-1;c&=~(1<<h),a+=1;var m=32-Xt(s)+h;if(30<m){var _=h-h%5;m=(c&(1<<_)-1).toString(32),c>>=_,h-=_,Nn=1<<32-Xt(s)+h|a<<h|c,bn=m+r}else Nn=1<<m|a<<h|c,bn=r}function Rc(r){r.return!==null&&(Wr(r,1),Rm(r,1,0))}function Pc(r){for(;r===Ha;)Ha=Li[--Oi],Li[Oi]=null,Ba=Li[--Oi],Li[Oi]=null;for(;r===zr;)zr=Ht[--Bt],Ht[Bt]=null,bn=Ht[--Bt],Ht[Bt]=null,Nn=Ht[--Bt],Ht[Bt]=null}var Ot=null,Mt=null,Fe=!1,Zt=null;function Pm(r,s){var a=Vt(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function km(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Ot=r,Mt=rr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Ot=r,Mt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=zr!==null?{id:Nn,overflow:bn}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Vt(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Ot=r,Mt=null,!0):!1;default:return!1}}function kc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Nc(r){if(Fe){var s=Mt;if(s){var a=s;if(!km(r,s)){if(kc(r))throw Error(n(418));s=rr(a.nextSibling);var c=Ot;s&&km(r,s)?Pm(c,a):(r.flags=r.flags&-4097|2,Fe=!1,Ot=r)}}else{if(kc(r))throw Error(n(418));r.flags=r.flags&-4097|2,Fe=!1,Ot=r}}}function Nm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Ot=r}function ja(r){if(r!==Ot)return!1;if(!Fe)return Nm(r),Fe=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!wc(r.type,r.memoizedProps)),s&&(s=Mt)){if(kc(r))throw bm(),Error(n(418));for(;s;)Pm(r,s),s=rr(s.nextSibling)}if(Nm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){Mt=rr(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}Mt=null}}else Mt=Ot?rr(r.stateNode.nextSibling):null;return!0}function bm(){for(var r=Mt;r;)r=rr(r.nextSibling)}function Mi(){Mt=Ot=null,Fe=!1}function bc(r){Zt===null?Zt=[r]:Zt.push(r)}var jS=j.ReactCurrentBatchConfig;function Gs(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var c=a.stateNode}if(!c)throw Error(n(147,r));var h=c,m=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(_){var E=h.refs;_===null?delete E[m]:E[m]=_},s._stringRef=m,s)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function za(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Am(r){var s=r._init;return s(r._payload)}function Lm(r){function s(k,T){if(r){var b=k.deletions;b===null?(k.deletions=[T],k.flags|=16):b.push(T)}}function a(k,T){if(!r)return null;for(;T!==null;)s(k,T),T=T.sibling;return null}function c(k,T){for(k=new Map;T!==null;)T.key!==null?k.set(T.key,T):k.set(T.index,T),T=T.sibling;return k}function h(k,T){return k=pr(k,T),k.index=0,k.sibling=null,k}function m(k,T,b){return k.index=b,r?(b=k.alternate,b!==null?(b=b.index,b<T?(k.flags|=2,T):b):(k.flags|=2,T)):(k.flags|=1048576,T)}function _(k){return r&&k.alternate===null&&(k.flags|=2),k}function E(k,T,b,z){return T===null||T.tag!==6?(T=Sd(b,k.mode,z),T.return=k,T):(T=h(T,b),T.return=k,T)}function I(k,T,b,z){var ee=b.type;return ee===J?H(k,T,b.props.children,z,b.key):T!==null&&(T.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ut&&Am(ee)===T.type)?(z=h(T,b.props),z.ref=Gs(k,T,b),z.return=k,z):(z=hl(b.type,b.key,b.props,null,k.mode,z),z.ref=Gs(k,T,b),z.return=k,z)}function O(k,T,b,z){return T===null||T.tag!==4||T.stateNode.containerInfo!==b.containerInfo||T.stateNode.implementation!==b.implementation?(T=Cd(b,k.mode,z),T.return=k,T):(T=h(T,b.children||[]),T.return=k,T)}function H(k,T,b,z,ee){return T===null||T.tag!==7?(T=Xr(b,k.mode,z,ee),T.return=k,T):(T=h(T,b),T.return=k,T)}function B(k,T,b){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Sd(""+T,k.mode,b),T.return=k,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case L:return b=hl(T.type,T.key,T.props,null,k.mode,b),b.ref=Gs(k,null,T),b.return=k,b;case V:return T=Cd(T,k.mode,b),T.return=k,T;case ut:var z=T._init;return B(k,z(T._payload),b)}if(ws(T)||$(T))return T=Xr(T,k.mode,b,null),T.return=k,T;za(k,T)}return null}function U(k,T,b,z){var ee=T!==null?T.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return ee!==null?null:E(k,T,""+b,z);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case L:return b.key===ee?I(k,T,b,z):null;case V:return b.key===ee?O(k,T,b,z):null;case ut:return ee=b._init,U(k,T,ee(b._payload),z)}if(ws(b)||$(b))return ee!==null?null:H(k,T,b,z,null);za(k,b)}return null}function K(k,T,b,z,ee){if(typeof z=="string"&&z!==""||typeof z=="number")return k=k.get(b)||null,E(T,k,""+z,ee);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case L:return k=k.get(z.key===null?b:z.key)||null,I(T,k,z,ee);case V:return k=k.get(z.key===null?b:z.key)||null,O(T,k,z,ee);case ut:var ne=z._init;return K(k,T,b,ne(z._payload),ee)}if(ws(z)||$(z))return k=k.get(b)||null,H(T,k,z,ee,null);za(T,z)}return null}function Y(k,T,b,z){for(var ee=null,ne=null,re=T,ue=T=0,Ze=null;re!==null&&ue<b.length;ue++){re.index>ue?(Ze=re,re=null):Ze=re.sibling;var we=U(k,re,b[ue],z);if(we===null){re===null&&(re=Ze);break}r&&re&&we.alternate===null&&s(k,re),T=m(we,T,ue),ne===null?ee=we:ne.sibling=we,ne=we,re=Ze}if(ue===b.length)return a(k,re),Fe&&Wr(k,ue),ee;if(re===null){for(;ue<b.length;ue++)re=B(k,b[ue],z),re!==null&&(T=m(re,T,ue),ne===null?ee=re:ne.sibling=re,ne=re);return Fe&&Wr(k,ue),ee}for(re=c(k,re);ue<b.length;ue++)Ze=K(re,k,ue,b[ue],z),Ze!==null&&(r&&Ze.alternate!==null&&re.delete(Ze.key===null?ue:Ze.key),T=m(Ze,T,ue),ne===null?ee=Ze:ne.sibling=Ze,ne=Ze);return r&&re.forEach(function(mr){return s(k,mr)}),Fe&&Wr(k,ue),ee}function X(k,T,b,z){var ee=$(b);if(typeof ee!="function")throw Error(n(150));if(b=ee.call(b),b==null)throw Error(n(151));for(var ne=ee=null,re=T,ue=T=0,Ze=null,we=b.next();re!==null&&!we.done;ue++,we=b.next()){re.index>ue?(Ze=re,re=null):Ze=re.sibling;var mr=U(k,re,we.value,z);if(mr===null){re===null&&(re=Ze);break}r&&re&&mr.alternate===null&&s(k,re),T=m(mr,T,ue),ne===null?ee=mr:ne.sibling=mr,ne=mr,re=Ze}if(we.done)return a(k,re),Fe&&Wr(k,ue),ee;if(re===null){for(;!we.done;ue++,we=b.next())we=B(k,we.value,z),we!==null&&(T=m(we,T,ue),ne===null?ee=we:ne.sibling=we,ne=we);return Fe&&Wr(k,ue),ee}for(re=c(k,re);!we.done;ue++,we=b.next())we=K(re,k,ue,we.value,z),we!==null&&(r&&we.alternate!==null&&re.delete(we.key===null?ue:we.key),T=m(we,T,ue),ne===null?ee=we:ne.sibling=we,ne=we);return r&&re.forEach(function(EC){return s(k,EC)}),Fe&&Wr(k,ue),ee}function $e(k,T,b,z){if(typeof b=="object"&&b!==null&&b.type===J&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case L:e:{for(var ee=b.key,ne=T;ne!==null;){if(ne.key===ee){if(ee=b.type,ee===J){if(ne.tag===7){a(k,ne.sibling),T=h(ne,b.props.children),T.return=k,k=T;break e}}else if(ne.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ut&&Am(ee)===ne.type){a(k,ne.sibling),T=h(ne,b.props),T.ref=Gs(k,ne,b),T.return=k,k=T;break e}a(k,ne);break}else s(k,ne);ne=ne.sibling}b.type===J?(T=Xr(b.props.children,k.mode,z,b.key),T.return=k,k=T):(z=hl(b.type,b.key,b.props,null,k.mode,z),z.ref=Gs(k,T,b),z.return=k,k=z)}return _(k);case V:e:{for(ne=b.key;T!==null;){if(T.key===ne)if(T.tag===4&&T.stateNode.containerInfo===b.containerInfo&&T.stateNode.implementation===b.implementation){a(k,T.sibling),T=h(T,b.children||[]),T.return=k,k=T;break e}else{a(k,T);break}else s(k,T);T=T.sibling}T=Cd(b,k.mode,z),T.return=k,k=T}return _(k);case ut:return ne=b._init,$e(k,T,ne(b._payload),z)}if(ws(b))return Y(k,T,b,z);if($(b))return X(k,T,b,z);za(k,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,T!==null&&T.tag===6?(a(k,T.sibling),T=h(T,b),T.return=k,k=T):(a(k,T),T=Sd(b,k.mode,z),T.return=k,k=T),_(k)):a(k,T)}return $e}var Di=Lm(!0),Om=Lm(!1),Wa=ir(null),Va=null,Fi=null,Ac=null;function Lc(){Ac=Fi=Va=null}function Oc(r){var s=Wa.current;Oe(Wa),r._currentValue=s}function Mc(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function Ui(r,s){Va=r,Ac=Fi=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Pt=!0),r.firstContext=null)}function jt(r){var s=r._currentValue;if(Ac!==r)if(r={context:r,memoizedValue:s,next:null},Fi===null){if(Va===null)throw Error(n(308));Fi=r,Va.dependencies={lanes:0,firstContext:r}}else Fi=Fi.next=r;return s}var Vr=null;function Dc(r){Vr===null?Vr=[r]:Vr.push(r)}function Mm(r,s,a,c){var h=s.interleaved;return h===null?(a.next=a,Dc(s)):(a.next=h.next,h.next=a),s.interleaved=a,An(r,c)}function An(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var ar=!1;function Fc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ln(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function lr(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(ye&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,An(r,a)}return h=c.interleaved,h===null?(s.next=s,Dc(c)):(s.next=h.next,h.next=s),c.interleaved=s,An(r,a)}function $a(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Xu(r,a)}}function Fm(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?h=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?h=m=s:m=m.next=s}else h=m=s;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Ga(r,s,a,c){var h=r.updateQueue;ar=!1;var m=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,O=I.next;I.next=null,_===null?m=O:_.next=O,_=I;var H=r.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==_&&(E===null?H.firstBaseUpdate=O:E.next=O,H.lastBaseUpdate=I))}if(m!==null){var B=h.baseState;_=0,H=O=I=null,E=m;do{var U=E.lane,K=E.eventTime;if((c&U)===U){H!==null&&(H=H.next={eventTime:K,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var Y=r,X=E;switch(U=s,K=a,X.tag){case 1:if(Y=X.payload,typeof Y=="function"){B=Y.call(K,B,U);break e}B=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=X.payload,U=typeof Y=="function"?Y.call(K,B,U):Y,U==null)break e;B=G({},B,U);break e;case 2:ar=!0}}E.callback!==null&&E.lane!==0&&(r.flags|=64,U=h.effects,U===null?h.effects=[E]:U.push(E))}else K={eventTime:K,lane:U,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(O=H=K,I=B):H=H.next=K,_|=U;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;U=E,E=U.next,U.next=null,h.lastBaseUpdate=U,h.shared.pending=null}}while(!0);if(H===null&&(I=B),h.baseState=I,h.firstBaseUpdate=O,h.lastBaseUpdate=H,s=h.shared.interleaved,s!==null){h=s;do _|=h.lane,h=h.next;while(h!==s)}else m===null&&(h.shared.lanes=0);qr|=_,r.lanes=_,r.memoizedState=B}}function Um(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],h=c.callback;if(h!==null){if(c.callback=null,c=a,typeof h!="function")throw Error(n(191,h));h.call(c)}}}var qs={},vn=ir(qs),Ks=ir(qs),Qs=ir(qs);function $r(r){if(r===qs)throw Error(n(174));return r}function Uc(r,s){switch(Ne(Qs,s),Ne(Ks,r),Ne(vn,qs),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Hu(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Hu(s,r)}Oe(vn),Ne(vn,s)}function Hi(){Oe(vn),Oe(Ks),Oe(Qs)}function Hm(r){$r(Qs.current);var s=$r(vn.current),a=Hu(s,r.type);s!==a&&(Ne(Ks,r),Ne(vn,a))}function Hc(r){Ks.current===r&&(Oe(vn),Oe(Ks))}var He=ir(0);function qa(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Bc=[];function jc(){for(var r=0;r<Bc.length;r++)Bc[r]._workInProgressVersionPrimary=null;Bc.length=0}var Ka=j.ReactCurrentDispatcher,zc=j.ReactCurrentBatchConfig,Gr=0,Be=null,qe=null,Xe=null,Qa=!1,Ys=!1,Xs=0,zS=0;function dt(){throw Error(n(321))}function Wc(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Jt(r[a],s[a]))return!1;return!0}function Vc(r,s,a,c,h,m){if(Gr=m,Be=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ka.current=r===null||r.memoizedState===null?GS:qS,r=a(c,h),Ys){m=0;do{if(Ys=!1,Xs=0,25<=m)throw Error(n(301));m+=1,Xe=qe=null,s.updateQueue=null,Ka.current=KS,r=a(c,h)}while(Ys)}if(Ka.current=Ja,s=qe!==null&&qe.next!==null,Gr=0,Xe=qe=Be=null,Qa=!1,s)throw Error(n(300));return r}function $c(){var r=Xs!==0;return Xs=0,r}function _n(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Be.memoizedState=Xe=r:Xe=Xe.next=r,Xe}function zt(){if(qe===null){var r=Be.alternate;r=r!==null?r.memoizedState:null}else r=qe.next;var s=Xe===null?Be.memoizedState:Xe.next;if(s!==null)Xe=s,qe=r;else{if(r===null)throw Error(n(310));qe=r,r={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Xe===null?Be.memoizedState=Xe=r:Xe=Xe.next=r}return Xe}function Js(r,s){return typeof s=="function"?s(r):s}function Gc(r){var s=zt(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var c=qe,h=c.baseQueue,m=a.pending;if(m!==null){if(h!==null){var _=h.next;h.next=m.next,m.next=_}c.baseQueue=h=m,a.pending=null}if(h!==null){m=h.next,c=c.baseState;var E=_=null,I=null,O=m;do{var H=O.lane;if((Gr&H)===H)I!==null&&(I=I.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),c=O.hasEagerState?O.eagerState:r(c,O.action);else{var B={lane:H,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};I===null?(E=I=B,_=c):I=I.next=B,Be.lanes|=H,qr|=H}O=O.next}while(O!==null&&O!==m);I===null?_=c:I.next=E,Jt(c,s.memoizedState)||(Pt=!0),s.memoizedState=c,s.baseState=_,s.baseQueue=I,a.lastRenderedState=c}if(r=a.interleaved,r!==null){h=r;do m=h.lane,Be.lanes|=m,qr|=m,h=h.next;while(h!==r)}else h===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function qc(r){var s=zt(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var c=a.dispatch,h=a.pending,m=s.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do m=r(m,_.action),_=_.next;while(_!==h);Jt(m,s.memoizedState)||(Pt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,c]}function Bm(){}function jm(r,s){var a=Be,c=zt(),h=s(),m=!Jt(c.memoizedState,h);if(m&&(c.memoizedState=h,Pt=!0),c=c.queue,Kc(Vm.bind(null,a,c,r),[r]),c.getSnapshot!==s||m||Xe!==null&&Xe.memoizedState.tag&1){if(a.flags|=2048,Zs(9,Wm.bind(null,a,c,h,s),void 0,null),Je===null)throw Error(n(349));(Gr&30)!==0||zm(a,s,h)}return h}function zm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=Be.updateQueue,s===null?(s={lastEffect:null,stores:null},Be.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Wm(r,s,a,c){s.value=a,s.getSnapshot=c,$m(s)&&Gm(r)}function Vm(r,s,a){return a(function(){$m(s)&&Gm(r)})}function $m(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Jt(r,a)}catch{return!0}}function Gm(r){var s=An(r,1);s!==null&&rn(s,r,1,-1)}function qm(r){var s=_n();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:r},s.queue=r,r=r.dispatch=$S.bind(null,Be,r),[s.memoizedState,r]}function Zs(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=Be.updateQueue,s===null?(s={lastEffect:null,stores:null},Be.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function Km(){return zt().memoizedState}function Ya(r,s,a,c){var h=_n();Be.flags|=r,h.memoizedState=Zs(1|s,a,void 0,c===void 0?null:c)}function Xa(r,s,a,c){var h=zt();c=c===void 0?null:c;var m=void 0;if(qe!==null){var _=qe.memoizedState;if(m=_.destroy,c!==null&&Wc(c,_.deps)){h.memoizedState=Zs(s,a,m,c);return}}Be.flags|=r,h.memoizedState=Zs(1|s,a,m,c)}function Qm(r,s){return Ya(8390656,8,r,s)}function Kc(r,s){return Xa(2048,8,r,s)}function Ym(r,s){return Xa(4,2,r,s)}function Xm(r,s){return Xa(4,4,r,s)}function Jm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Zm(r,s,a){return a=a!=null?a.concat([r]):null,Xa(4,4,Jm.bind(null,s,r),a)}function Qc(){}function eg(r,s){var a=zt();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Wc(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function tg(r,s){var a=zt();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Wc(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function ng(r,s,a){return(Gr&21)===0?(r.baseState&&(r.baseState=!1,Pt=!0),r.memoizedState=a):(Jt(a,s)||(a=Ap(),Be.lanes|=a,qr|=a,r.baseState=!0),s)}function WS(r,s){var a=xe;xe=a!==0&&4>a?a:4,r(!0);var c=zc.transition;zc.transition={};try{r(!1),s()}finally{xe=a,zc.transition=c}}function rg(){return zt().memoizedState}function VS(r,s,a){var c=hr(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},ig(r))sg(s,a);else if(a=Mm(r,s,a,c),a!==null){var h=vt();rn(a,r,c,h),og(a,s,c)}}function $S(r,s,a){var c=hr(r),h={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(ig(r))sg(s,h);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var _=s.lastRenderedState,E=m(_,a);if(h.hasEagerState=!0,h.eagerState=E,Jt(E,_)){var I=s.interleaved;I===null?(h.next=h,Dc(s)):(h.next=I.next,I.next=h),s.interleaved=h;return}}catch{}finally{}a=Mm(r,s,h,c),a!==null&&(h=vt(),rn(a,r,c,h),og(a,s,c))}}function ig(r){var s=r.alternate;return r===Be||s!==null&&s===Be}function sg(r,s){Ys=Qa=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function og(r,s,a){if((a&4194240)!==0){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Xu(r,a)}}var Ja={readContext:jt,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},GS={readContext:jt,useCallback:function(r,s){return _n().memoizedState=[r,s===void 0?null:s],r},useContext:jt,useEffect:Qm,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Ya(4194308,4,Jm.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Ya(4194308,4,r,s)},useInsertionEffect:function(r,s){return Ya(4,2,r,s)},useMemo:function(r,s){var a=_n();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=_n();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=VS.bind(null,Be,r),[c.memoizedState,r]},useRef:function(r){var s=_n();return r={current:r},s.memoizedState=r},useState:qm,useDebugValue:Qc,useDeferredValue:function(r){return _n().memoizedState=r},useTransition:function(){var r=qm(!1),s=r[0];return r=WS.bind(null,r[1]),_n().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=Be,h=_n();if(Fe){if(a===void 0)throw Error(n(407));a=a()}else{if(a=s(),Je===null)throw Error(n(349));(Gr&30)!==0||zm(c,s,a)}h.memoizedState=a;var m={value:a,getSnapshot:s};return h.queue=m,Qm(Vm.bind(null,c,m,r),[r]),c.flags|=2048,Zs(9,Wm.bind(null,c,m,a,s),void 0,null),a},useId:function(){var r=_n(),s=Je.identifierPrefix;if(Fe){var a=bn,c=Nn;a=(c&~(1<<32-Xt(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Xs++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=zS++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},qS={readContext:jt,useCallback:eg,useContext:jt,useEffect:Kc,useImperativeHandle:Zm,useInsertionEffect:Ym,useLayoutEffect:Xm,useMemo:tg,useReducer:Gc,useRef:Km,useState:function(){return Gc(Js)},useDebugValue:Qc,useDeferredValue:function(r){var s=zt();return ng(s,qe.memoizedState,r)},useTransition:function(){var r=Gc(Js)[0],s=zt().memoizedState;return[r,s]},useMutableSource:Bm,useSyncExternalStore:jm,useId:rg,unstable_isNewReconciler:!1},KS={readContext:jt,useCallback:eg,useContext:jt,useEffect:Kc,useImperativeHandle:Zm,useInsertionEffect:Ym,useLayoutEffect:Xm,useMemo:tg,useReducer:qc,useRef:Km,useState:function(){return qc(Js)},useDebugValue:Qc,useDeferredValue:function(r){var s=zt();return qe===null?s.memoizedState=r:ng(s,qe.memoizedState,r)},useTransition:function(){var r=qc(Js)[0],s=zt().memoizedState;return[r,s]},useMutableSource:Bm,useSyncExternalStore:jm,useId:rg,unstable_isNewReconciler:!1};function en(r,s){if(r&&r.defaultProps){s=G({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Yc(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:G({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Za={isMounted:function(r){return(r=r._reactInternals)?Hr(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=vt(),h=hr(r),m=Ln(c,h);m.payload=s,a!=null&&(m.callback=a),s=lr(r,m,h),s!==null&&(rn(s,r,h,c),$a(s,r,h))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=vt(),h=hr(r),m=Ln(c,h);m.tag=1,m.payload=s,a!=null&&(m.callback=a),s=lr(r,m,h),s!==null&&(rn(s,r,h,c),$a(s,r,h))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=vt(),c=hr(r),h=Ln(a,c);h.tag=2,s!=null&&(h.callback=s),s=lr(r,h,c),s!==null&&(rn(s,r,c,a),$a(s,r,c))}};function ag(r,s,a,c,h,m,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,m,_):s.prototype&&s.prototype.isPureReactComponent?!Hs(a,c)||!Hs(h,m):!0}function lg(r,s,a){var c=!1,h=sr,m=s.contextType;return typeof m=="object"&&m!==null?m=jt(m):(h=Rt(s)?jr:ct.current,c=s.contextTypes,m=(c=c!=null)?Ai(r,h):sr),s=new s(a,m),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Za,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=h,r.__reactInternalMemoizedMaskedChildContext=m),s}function ug(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&Za.enqueueReplaceState(s,s.state,null)}function Xc(r,s,a,c){var h=r.stateNode;h.props=a,h.state=r.memoizedState,h.refs={},Fc(r);var m=s.contextType;typeof m=="object"&&m!==null?h.context=jt(m):(m=Rt(s)?jr:ct.current,h.context=Ai(r,m)),h.state=r.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(Yc(r,s,m,a),h.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&Za.enqueueReplaceState(h,h.state,null),Ga(r,a,h,c),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308)}function Bi(r,s){try{var a="",c=s;do a+=he(c),c=c.return;while(c);var h=a}catch(m){h=`
Error generating stack: `+m.message+`
`+m.stack}return{value:r,source:s,stack:h,digest:null}}function Jc(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Zc(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var QS=typeof WeakMap=="function"?WeakMap:Map;function cg(r,s,a){a=Ln(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){ol||(ol=!0,pd=c),Zc(r,s)},a}function dg(r,s,a){a=Ln(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=s.value;a.payload=function(){return c(h)},a.callback=function(){Zc(r,s)}}var m=r.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Zc(r,s),typeof c!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),a}function hg(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new QS;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(a)||(h.add(a),r=uC.bind(null,r,s,a),s.then(r,r))}function fg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function pg(r,s,a,c,h){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Ln(-1,1),s.tag=2,lr(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=h,r)}var YS=j.ReactCurrentOwner,Pt=!1;function gt(r,s,a,c){s.child=r===null?Om(s,null,a,c):Di(s,r.child,a,c)}function mg(r,s,a,c,h){a=a.render;var m=s.ref;return Ui(s,h),c=Vc(r,s,a,c,m,h),a=$c(),r!==null&&!Pt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,On(r,s,h)):(Fe&&a&&Rc(s),s.flags|=1,gt(r,s,c,h),s.child)}function gg(r,s,a,c,h){if(r===null){var m=a.type;return typeof m=="function"&&!wd(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=m,vg(r,s,m,c,h)):(r=hl(a.type,null,c,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,(r.lanes&h)===0){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:Hs,a(_,c)&&r.ref===s.ref)return On(r,s,h)}return s.flags|=1,r=pr(m,c),r.ref=s.ref,r.return=s,s.child=r}function vg(r,s,a,c,h){if(r!==null){var m=r.memoizedProps;if(Hs(m,c)&&r.ref===s.ref)if(Pt=!1,s.pendingProps=c=m,(r.lanes&h)!==0)(r.flags&131072)!==0&&(Pt=!0);else return s.lanes=r.lanes,On(r,s,h)}return ed(r,s,a,c,h)}function _g(r,s,a){var c=s.pendingProps,h=c.children,m=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(zi,Dt),Dt|=a;else{if((a&1073741824)===0)return r=m!==null?m.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ne(zi,Dt),Dt|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,Ne(zi,Dt),Dt|=c}else m!==null?(c=m.baseLanes|a,s.memoizedState=null):c=a,Ne(zi,Dt),Dt|=c;return gt(r,s,h,a),s.child}function yg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function ed(r,s,a,c,h){var m=Rt(a)?jr:ct.current;return m=Ai(s,m),Ui(s,h),a=Vc(r,s,a,c,m,h),c=$c(),r!==null&&!Pt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,On(r,s,h)):(Fe&&c&&Rc(s),s.flags|=1,gt(r,s,a,h),s.child)}function Eg(r,s,a,c,h){if(Rt(a)){var m=!0;Fa(s)}else m=!1;if(Ui(s,h),s.stateNode===null)tl(r,s),lg(s,a,c),Xc(s,a,c,h),c=!0;else if(r===null){var _=s.stateNode,E=s.memoizedProps;_.props=E;var I=_.context,O=a.contextType;typeof O=="object"&&O!==null?O=jt(O):(O=Rt(a)?jr:ct.current,O=Ai(s,O));var H=a.getDerivedStateFromProps,B=typeof H=="function"||typeof _.getSnapshotBeforeUpdate=="function";B||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(E!==c||I!==O)&&ug(s,_,c,O),ar=!1;var U=s.memoizedState;_.state=U,Ga(s,c,_,h),I=s.memoizedState,E!==c||U!==I||xt.current||ar?(typeof H=="function"&&(Yc(s,a,H,c),I=s.memoizedState),(E=ar||ag(s,a,E,c,U,I,O))?(B||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=I),_.props=c,_.state=I,_.context=O,c=E):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{_=s.stateNode,Dm(r,s),E=s.memoizedProps,O=s.type===s.elementType?E:en(s.type,E),_.props=O,B=s.pendingProps,U=_.context,I=a.contextType,typeof I=="object"&&I!==null?I=jt(I):(I=Rt(a)?jr:ct.current,I=Ai(s,I));var K=a.getDerivedStateFromProps;(H=typeof K=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(E!==B||U!==I)&&ug(s,_,c,I),ar=!1,U=s.memoizedState,_.state=U,Ga(s,c,_,h);var Y=s.memoizedState;E!==B||U!==Y||xt.current||ar?(typeof K=="function"&&(Yc(s,a,K,c),Y=s.memoizedState),(O=ar||ag(s,a,O,c,U,Y,I)||!1)?(H||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,Y,I),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,Y,I)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||E===r.memoizedProps&&U===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&U===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Y),_.props=c,_.state=Y,_.context=I,c=O):(typeof _.componentDidUpdate!="function"||E===r.memoizedProps&&U===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&U===r.memoizedState||(s.flags|=1024),c=!1)}return td(r,s,a,c,m,h)}function td(r,s,a,c,h,m){yg(r,s);var _=(s.flags&128)!==0;if(!c&&!_)return h&&Tm(s,a,!1),On(r,s,m);c=s.stateNode,YS.current=s;var E=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&_?(s.child=Di(s,r.child,null,m),s.child=Di(s,null,E,m)):gt(r,s,E,m),s.memoizedState=c.state,h&&Tm(s,a,!0),s.child}function wg(r){var s=r.stateNode;s.pendingContext?Cm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Cm(r,s.context,!1),Uc(r,s.containerInfo)}function Sg(r,s,a,c,h){return Mi(),bc(h),s.flags|=256,gt(r,s,a,c),s.child}var nd={dehydrated:null,treeContext:null,retryLane:0};function rd(r){return{baseLanes:r,cachePool:null,transitions:null}}function Cg(r,s,a){var c=s.pendingProps,h=He.current,m=!1,_=(s.flags&128)!==0,E;if((E=_)||(E=r!==null&&r.memoizedState===null?!1:(h&2)!==0),E?(m=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(h|=1),Ne(He,h&1),r===null)return Nc(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(_=c.children,r=c.fallback,m?(c=s.mode,m=s.child,_={mode:"hidden",children:_},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=_):m=fl(_,c,0,null),r=Xr(r,c,a,null),m.return=s,r.return=s,m.sibling=r,s.child=m,s.child.memoizedState=rd(a),s.memoizedState=nd,r):id(s,_));if(h=r.memoizedState,h!==null&&(E=h.dehydrated,E!==null))return XS(r,s,_,c,E,h,a);if(m){m=c.fallback,_=s.mode,h=r.child,E=h.sibling;var I={mode:"hidden",children:c.children};return(_&1)===0&&s.child!==h?(c=s.child,c.childLanes=0,c.pendingProps=I,s.deletions=null):(c=pr(h,I),c.subtreeFlags=h.subtreeFlags&14680064),E!==null?m=pr(E,m):(m=Xr(m,_,a,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,_=r.child.memoizedState,_=_===null?rd(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=r.childLanes&~a,s.memoizedState=nd,c}return m=r.child,r=m.sibling,c=pr(m,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function id(r,s){return s=fl({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function el(r,s,a,c){return c!==null&&bc(c),Di(s,r.child,null,a),r=id(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function XS(r,s,a,c,h,m,_){if(a)return s.flags&256?(s.flags&=-257,c=Jc(Error(n(422))),el(r,s,_,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(m=c.fallback,h=s.mode,c=fl({mode:"visible",children:c.children},h,0,null),m=Xr(m,h,_,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,(s.mode&1)!==0&&Di(s,r.child,null,_),s.child.memoizedState=rd(_),s.memoizedState=nd,m);if((s.mode&1)===0)return el(r,s,_,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var E=c.dgst;return c=E,m=Error(n(419)),c=Jc(m,c,void 0),el(r,s,_,c)}if(E=(_&r.childLanes)!==0,Pt||E){if(c=Je,c!==null){switch(_&-_){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|_))!==0?0:h,h!==0&&h!==m.retryLane&&(m.retryLane=h,An(r,h),rn(c,r,h,-1))}return Ed(),c=Jc(Error(n(421))),el(r,s,_,c)}return h.data==="$?"?(s.flags|=128,s.child=r.child,s=cC.bind(null,r),h._reactRetry=s,null):(r=m.treeContext,Mt=rr(h.nextSibling),Ot=s,Fe=!0,Zt=null,r!==null&&(Ht[Bt++]=Nn,Ht[Bt++]=bn,Ht[Bt++]=zr,Nn=r.id,bn=r.overflow,zr=s),s=id(s,c.children),s.flags|=4096,s)}function Ig(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Mc(r.return,s,a)}function sd(r,s,a,c,h){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=h)}function Tg(r,s,a){var c=s.pendingProps,h=c.revealOrder,m=c.tail;if(gt(r,s,c.children,a),c=He.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ig(r,a,s);else if(r.tag===19)Ig(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(Ne(He,c),(s.mode&1)===0)s.memoizedState=null;else switch(h){case"forwards":for(a=s.child,h=null;a!==null;)r=a.alternate,r!==null&&qa(r)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),sd(s,!1,h,a,m);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&qa(r)===null){s.child=h;break}r=h.sibling,h.sibling=a,a=h,h=r}sd(s,!0,a,null,m);break;case"together":sd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function tl(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function On(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),qr|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,a=pr(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=pr(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function JS(r,s,a){switch(s.tag){case 3:wg(s),Mi();break;case 5:Hm(s);break;case 1:Rt(s.type)&&Fa(s);break;case 4:Uc(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,h=s.memoizedProps.value;Ne(Wa,c._currentValue),c._currentValue=h;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Ne(He,He.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Cg(r,s,a):(Ne(He,He.current&1),r=On(r,s,a),r!==null?r.sibling:null);Ne(He,He.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(r.flags&128)!==0){if(c)return Tg(r,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ne(He,He.current),c)break;return null;case 22:case 23:return s.lanes=0,_g(r,s,a)}return On(r,s,a)}var xg,od,Rg,Pg;xg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},od=function(){},Rg=function(r,s,a,c){var h=r.memoizedProps;if(h!==c){r=s.stateNode,$r(vn.current);var m=null;switch(a){case"input":h=Mu(r,h),c=Mu(r,c),m=[];break;case"select":h=G({},h,{value:void 0}),c=G({},c,{value:void 0}),m=[];break;case"textarea":h=Uu(r,h),c=Uu(r,c),m=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=Oa)}Bu(a,c);var _;a=null;for(O in h)if(!c.hasOwnProperty(O)&&h.hasOwnProperty(O)&&h[O]!=null)if(O==="style"){var E=h[O];for(_ in E)E.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(o.hasOwnProperty(O)?m||(m=[]):(m=m||[]).push(O,null));for(O in c){var I=c[O];if(E=h!=null?h[O]:void 0,c.hasOwnProperty(O)&&I!==E&&(I!=null||E!=null))if(O==="style")if(E){for(_ in E)!E.hasOwnProperty(_)||I&&I.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in I)I.hasOwnProperty(_)&&E[_]!==I[_]&&(a||(a={}),a[_]=I[_])}else a||(m||(m=[]),m.push(O,a)),a=I;else O==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,E=E?E.__html:void 0,I!=null&&E!==I&&(m=m||[]).push(O,I)):O==="children"?typeof I!="string"&&typeof I!="number"||(m=m||[]).push(O,""+I):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(o.hasOwnProperty(O)?(I!=null&&O==="onScroll"&&Le("scroll",r),m||E===I||(m=[])):(m=m||[]).push(O,I))}a&&(m=m||[]).push("style",a);var O=m;(s.updateQueue=O)&&(s.flags|=4)}},Pg=function(r,s,a,c){a!==c&&(s.flags|=4)};function eo(r,s){if(!Fe)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function ht(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var h=r.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function ZS(r,s,a){var c=s.pendingProps;switch(Pc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(s),null;case 1:return Rt(s.type)&&Da(),ht(s),null;case 3:return c=s.stateNode,Hi(),Oe(xt),Oe(ct),jc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(ja(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Zt!==null&&(vd(Zt),Zt=null))),od(r,s),ht(s),null;case 5:Hc(s);var h=$r(Qs.current);if(a=s.type,r!==null&&s.stateNode!=null)Rg(r,s,a,c,h),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(n(166));return ht(s),null}if(r=$r(vn.current),ja(s)){c=s.stateNode,a=s.type;var m=s.memoizedProps;switch(c[gn]=s,c[Vs]=m,r=(s.mode&1)!==0,a){case"dialog":Le("cancel",c),Le("close",c);break;case"iframe":case"object":case"embed":Le("load",c);break;case"video":case"audio":for(h=0;h<js.length;h++)Le(js[h],c);break;case"source":Le("error",c);break;case"img":case"image":case"link":Le("error",c),Le("load",c);break;case"details":Le("toggle",c);break;case"input":lp(c,m),Le("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Le("invalid",c);break;case"textarea":dp(c,m),Le("invalid",c)}Bu(a,m),h=null;for(var _ in m)if(m.hasOwnProperty(_)){var E=m[_];_==="children"?typeof E=="string"?c.textContent!==E&&(m.suppressHydrationWarning!==!0&&La(c.textContent,E,r),h=["children",E]):typeof E=="number"&&c.textContent!==""+E&&(m.suppressHydrationWarning!==!0&&La(c.textContent,E,r),h=["children",""+E]):o.hasOwnProperty(_)&&E!=null&&_==="onScroll"&&Le("scroll",c)}switch(a){case"input":ca(c),cp(c,m,!0);break;case"textarea":ca(c),fp(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Oa)}c=h,s.updateQueue=c,c!==null&&(s.flags|=4)}else{_=h.nodeType===9?h:h.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=pp(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=_.createElement(a,{is:c.is}):(r=_.createElement(a),a==="select"&&(_=r,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):r=_.createElementNS(r,a),r[gn]=s,r[Vs]=c,xg(r,s,!1,!1),s.stateNode=r;e:{switch(_=ju(a,c),a){case"dialog":Le("cancel",r),Le("close",r),h=c;break;case"iframe":case"object":case"embed":Le("load",r),h=c;break;case"video":case"audio":for(h=0;h<js.length;h++)Le(js[h],r);h=c;break;case"source":Le("error",r),h=c;break;case"img":case"image":case"link":Le("error",r),Le("load",r),h=c;break;case"details":Le("toggle",r),h=c;break;case"input":lp(r,c),h=Mu(r,c),Le("invalid",r);break;case"option":h=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},h=G({},c,{value:void 0}),Le("invalid",r);break;case"textarea":dp(r,c),h=Uu(r,c),Le("invalid",r);break;default:h=c}Bu(a,h),E=h;for(m in E)if(E.hasOwnProperty(m)){var I=E[m];m==="style"?vp(r,I):m==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&mp(r,I)):m==="children"?typeof I=="string"?(a!=="textarea"||I!=="")&&Ss(r,I):typeof I=="number"&&Ss(r,""+I):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?I!=null&&m==="onScroll"&&Le("scroll",r):I!=null&&F(r,m,I,_))}switch(a){case"input":ca(r),cp(r,c,!1);break;case"textarea":ca(r),fp(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Ie(c.value));break;case"select":r.multiple=!!c.multiple,m=c.value,m!=null?Ei(r,!!c.multiple,m,!1):c.defaultValue!=null&&Ei(r,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(r.onclick=Oa)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return ht(s),null;case 6:if(r&&s.stateNode!=null)Pg(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(a=$r(Qs.current),$r(vn.current),ja(s)){if(c=s.stateNode,a=s.memoizedProps,c[gn]=s,(m=c.nodeValue!==a)&&(r=Ot,r!==null))switch(r.tag){case 3:La(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&La(c.nodeValue,a,(r.mode&1)!==0)}m&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[gn]=s,s.stateNode=c}return ht(s),null;case 13:if(Oe(He),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Fe&&Mt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)bm(),Mi(),s.flags|=98560,m=!1;else if(m=ja(s),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(n(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[gn]=s}else Mi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ht(s),m=!1}else Zt!==null&&(vd(Zt),Zt=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(He.current&1)!==0?Ke===0&&(Ke=3):Ed())),s.updateQueue!==null&&(s.flags|=4),ht(s),null);case 4:return Hi(),od(r,s),r===null&&zs(s.stateNode.containerInfo),ht(s),null;case 10:return Oc(s.type._context),ht(s),null;case 17:return Rt(s.type)&&Da(),ht(s),null;case 19:if(Oe(He),m=s.memoizedState,m===null)return ht(s),null;if(c=(s.flags&128)!==0,_=m.rendering,_===null)if(c)eo(m,!1);else{if(Ke!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(_=qa(r),_!==null){for(s.flags|=128,eo(m,!1),c=_.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)m=a,r=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=r,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,r=_.dependencies,m.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ne(He,He.current&1|2),s.child}r=r.sibling}m.tail!==null&&Ve()>Wi&&(s.flags|=128,c=!0,eo(m,!1),s.lanes=4194304)}else{if(!c)if(r=qa(_),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),eo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Fe)return ht(s),null}else 2*Ve()-m.renderingStartTime>Wi&&a!==1073741824&&(s.flags|=128,c=!0,eo(m,!1),s.lanes=4194304);m.isBackwards?(_.sibling=s.child,s.child=_):(a=m.last,a!==null?a.sibling=_:s.child=_,m.last=_)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Ve(),s.sibling=null,a=He.current,Ne(He,c?a&1|2:a&1),s):(ht(s),null);case 22:case 23:return yd(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(Dt&1073741824)!==0&&(ht(s),s.subtreeFlags&6&&(s.flags|=8192)):ht(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function eC(r,s){switch(Pc(s),s.tag){case 1:return Rt(s.type)&&Da(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Hi(),Oe(xt),Oe(ct),jc(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Hc(s),null;case 13:if(Oe(He),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Mi()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Oe(He),null;case 4:return Hi(),null;case 10:return Oc(s.type._context),null;case 22:case 23:return yd(),null;case 24:return null;default:return null}}var nl=!1,ft=!1,tC=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ji(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){ze(r,s,c)}else a.current=null}function ad(r,s,a){try{a()}catch(c){ze(r,s,c)}}var kg=!1;function nC(r,s){if(yc=Sa,r=am(),dc(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,E=-1,I=-1,O=0,H=0,B=r,U=null;t:for(;;){for(var K;B!==a||h!==0&&B.nodeType!==3||(E=_+h),B!==m||c!==0&&B.nodeType!==3||(I=_+c),B.nodeType===3&&(_+=B.nodeValue.length),(K=B.firstChild)!==null;)U=B,B=K;for(;;){if(B===r)break t;if(U===a&&++O===h&&(E=_),U===m&&++H===c&&(I=_),(K=B.nextSibling)!==null)break;B=U,U=B.parentNode}B=K}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ec={focusedElem:r,selectionRange:a},Sa=!1,Q=s;Q!==null;)if(s=Q,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Q=r;else for(;Q!==null;){s=Q;try{var Y=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Y!==null){var X=Y.memoizedProps,$e=Y.memoizedState,k=s.stateNode,T=k.getSnapshotBeforeUpdate(s.elementType===s.type?X:en(s.type,X),$e);k.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var b=s.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(z){ze(s,s.return,z)}if(r=s.sibling,r!==null){r.return=s.return,Q=r;break}Q=s.return}return Y=kg,kg=!1,Y}function to(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&r)===r){var m=h.destroy;h.destroy=void 0,m!==void 0&&ad(s,a,m)}h=h.next}while(h!==c)}}function rl(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function ld(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Ng(r){var s=r.alternate;s!==null&&(r.alternate=null,Ng(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[gn],delete s[Vs],delete s[Ic],delete s[US],delete s[HS])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function bg(r){return r.tag===5||r.tag===3||r.tag===4}function Ag(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||bg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ud(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Oa));else if(c!==4&&(r=r.child,r!==null))for(ud(r,s,a),r=r.sibling;r!==null;)ud(r,s,a),r=r.sibling}function cd(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(cd(r,s,a),r=r.sibling;r!==null;)cd(r,s,a),r=r.sibling}var rt=null,tn=!1;function ur(r,s,a){for(a=a.child;a!==null;)Lg(r,s,a),a=a.sibling}function Lg(r,s,a){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(ga,a)}catch{}switch(a.tag){case 5:ft||ji(a,s);case 6:var c=rt,h=tn;rt=null,ur(r,s,a),rt=c,tn=h,rt!==null&&(tn?(r=rt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):rt.removeChild(a.stateNode));break;case 18:rt!==null&&(tn?(r=rt,a=a.stateNode,r.nodeType===8?Cc(r.parentNode,a):r.nodeType===1&&Cc(r,a),Ls(r)):Cc(rt,a.stateNode));break;case 4:c=rt,h=tn,rt=a.stateNode.containerInfo,tn=!0,ur(r,s,a),rt=c,tn=h;break;case 0:case 11:case 14:case 15:if(!ft&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var m=h,_=m.destroy;m=m.tag,_!==void 0&&((m&2)!==0||(m&4)!==0)&&ad(a,s,_),h=h.next}while(h!==c)}ur(r,s,a);break;case 1:if(!ft&&(ji(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(E){ze(a,s,E)}ur(r,s,a);break;case 21:ur(r,s,a);break;case 22:a.mode&1?(ft=(c=ft)||a.memoizedState!==null,ur(r,s,a),ft=c):ur(r,s,a);break;default:ur(r,s,a)}}function Og(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new tC),s.forEach(function(c){var h=dC.bind(null,r,c);a.has(c)||(a.add(c),c.then(h,h))})}}function nn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];try{var m=r,_=s,E=_;e:for(;E!==null;){switch(E.tag){case 5:rt=E.stateNode,tn=!1;break e;case 3:rt=E.stateNode.containerInfo,tn=!0;break e;case 4:rt=E.stateNode.containerInfo,tn=!0;break e}E=E.return}if(rt===null)throw Error(n(160));Lg(m,_,h),rt=null,tn=!1;var I=h.alternate;I!==null&&(I.return=null),h.return=null}catch(O){ze(h,s,O)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Mg(s,r),s=s.sibling}function Mg(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(nn(s,r),yn(r),c&4){try{to(3,r,r.return),rl(3,r)}catch(X){ze(r,r.return,X)}try{to(5,r,r.return)}catch(X){ze(r,r.return,X)}}break;case 1:nn(s,r),yn(r),c&512&&a!==null&&ji(a,a.return);break;case 5:if(nn(s,r),yn(r),c&512&&a!==null&&ji(a,a.return),r.flags&32){var h=r.stateNode;try{Ss(h,"")}catch(X){ze(r,r.return,X)}}if(c&4&&(h=r.stateNode,h!=null)){var m=r.memoizedProps,_=a!==null?a.memoizedProps:m,E=r.type,I=r.updateQueue;if(r.updateQueue=null,I!==null)try{E==="input"&&m.type==="radio"&&m.name!=null&&up(h,m),ju(E,_);var O=ju(E,m);for(_=0;_<I.length;_+=2){var H=I[_],B=I[_+1];H==="style"?vp(h,B):H==="dangerouslySetInnerHTML"?mp(h,B):H==="children"?Ss(h,B):F(h,H,B,O)}switch(E){case"input":Du(h,m);break;case"textarea":hp(h,m);break;case"select":var U=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!m.multiple;var K=m.value;K!=null?Ei(h,!!m.multiple,K,!1):U!==!!m.multiple&&(m.defaultValue!=null?Ei(h,!!m.multiple,m.defaultValue,!0):Ei(h,!!m.multiple,m.multiple?[]:"",!1))}h[Vs]=m}catch(X){ze(r,r.return,X)}}break;case 6:if(nn(s,r),yn(r),c&4){if(r.stateNode===null)throw Error(n(162));h=r.stateNode,m=r.memoizedProps;try{h.nodeValue=m}catch(X){ze(r,r.return,X)}}break;case 3:if(nn(s,r),yn(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Ls(s.containerInfo)}catch(X){ze(r,r.return,X)}break;case 4:nn(s,r),yn(r);break;case 13:nn(s,r),yn(r),h=r.child,h.flags&8192&&(m=h.memoizedState!==null,h.stateNode.isHidden=m,!m||h.alternate!==null&&h.alternate.memoizedState!==null||(fd=Ve())),c&4&&Og(r);break;case 22:if(H=a!==null&&a.memoizedState!==null,r.mode&1?(ft=(O=ft)||H,nn(s,r),ft=O):nn(s,r),yn(r),c&8192){if(O=r.memoizedState!==null,(r.stateNode.isHidden=O)&&!H&&(r.mode&1)!==0)for(Q=r,H=r.child;H!==null;){for(B=Q=H;Q!==null;){switch(U=Q,K=U.child,U.tag){case 0:case 11:case 14:case 15:to(4,U,U.return);break;case 1:ji(U,U.return);var Y=U.stateNode;if(typeof Y.componentWillUnmount=="function"){c=U,a=U.return;try{s=c,Y.props=s.memoizedProps,Y.state=s.memoizedState,Y.componentWillUnmount()}catch(X){ze(c,a,X)}}break;case 5:ji(U,U.return);break;case 22:if(U.memoizedState!==null){Ug(B);continue}}K!==null?(K.return=U,Q=K):Ug(B)}H=H.sibling}e:for(H=null,B=r;;){if(B.tag===5){if(H===null){H=B;try{h=B.stateNode,O?(m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(E=B.stateNode,I=B.memoizedProps.style,_=I!=null&&I.hasOwnProperty("display")?I.display:null,E.style.display=gp("display",_))}catch(X){ze(r,r.return,X)}}}else if(B.tag===6){if(H===null)try{B.stateNode.nodeValue=O?"":B.memoizedProps}catch(X){ze(r,r.return,X)}}else if((B.tag!==22&&B.tag!==23||B.memoizedState===null||B===r)&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===r)break e;for(;B.sibling===null;){if(B.return===null||B.return===r)break e;H===B&&(H=null),B=B.return}H===B&&(H=null),B.sibling.return=B.return,B=B.sibling}}break;case 19:nn(s,r),yn(r),c&4&&Og(r);break;case 21:break;default:nn(s,r),yn(r)}}function yn(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(bg(a)){var c=a;break e}a=a.return}throw Error(n(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(Ss(h,""),c.flags&=-33);var m=Ag(r);cd(r,m,h);break;case 3:case 4:var _=c.stateNode.containerInfo,E=Ag(r);ud(r,E,_);break;default:throw Error(n(161))}}catch(I){ze(r,r.return,I)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function rC(r,s,a){Q=r,Dg(r)}function Dg(r,s,a){for(var c=(r.mode&1)!==0;Q!==null;){var h=Q,m=h.child;if(h.tag===22&&c){var _=h.memoizedState!==null||nl;if(!_){var E=h.alternate,I=E!==null&&E.memoizedState!==null||ft;E=nl;var O=ft;if(nl=_,(ft=I)&&!O)for(Q=h;Q!==null;)_=Q,I=_.child,_.tag===22&&_.memoizedState!==null?Hg(h):I!==null?(I.return=_,Q=I):Hg(h);for(;m!==null;)Q=m,Dg(m),m=m.sibling;Q=h,nl=E,ft=O}Fg(r)}else(h.subtreeFlags&8772)!==0&&m!==null?(m.return=h,Q=m):Fg(r)}}function Fg(r){for(;Q!==null;){var s=Q;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:ft||rl(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!ft)if(a===null)c.componentDidMount();else{var h=s.elementType===s.type?a.memoizedProps:en(s.type,a.memoizedProps);c.componentDidUpdate(h,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&Um(s,m,c);break;case 3:var _=s.updateQueue;if(_!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Um(s,_,a)}break;case 5:var E=s.stateNode;if(a===null&&s.flags&4){a=E;var I=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&a.focus();break;case"img":I.src&&(a.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var O=s.alternate;if(O!==null){var H=O.memoizedState;if(H!==null){var B=H.dehydrated;B!==null&&Ls(B)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ft||s.flags&512&&ld(s)}catch(U){ze(s,s.return,U)}}if(s===r){Q=null;break}if(a=s.sibling,a!==null){a.return=s.return,Q=a;break}Q=s.return}}function Ug(r){for(;Q!==null;){var s=Q;if(s===r){Q=null;break}var a=s.sibling;if(a!==null){a.return=s.return,Q=a;break}Q=s.return}}function Hg(r){for(;Q!==null;){var s=Q;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{rl(4,s)}catch(I){ze(s,a,I)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var h=s.return;try{c.componentDidMount()}catch(I){ze(s,h,I)}}var m=s.return;try{ld(s)}catch(I){ze(s,m,I)}break;case 5:var _=s.return;try{ld(s)}catch(I){ze(s,_,I)}}}catch(I){ze(s,s.return,I)}if(s===r){Q=null;break}var E=s.sibling;if(E!==null){E.return=s.return,Q=E;break}Q=s.return}}var iC=Math.ceil,il=j.ReactCurrentDispatcher,dd=j.ReactCurrentOwner,Wt=j.ReactCurrentBatchConfig,ye=0,Je=null,Ge=null,it=0,Dt=0,zi=ir(0),Ke=0,no=null,qr=0,sl=0,hd=0,ro=null,kt=null,fd=0,Wi=1/0,Mn=null,ol=!1,pd=null,cr=null,al=!1,dr=null,ll=0,io=0,md=null,ul=-1,cl=0;function vt(){return(ye&6)!==0?Ve():ul!==-1?ul:ul=Ve()}function hr(r){return(r.mode&1)===0?1:(ye&2)!==0&&it!==0?it&-it:jS.transition!==null?(cl===0&&(cl=Ap()),cl):(r=xe,r!==0||(r=window.event,r=r===void 0?16:jp(r.type)),r)}function rn(r,s,a,c){if(50<io)throw io=0,md=null,Error(n(185));Ps(r,a,c),((ye&2)===0||r!==Je)&&(r===Je&&((ye&2)===0&&(sl|=a),Ke===4&&fr(r,it)),Nt(r,c),a===1&&ye===0&&(s.mode&1)===0&&(Wi=Ve()+500,Ua&&or()))}function Nt(r,s){var a=r.callbackNode;jw(r,s);var c=ya(r,r===Je?it:0);if(c===0)a!==null&&kp(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&kp(a),s===1)r.tag===0?BS(jg.bind(null,r)):xm(jg.bind(null,r)),DS(function(){(ye&6)===0&&or()}),a=null;else{switch(Lp(c)){case 1:a=Ku;break;case 4:a=Np;break;case 16:a=ma;break;case 536870912:a=bp;break;default:a=ma}a=Qg(a,Bg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Bg(r,s){if(ul=-1,cl=0,(ye&6)!==0)throw Error(n(327));var a=r.callbackNode;if(Vi()&&r.callbackNode!==a)return null;var c=ya(r,r===Je?it:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||s)s=dl(r,c);else{s=c;var h=ye;ye|=2;var m=Wg();(Je!==r||it!==s)&&(Mn=null,Wi=Ve()+500,Qr(r,s));do try{aC();break}catch(E){zg(r,E)}while(!0);Lc(),il.current=m,ye=h,Ge!==null?s=0:(Je=null,it=0,s=Ke)}if(s!==0){if(s===2&&(h=Qu(r),h!==0&&(c=h,s=gd(r,h))),s===1)throw a=no,Qr(r,0),fr(r,c),Nt(r,Ve()),a;if(s===6)fr(r,c);else{if(h=r.current.alternate,(c&30)===0&&!sC(h)&&(s=dl(r,c),s===2&&(m=Qu(r),m!==0&&(c=m,s=gd(r,m))),s===1))throw a=no,Qr(r,0),fr(r,c),Nt(r,Ve()),a;switch(r.finishedWork=h,r.finishedLanes=c,s){case 0:case 1:throw Error(n(345));case 2:Yr(r,kt,Mn);break;case 3:if(fr(r,c),(c&130023424)===c&&(s=fd+500-Ve(),10<s)){if(ya(r,0)!==0)break;if(h=r.suspendedLanes,(h&c)!==c){vt(),r.pingedLanes|=r.suspendedLanes&h;break}r.timeoutHandle=Sc(Yr.bind(null,r,kt,Mn),s);break}Yr(r,kt,Mn);break;case 4:if(fr(r,c),(c&4194240)===c)break;for(s=r.eventTimes,h=-1;0<c;){var _=31-Xt(c);m=1<<_,_=s[_],_>h&&(h=_),c&=~m}if(c=h,c=Ve()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*iC(c/1960))-c,10<c){r.timeoutHandle=Sc(Yr.bind(null,r,kt,Mn),c);break}Yr(r,kt,Mn);break;case 5:Yr(r,kt,Mn);break;default:throw Error(n(329))}}}return Nt(r,Ve()),r.callbackNode===a?Bg.bind(null,r):null}function gd(r,s){var a=ro;return r.current.memoizedState.isDehydrated&&(Qr(r,s).flags|=256),r=dl(r,s),r!==2&&(s=kt,kt=a,s!==null&&vd(s)),r}function vd(r){kt===null?kt=r:kt.push.apply(kt,r)}function sC(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var h=a[c],m=h.getSnapshot;h=h.value;try{if(!Jt(m(),h))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fr(r,s){for(s&=~hd,s&=~sl,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Xt(s),c=1<<a;r[a]=-1,s&=~c}}function jg(r){if((ye&6)!==0)throw Error(n(327));Vi();var s=ya(r,0);if((s&1)===0)return Nt(r,Ve()),null;var a=dl(r,s);if(r.tag!==0&&a===2){var c=Qu(r);c!==0&&(s=c,a=gd(r,c))}if(a===1)throw a=no,Qr(r,0),fr(r,s),Nt(r,Ve()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Yr(r,kt,Mn),Nt(r,Ve()),null}function _d(r,s){var a=ye;ye|=1;try{return r(s)}finally{ye=a,ye===0&&(Wi=Ve()+500,Ua&&or())}}function Kr(r){dr!==null&&dr.tag===0&&(ye&6)===0&&Vi();var s=ye;ye|=1;var a=Wt.transition,c=xe;try{if(Wt.transition=null,xe=1,r)return r()}finally{xe=c,Wt.transition=a,ye=s,(ye&6)===0&&or()}}function yd(){Dt=zi.current,Oe(zi)}function Qr(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,MS(a)),Ge!==null)for(a=Ge.return;a!==null;){var c=a;switch(Pc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Da();break;case 3:Hi(),Oe(xt),Oe(ct),jc();break;case 5:Hc(c);break;case 4:Hi();break;case 13:Oe(He);break;case 19:Oe(He);break;case 10:Oc(c.type._context);break;case 22:case 23:yd()}a=a.return}if(Je=r,Ge=r=pr(r.current,null),it=Dt=s,Ke=0,no=null,hd=sl=qr=0,kt=ro=null,Vr!==null){for(s=0;s<Vr.length;s++)if(a=Vr[s],c=a.interleaved,c!==null){a.interleaved=null;var h=c.next,m=a.pending;if(m!==null){var _=m.next;m.next=h,c.next=_}a.pending=c}Vr=null}return r}function zg(r,s){do{var a=Ge;try{if(Lc(),Ka.current=Ja,Qa){for(var c=Be.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Qa=!1}if(Gr=0,Xe=qe=Be=null,Ys=!1,Xs=0,dd.current=null,a===null||a.return===null){Ke=1,no=s,Ge=null;break}e:{var m=r,_=a.return,E=a,I=s;if(s=it,E.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var O=I,H=E,B=H.tag;if((H.mode&1)===0&&(B===0||B===11||B===15)){var U=H.alternate;U?(H.updateQueue=U.updateQueue,H.memoizedState=U.memoizedState,H.lanes=U.lanes):(H.updateQueue=null,H.memoizedState=null)}var K=fg(_);if(K!==null){K.flags&=-257,pg(K,_,E,m,s),K.mode&1&&hg(m,O,s),s=K,I=O;var Y=s.updateQueue;if(Y===null){var X=new Set;X.add(I),s.updateQueue=X}else Y.add(I);break e}else{if((s&1)===0){hg(m,O,s),Ed();break e}I=Error(n(426))}}else if(Fe&&E.mode&1){var $e=fg(_);if($e!==null){($e.flags&65536)===0&&($e.flags|=256),pg($e,_,E,m,s),bc(Bi(I,E));break e}}m=I=Bi(I,E),Ke!==4&&(Ke=2),ro===null?ro=[m]:ro.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var k=cg(m,I,s);Fm(m,k);break e;case 1:E=I;var T=m.type,b=m.stateNode;if((m.flags&128)===0&&(typeof T.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(cr===null||!cr.has(b)))){m.flags|=65536,s&=-s,m.lanes|=s;var z=dg(m,E,s);Fm(m,z);break e}}m=m.return}while(m!==null)}$g(a)}catch(ee){s=ee,Ge===a&&a!==null&&(Ge=a=a.return);continue}break}while(!0)}function Wg(){var r=il.current;return il.current=Ja,r===null?Ja:r}function Ed(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Je===null||(qr&268435455)===0&&(sl&268435455)===0||fr(Je,it)}function dl(r,s){var a=ye;ye|=2;var c=Wg();(Je!==r||it!==s)&&(Mn=null,Qr(r,s));do try{oC();break}catch(h){zg(r,h)}while(!0);if(Lc(),ye=a,il.current=c,Ge!==null)throw Error(n(261));return Je=null,it=0,Ke}function oC(){for(;Ge!==null;)Vg(Ge)}function aC(){for(;Ge!==null&&!Aw();)Vg(Ge)}function Vg(r){var s=Kg(r.alternate,r,Dt);r.memoizedProps=r.pendingProps,s===null?$g(r):Ge=s,dd.current=null}function $g(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=ZS(a,s,Dt),a!==null){Ge=a;return}}else{if(a=eC(a,s),a!==null){a.flags&=32767,Ge=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ke=6,Ge=null;return}}if(s=s.sibling,s!==null){Ge=s;return}Ge=s=r}while(s!==null);Ke===0&&(Ke=5)}function Yr(r,s,a){var c=xe,h=Wt.transition;try{Wt.transition=null,xe=1,lC(r,s,a,c)}finally{Wt.transition=h,xe=c}return null}function lC(r,s,a,c){do Vi();while(dr!==null);if((ye&6)!==0)throw Error(n(327));a=r.finishedWork;var h=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var m=a.lanes|a.childLanes;if(zw(r,m),r===Je&&(Ge=Je=null,it=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||al||(al=!0,Qg(ma,function(){return Vi(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=Wt.transition,Wt.transition=null;var _=xe;xe=1;var E=ye;ye|=4,dd.current=null,nC(r,a),Mg(a,r),PS(Ec),Sa=!!yc,Ec=yc=null,r.current=a,rC(a),Lw(),ye=E,xe=_,Wt.transition=m}else r.current=a;if(al&&(al=!1,dr=r,ll=h),m=r.pendingLanes,m===0&&(cr=null),Dw(a.stateNode),Nt(r,Ve()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)h=s[a],c(h.value,{componentStack:h.stack,digest:h.digest});if(ol)throw ol=!1,r=pd,pd=null,r;return(ll&1)!==0&&r.tag!==0&&Vi(),m=r.pendingLanes,(m&1)!==0?r===md?io++:(io=0,md=r):io=0,or(),null}function Vi(){if(dr!==null){var r=Lp(ll),s=Wt.transition,a=xe;try{if(Wt.transition=null,xe=16>r?16:r,dr===null)var c=!1;else{if(r=dr,dr=null,ll=0,(ye&6)!==0)throw Error(n(331));var h=ye;for(ye|=4,Q=r.current;Q!==null;){var m=Q,_=m.child;if((Q.flags&16)!==0){var E=m.deletions;if(E!==null){for(var I=0;I<E.length;I++){var O=E[I];for(Q=O;Q!==null;){var H=Q;switch(H.tag){case 0:case 11:case 15:to(8,H,m)}var B=H.child;if(B!==null)B.return=H,Q=B;else for(;Q!==null;){H=Q;var U=H.sibling,K=H.return;if(Ng(H),H===O){Q=null;break}if(U!==null){U.return=K,Q=U;break}Q=K}}}var Y=m.alternate;if(Y!==null){var X=Y.child;if(X!==null){Y.child=null;do{var $e=X.sibling;X.sibling=null,X=$e}while(X!==null)}}Q=m}}if((m.subtreeFlags&2064)!==0&&_!==null)_.return=m,Q=_;else e:for(;Q!==null;){if(m=Q,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:to(9,m,m.return)}var k=m.sibling;if(k!==null){k.return=m.return,Q=k;break e}Q=m.return}}var T=r.current;for(Q=T;Q!==null;){_=Q;var b=_.child;if((_.subtreeFlags&2064)!==0&&b!==null)b.return=_,Q=b;else e:for(_=T;Q!==null;){if(E=Q,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:rl(9,E)}}catch(ee){ze(E,E.return,ee)}if(E===_){Q=null;break e}var z=E.sibling;if(z!==null){z.return=E.return,Q=z;break e}Q=E.return}}if(ye=h,or(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(ga,r)}catch{}c=!0}return c}finally{xe=a,Wt.transition=s}}return!1}function Gg(r,s,a){s=Bi(a,s),s=cg(r,s,1),r=lr(r,s,1),s=vt(),r!==null&&(Ps(r,1,s),Nt(r,s))}function ze(r,s,a){if(r.tag===3)Gg(r,r,a);else for(;s!==null;){if(s.tag===3){Gg(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(cr===null||!cr.has(c))){r=Bi(a,r),r=dg(s,r,1),s=lr(s,r,1),r=vt(),s!==null&&(Ps(s,1,r),Nt(s,r));break}}s=s.return}}function uC(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=vt(),r.pingedLanes|=r.suspendedLanes&a,Je===r&&(it&a)===a&&(Ke===4||Ke===3&&(it&130023424)===it&&500>Ve()-fd?Qr(r,0):hd|=a),Nt(r,s)}function qg(r,s){s===0&&((r.mode&1)===0?s=1:(s=_a,_a<<=1,(_a&130023424)===0&&(_a=4194304)));var a=vt();r=An(r,s),r!==null&&(Ps(r,s,a),Nt(r,a))}function cC(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),qg(r,a)}function dC(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(s),qg(r,a)}var Kg;Kg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||xt.current)Pt=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return Pt=!1,JS(r,s,a);Pt=(r.flags&131072)!==0}else Pt=!1,Fe&&(s.flags&1048576)!==0&&Rm(s,Ba,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;tl(r,s),r=s.pendingProps;var h=Ai(s,ct.current);Ui(s,a),h=Vc(null,s,c,r,h,a);var m=$c();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Rt(c)?(m=!0,Fa(s)):m=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Fc(s),h.updater=Za,s.stateNode=h,h._reactInternals=s,Xc(s,c,r,a),s=td(null,s,c,!0,m,a)):(s.tag=0,Fe&&m&&Rc(s),gt(null,s,h,a),s=s.child),s;case 16:c=s.elementType;e:{switch(tl(r,s),r=s.pendingProps,h=c._init,c=h(c._payload),s.type=c,h=s.tag=fC(c),r=en(c,r),h){case 0:s=ed(null,s,c,r,a);break e;case 1:s=Eg(null,s,c,r,a);break e;case 11:s=mg(null,s,c,r,a);break e;case 14:s=gg(null,s,c,en(c.type,r),a);break e}throw Error(n(306,c,""))}return s;case 0:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:en(c,h),ed(r,s,c,h,a);case 1:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:en(c,h),Eg(r,s,c,h,a);case 3:e:{if(wg(s),r===null)throw Error(n(387));c=s.pendingProps,m=s.memoizedState,h=m.element,Dm(r,s),Ga(s,c,null,a);var _=s.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){h=Bi(Error(n(423)),s),s=Sg(r,s,c,a,h);break e}else if(c!==h){h=Bi(Error(n(424)),s),s=Sg(r,s,c,a,h);break e}else for(Mt=rr(s.stateNode.containerInfo.firstChild),Ot=s,Fe=!0,Zt=null,a=Om(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Mi(),c===h){s=On(r,s,a);break e}gt(r,s,c,a)}s=s.child}return s;case 5:return Hm(s),r===null&&Nc(s),c=s.type,h=s.pendingProps,m=r!==null?r.memoizedProps:null,_=h.children,wc(c,h)?_=null:m!==null&&wc(c,m)&&(s.flags|=32),yg(r,s),gt(r,s,_,a),s.child;case 6:return r===null&&Nc(s),null;case 13:return Cg(r,s,a);case 4:return Uc(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Di(s,null,c,a):gt(r,s,c,a),s.child;case 11:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:en(c,h),mg(r,s,c,h,a);case 7:return gt(r,s,s.pendingProps,a),s.child;case 8:return gt(r,s,s.pendingProps.children,a),s.child;case 12:return gt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,h=s.pendingProps,m=s.memoizedProps,_=h.value,Ne(Wa,c._currentValue),c._currentValue=_,m!==null)if(Jt(m.value,_)){if(m.children===h.children&&!xt.current){s=On(r,s,a);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var E=m.dependencies;if(E!==null){_=m.child;for(var I=E.firstContext;I!==null;){if(I.context===c){if(m.tag===1){I=Ln(-1,a&-a),I.tag=2;var O=m.updateQueue;if(O!==null){O=O.shared;var H=O.pending;H===null?I.next=I:(I.next=H.next,H.next=I),O.pending=I}}m.lanes|=a,I=m.alternate,I!==null&&(I.lanes|=a),Mc(m.return,a,s),E.lanes|=a;break}I=I.next}}else if(m.tag===10)_=m.type===s.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(n(341));_.lanes|=a,E=_.alternate,E!==null&&(E.lanes|=a),Mc(_,a,s),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===s){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}gt(r,s,h.children,a),s=s.child}return s;case 9:return h=s.type,c=s.pendingProps.children,Ui(s,a),h=jt(h),c=c(h),s.flags|=1,gt(r,s,c,a),s.child;case 14:return c=s.type,h=en(c,s.pendingProps),h=en(c.type,h),gg(r,s,c,h,a);case 15:return vg(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:en(c,h),tl(r,s),s.tag=1,Rt(c)?(r=!0,Fa(s)):r=!1,Ui(s,a),lg(s,c,h),Xc(s,c,h,a),td(null,s,c,!0,r,a);case 19:return Tg(r,s,a);case 22:return _g(r,s,a)}throw Error(n(156,s.tag))};function Qg(r,s){return Pp(r,s)}function hC(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(r,s,a,c){return new hC(r,s,a,c)}function wd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function fC(r){if(typeof r=="function")return wd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===pt)return 11;if(r===It)return 14}return 2}function pr(r,s){var a=r.alternate;return a===null?(a=Vt(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function hl(r,s,a,c,h,m){var _=2;if(c=r,typeof r=="function")wd(r)&&(_=1);else if(typeof r=="string")_=5;else e:switch(r){case J:return Xr(a.children,h,m,s);case ce:_=8,h|=8;break;case te:return r=Vt(12,a,s,h|2),r.elementType=te,r.lanes=m,r;case mt:return r=Vt(13,a,s,h),r.elementType=mt,r.lanes=m,r;case Ct:return r=Vt(19,a,s,h),r.elementType=Ct,r.lanes=m,r;case De:return fl(a,h,m,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Ee:_=10;break e;case St:_=9;break e;case pt:_=11;break e;case It:_=14;break e;case ut:_=16,c=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Vt(_,a,s,h),s.elementType=r,s.type=c,s.lanes=m,s}function Xr(r,s,a,c){return r=Vt(7,r,c,s),r.lanes=a,r}function fl(r,s,a,c){return r=Vt(22,r,c,s),r.elementType=De,r.lanes=a,r.stateNode={isHidden:!1},r}function Sd(r,s,a){return r=Vt(6,r,null,s),r.lanes=a,r}function Cd(r,s,a){return s=Vt(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function pC(r,s,a,c,h){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yu(0),this.expirationTimes=Yu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yu(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Id(r,s,a,c,h,m,_,E,I){return r=new pC(r,s,a,E,I),s===1?(s=1,m===!0&&(s|=8)):s=0,m=Vt(3,null,null,s),r.current=m,m.stateNode=r,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fc(m),r}function mC(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function Yg(r){if(!r)return sr;r=r._reactInternals;e:{if(Hr(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Rt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(Rt(a))return Im(r,a,s)}return s}function Xg(r,s,a,c,h,m,_,E,I){return r=Id(a,c,!0,r,h,m,_,E,I),r.context=Yg(null),a=r.current,c=vt(),h=hr(a),m=Ln(c,h),m.callback=s??null,lr(a,m,h),r.current.lanes=h,Ps(r,h,c),Nt(r,c),r}function pl(r,s,a,c){var h=s.current,m=vt(),_=hr(h);return a=Yg(a),s.context===null?s.context=a:s.pendingContext=a,s=Ln(m,_),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=lr(h,s,_),r!==null&&(rn(r,h,_,m),$a(r,h,_)),_}function ml(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Jg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Td(r,s){Jg(r,s),(r=r.alternate)&&Jg(r,s)}function gC(){return null}var Zg=typeof reportError=="function"?reportError:function(r){console.error(r)};function xd(r){this._internalRoot=r}gl.prototype.render=xd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));pl(r,s,null,null)},gl.prototype.unmount=xd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Kr(function(){pl(null,r,null,null)}),s[Pn]=null}};function gl(r){this._internalRoot=r}gl.prototype.unstable_scheduleHydration=function(r){if(r){var s=Dp();r={blockedOn:null,target:r,priority:s};for(var a=0;a<er.length&&s!==0&&s<er[a].priority;a++);er.splice(a,0,r),a===0&&Hp(r)}};function Rd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function vl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function ev(){}function vC(r,s,a,c,h){if(h){if(typeof c=="function"){var m=c;c=function(){var O=ml(_);m.call(O)}}var _=Xg(s,c,r,0,null,!1,!1,"",ev);return r._reactRootContainer=_,r[Pn]=_.current,zs(r.nodeType===8?r.parentNode:r),Kr(),_}for(;h=r.lastChild;)r.removeChild(h);if(typeof c=="function"){var E=c;c=function(){var O=ml(I);E.call(O)}}var I=Id(r,0,!1,null,null,!1,!1,"",ev);return r._reactRootContainer=I,r[Pn]=I.current,zs(r.nodeType===8?r.parentNode:r),Kr(function(){pl(s,I,a,c)}),I}function _l(r,s,a,c,h){var m=a._reactRootContainer;if(m){var _=m;if(typeof h=="function"){var E=h;h=function(){var I=ml(_);E.call(I)}}pl(s,_,r,h)}else _=vC(a,s,r,h,c);return ml(_)}Op=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Rs(s.pendingLanes);a!==0&&(Xu(s,a|1),Nt(s,Ve()),(ye&6)===0&&(Wi=Ve()+500,or()))}break;case 13:Kr(function(){var c=An(r,1);if(c!==null){var h=vt();rn(c,r,1,h)}}),Td(r,1)}},Ju=function(r){if(r.tag===13){var s=An(r,134217728);if(s!==null){var a=vt();rn(s,r,134217728,a)}Td(r,134217728)}},Mp=function(r){if(r.tag===13){var s=hr(r),a=An(r,s);if(a!==null){var c=vt();rn(a,r,s,c)}Td(r,s)}},Dp=function(){return xe},Fp=function(r,s){var a=xe;try{return xe=r,s()}finally{xe=a}},Vu=function(r,s,a){switch(s){case"input":if(Du(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var h=Ma(c);if(!h)throw Error(n(90));ap(c),Du(c,h)}}}break;case"textarea":hp(r,a);break;case"select":s=a.value,s!=null&&Ei(r,!!a.multiple,s,!1)}},wp=_d,Sp=Kr;var _C={usingClientEntryPoint:!1,Events:[$s,Ni,Ma,yp,Ep,_d]},so={findFiberByHostInstance:Br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yC={bundleType:so.bundleType,version:so.version,rendererPackageName:so.rendererPackageName,rendererConfig:so.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=xp(r),r===null?null:r.stateNode},findFiberByHostInstance:so.findFiberByHostInstance||gC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yl.isDisabled&&yl.supportsFiber)try{ga=yl.inject(yC),mn=yl}catch{}}return bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_C,bt.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rd(s))throw Error(n(200));return mC(r,s,null,a)},bt.createRoot=function(r,s){if(!Rd(r))throw Error(n(299));var a=!1,c="",h=Zg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=Id(r,1,!1,null,null,a,!1,c,h),r[Pn]=s.current,zs(r.nodeType===8?r.parentNode:r),new xd(s)},bt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=xp(s),r=r===null?null:r.stateNode,r},bt.flushSync=function(r){return Kr(r)},bt.hydrate=function(r,s,a){if(!vl(s))throw Error(n(200));return _l(null,r,s,!0,a)},bt.hydrateRoot=function(r,s,a){if(!Rd(r))throw Error(n(405));var c=a!=null&&a.hydratedSources||null,h=!1,m="",_=Zg;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),s=Xg(s,null,r,1,a??null,h,!1,m,_),r[Pn]=s.current,zs(r),c)for(r=0;r<c.length;r++)a=c[r],h=a._getVersion,h=h(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,h]:s.mutableSourceEagerHydrationData.push(a,h);return new gl(s)},bt.render=function(r,s,a){if(!vl(s))throw Error(n(200));return _l(null,r,s,!1,a)},bt.unmountComponentAtNode=function(r){if(!vl(r))throw Error(n(40));return r._reactRootContainer?(Kr(function(){_l(null,null,r,!1,function(){r._reactRootContainer=null,r[Pn]=null})}),!0):!1},bt.unstable_batchedUpdates=_d,bt.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!vl(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return _l(r,s,a,!1,c)},bt.version="18.3.1-next-f1338f8080-20240426",bt}var lv;function bC(){if(lv)return Nd.exports;lv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Nd.exports=NC(),Nd.exports}var uv;function AC(){if(uv)return El;uv=1;var t=bC();return El.createRoot=t.createRoot,El.hydrateRoot=t.hydrateRoot,El}var LC=AC(),ao={},cv;function OC(){if(cv)return ao;cv=1,Object.defineProperty(ao,"__esModule",{value:!0}),ao.parse=u,ao.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,w){const S=new l,R=v.length;if(R<2)return S;const A=(w==null?void 0:w.decode)||g;let N=0;do{const M=v.indexOf("=",N);if(M===-1)break;const F=v.indexOf(";",N),j=F===-1?R:F;if(M>j){N=v.lastIndexOf(";",M-1)+1;continue}const L=d(v,N,M),V=f(v,M,L),J=v.slice(L,V);if(S[J]===void 0){let ce=d(v,M+1,j),te=f(v,j,ce);const Ee=A(v.slice(ce,te));S[J]=Ee}N=j+1}while(N<R);return S}function d(v,w,S){do{const R=v.charCodeAt(w);if(R!==32&&R!==9)return w}while(++w<S);return S}function f(v,w,S){for(;w>S;){const R=v.charCodeAt(--w);if(R!==32&&R!==9)return w+1}return S}function p(v,w,S){const R=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const A=R(w);if(!e.test(A))throw new TypeError(`argument val is invalid: ${w}`);let N=v+"="+A;if(!S)return N;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);N+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);N+="; Domain="+S.domain}if(S.path){if(!i.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);N+="; Path="+S.path}if(S.expires){if(!y(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);N+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(N+="; HttpOnly"),S.secure&&(N+="; Secure"),S.partitioned&&(N+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return N}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return o.call(v)==="[object Date]"}return ao}OC();var dv="popstate";function MC(t={}){function e(i,o){let{pathname:l,search:u,hash:d}=i.location;return uh("",{pathname:l,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:xo(o)}return FC(e,n,null,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DC(){return Math.random().toString(36).substring(2,10)}function hv(t,e){return{usr:t.state,key:t.key,idx:e}}function uh(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ls(e):e,state:n,key:e&&e.key||i||DC()}}function xo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ls(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function FC(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,u=o.history,d="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function y(){d="POP";let A=g(),N=A==null?null:A-p;p=A,f&&f({action:d,location:R.location,delta:N})}function v(A,N){d="PUSH";let M=uh(R.location,A,N);p=g()+1;let F=hv(M,p),j=R.createHref(M);try{u.pushState(F,"",j)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign(j)}l&&f&&f({action:d,location:R.location,delta:1})}function w(A,N){d="REPLACE";let M=uh(R.location,A,N);p=g();let F=hv(M,p),j=R.createHref(M);u.replaceState(F,"",j),l&&f&&f({action:d,location:R.location,delta:0})}function S(A){return UC(A)}let R={get action(){return d},get location(){return t(o,u)},listen(A){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(dv,y),f=A,()=>{o.removeEventListener(dv,y),f=null}},createHref(A){return e(o,A)},createURL:S,encodeLocation(A){let N=S(A);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:w,go(A){return u.go(A)}};return R}function UC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ue(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:xo(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function ly(t,e,n="/"){return HC(t,e,n,!1)}function HC(t,e,n,i){let o=typeof e=="string"?ls(e):e,l=Vn(o.pathname||"/",n);if(l==null)return null;let u=uy(t);BC(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=XC(l);d=QC(u[f],p,i)}return d}function uy(t,e=[],n=[],i=""){let o=(l,u,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};f.relativePath.startsWith("/")&&(Ue(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let p=Bn([i,f.relativePath]),g=n.concat(f);l.children&&l.children.length>0&&(Ue(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),uy(l.children,e,g,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:qC(p,l.index),routesMeta:g})};return t.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,u);else for(let f of cy(l.path))o(l,u,f)}),e}function cy(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let u=cy(i.join("/")),d=[];return d.push(...u.map(f=>f===""?l:[l,f].join("/"))),o&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function BC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var jC=/^:[\w-]+$/,zC=3,WC=2,VC=1,$C=10,GC=-2,fv=t=>t==="*";function qC(t,e){let n=t.split("/"),i=n.length;return n.some(fv)&&(i+=GC),e&&(i+=WC),n.filter(o=>!fv(o)).reduce((o,l)=>o+(jC.test(l)?zC:l===""?VC:$C),i)}function KC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function QC(t,e,n=!1){let{routesMeta:i}=t,o={},l="/",u=[];for(let d=0;d<i.length;++d){let f=i[d],p=d===i.length-1,g=l==="/"?e:e.slice(l.length)||"/",y=Ul({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),v=f.route;if(!y&&p&&n&&!i[i.length-1].route.index&&(y=Ul({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!y)return null;Object.assign(o,y.params),u.push({params:o,pathname:Bn([l,y.pathname]),pathnameBase:tI(Bn([l,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(l=Bn([l,y.pathnameBase]))}return u}function Ul(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=YC(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((p,{paramName:g,isOptional:y},v)=>{if(g==="*"){let S=d[v]||"";u=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const w=d[v];return y&&!w?p[g]=void 0:p[g]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function YC(t,e=!1,n=!0){hn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function XC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Vn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function JC(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?ls(t):t;return{pathname:n?n.startsWith("/")?n:ZC(n,e):e,search:nI(i),hash:rI(o)}}function ZC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ld(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xh(t){let e=eI(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Jh(t,e,n,i=!1){let o;typeof t=="string"?o=ls(t):(o={...t},Ue(!o.pathname||!o.pathname.includes("?"),Ld("?","pathname","search",o)),Ue(!o.pathname||!o.pathname.includes("#"),Ld("#","pathname","hash",o)),Ue(!o.search||!o.search.includes("#"),Ld("#","search","hash",o)));let l=t===""||o.pathname==="",u=l?"/":o.pathname,d;if(u==null)d=n;else{let y=e.length-1;if(!i&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),y-=1;o.pathname=v.join("/")}d=y>=0?e[y]:"/"}let f=JC(o,d),p=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var Bn=t=>t.join("/").replace(/\/\/+/g,"/"),tI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var dy=["POST","PUT","PATCH","DELETE"];new Set(dy);var sI=["GET",...dy];new Set(sI);var us=P.createContext(null);us.displayName="DataRouter";var hu=P.createContext(null);hu.displayName="DataRouterState";var hy=P.createContext({isTransitioning:!1});hy.displayName="ViewTransition";var oI=P.createContext(new Map);oI.displayName="Fetchers";var aI=P.createContext(null);aI.displayName="Await";var pn=P.createContext(null);pn.displayName="Navigation";var Vo=P.createContext(null);Vo.displayName="Location";var xn=P.createContext({outlet:null,matches:[],isDataRoute:!1});xn.displayName="Route";var Zh=P.createContext(null);Zh.displayName="RouteError";function lI(t,{relative:e}={}){Ue(cs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=P.useContext(pn),{hash:o,pathname:l,search:u}=Go(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Bn([n,l])),i.createHref({pathname:d,search:u,hash:o})}function cs(){return P.useContext(Vo)!=null}function Or(){return Ue(cs(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Vo).location}var fy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function py(t){P.useContext(pn).static||P.useLayoutEffect(t)}function $o(){let{isDataRoute:t}=P.useContext(xn);return t?wI():uI()}function uI(){Ue(cs(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(us),{basename:e,navigator:n}=P.useContext(pn),{matches:i}=P.useContext(xn),{pathname:o}=Or(),l=JSON.stringify(Xh(i)),u=P.useRef(!1);return py(()=>{u.current=!0}),P.useCallback((f,p={})=>{if(hn(u.current,fy),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=Jh(f,JSON.parse(l),o,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Bn([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,l,o,t])}P.createContext(null);function Go(t,{relative:e}={}){let{matches:n}=P.useContext(xn),{pathname:i}=Or(),o=JSON.stringify(Xh(n));return P.useMemo(()=>Jh(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function cI(t,e){return my(t,e)}function my(t,e,n,i){var N;Ue(cs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=P.useContext(pn),{matches:l}=P.useContext(xn),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let M=g&&g.path||"";gy(f,!g||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let y=Or(),v;if(e){let M=typeof e=="string"?ls(e):e;Ue(p==="/"||((N=M.pathname)==null?void 0:N.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${M.pathname}" was given in the \`location\` prop.`),v=M}else v=y;let w=v.pathname||"/",S=w;if(p!=="/"){let M=p.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(M.length).join("/")}let R=ly(t,{pathname:S});hn(g||R!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),hn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=mI(R&&R.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Bn([p,o.encodeLocation?o.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?p:Bn([p,o.encodeLocation?o.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,n,i);return e&&A?P.createElement(Vo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},A):A}function dI(){let t=EI(),e=iI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:l},"ErrorBoundary")," or"," ",P.createElement("code",{style:l},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,u)}var hI=P.createElement(dI,null),fI=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?P.createElement(xn.Provider,{value:this.props.routeContext},P.createElement(Zh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pI({routeContext:t,match:e,children:n}){let i=P.useContext(us);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(xn.Provider,{value:t},n)}function mI(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n==null?void 0:n.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Ue(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(n)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:y}=n,v=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let y,v=!1,w=null,S=null;n&&(y=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||hI,u&&(d<0&&g===0?(gy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):d===g&&(v=!0,S=p.route.hydrateFallbackElement||null)));let R=e.concat(o.slice(0,g+1)),A=()=>{let N;return y?N=w:v?N=S:p.route.Component?N=P.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=f,P.createElement(pI,{match:p,routeContext:{outlet:f,matches:R,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?P.createElement(fI,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:A(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):A()},null)}function ef(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gI(t){let e=P.useContext(us);return Ue(e,ef(t)),e}function vI(t){let e=P.useContext(hu);return Ue(e,ef(t)),e}function _I(t){let e=P.useContext(xn);return Ue(e,ef(t)),e}function tf(t){let e=_I(t),n=e.matches[e.matches.length-1];return Ue(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function yI(){return tf("useRouteId")}function EI(){var i;let t=P.useContext(Zh),e=vI("useRouteError"),n=tf("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function wI(){let{router:t}=gI("useNavigate"),e=tf("useNavigate"),n=P.useRef(!1);return py(()=>{n.current=!0}),P.useCallback(async(o,l={})=>{hn(n.current,fy),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var pv={};function gy(t,e,n){!e&&!pv[t]&&(pv[t]=!0,hn(!1,n))}P.memo(SI);function SI({routes:t,future:e,state:n}){return my(t,void 0,n,e)}function vy({to:t,replace:e,state:n,relative:i}){Ue(cs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(pn);hn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=P.useContext(xn),{pathname:u}=Or(),d=$o(),f=Jh(t,Xh(l),u,i==="path"),p=JSON.stringify(f);return P.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:i})},[d,p,i,e,n]),null}function vr(t){Ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CI({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:l=!1}){Ue(!cs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof n=="string"&&(n=ls(n));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:v="default"}=n,w=P.useMemo(()=>{let S=Vn(f,u);return S==null?null:{location:{pathname:S,search:p,hash:g,state:y,key:v},navigationType:i}},[u,f,p,g,y,v,i]);return hn(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:P.createElement(pn.Provider,{value:d},P.createElement(Vo.Provider,{children:e,value:w}))}function II({children:t,location:e}){return cI(ch(t),e)}function ch(t,e=[]){let n=[];return P.Children.forEach(t,(i,o)=>{if(!P.isValidElement(i))return;let l=[...e,o];if(i.type===P.Fragment){n.push.apply(n,ch(i.props.children,l));return}Ue(i.type===vr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ue(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=ch(i.props.children,l)),n.push(u)}),n}var kl="get",Nl="application/x-www-form-urlencoded";function fu(t){return t!=null&&typeof t.tagName=="string"}function TI(t){return fu(t)&&t.tagName.toLowerCase()==="button"}function xI(t){return fu(t)&&t.tagName.toLowerCase()==="form"}function RI(t){return fu(t)&&t.tagName.toLowerCase()==="input"}function PI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kI(t,e){return t.button===0&&(!e||e==="_self")&&!PI(t)}var wl=null;function NI(){if(wl===null)try{new FormData(document.createElement("form"),0),wl=!1}catch{wl=!0}return wl}var bI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Od(t){return t!=null&&!bI.has(t)?(hn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nl}"`),null):t}function AI(t,e){let n,i,o,l,u;if(xI(t)){let d=t.getAttribute("action");i=d?Vn(d,e):null,n=t.getAttribute("method")||kl,o=Od(t.getAttribute("enctype"))||Nl,l=new FormData(t)}else if(TI(t)||RI(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(i=f?Vn(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||kl,o=Od(t.getAttribute("formenctype"))||Od(d.getAttribute("enctype"))||Nl,l=new FormData(d,t),!NI()){let{name:p,type:g,value:y}=t;if(g==="image"){let v=p?`${p}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else p&&l.append(p,y)}}else{if(fu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=kl,i=null,o=Nl,u=t}return l&&o==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:l,body:u}}function nf(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function LI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function MI(t,e,n){let i=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await LI(l,n);return u.links?u.links():[]}return[]}));return HI(i.flat(1).filter(OI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function mv(t,e,n,i,o,l){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>{var g;return n[p].pathname!==f.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,p)=>u(f,p)||d(f,p)):l==="data"?e.filter((f,p)=>{var y;let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function DI(t,e,{includeHydrateFallback:n}={}){return FI(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function FI(t){return[...new Set(t)]}function UI(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function HI(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let l=JSON.stringify(UI(o));return n.has(l)||(n.add(l),i.push({key:l,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var BI=new Set([100,101,204,205]);function jI(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Vn(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function _y(){let t=P.useContext(us);return nf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function zI(){let t=P.useContext(hu);return nf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var rf=P.createContext(void 0);rf.displayName="FrameworkContext";function yy(){let t=P.useContext(rf);return nf(t,"You must render this element inside a <HydratedRouter> element"),t}function WI(t,e){let n=P.useContext(rf),[i,o]=P.useState(!1),[l,u]=P.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=e,v=P.useRef(null);P.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let R=N=>{N.forEach(M=>{u(M.isIntersecting)})},A=new IntersectionObserver(R,{threshold:.5});return v.current&&A.observe(v.current),()=>{A.disconnect()}}},[t]),P.useEffect(()=>{if(i){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[i]);let w=()=>{o(!0)},S=()=>{o(!1),u(!1)};return n?t!=="intent"?[l,v,{}]:[l,v,{onFocus:lo(d,w),onBlur:lo(f,S),onMouseEnter:lo(p,w),onMouseLeave:lo(g,S),onTouchStart:lo(y,w)}]:[!1,v,{}]}function lo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function VI({page:t,...e}){let{router:n}=_y(),i=P.useMemo(()=>ly(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?P.createElement(GI,{page:t,matches:i,...e}):null}function $I(t){let{manifest:e,routeModules:n}=yy(),[i,o]=P.useState([]);return P.useEffect(()=>{let l=!1;return MI(t,e,n).then(u=>{l||o(u)}),()=>{l=!0}},[t,e,n]),i}function GI({page:t,matches:e,...n}){let i=Or(),{manifest:o,routeModules:l}=yy(),{basename:u}=_y(),{loaderData:d,matches:f}=zI(),p=P.useMemo(()=>mv(t,e,f,o,i,"data"),[t,e,f,o,i]),g=P.useMemo(()=>mv(t,e,f,o,i,"assets"),[t,e,f,o,i]),y=P.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let S=new Set,R=!1;if(e.forEach(N=>{var F;let M=o.routes[N.route.id];!M||!M.hasLoader||(!p.some(j=>j.route.id===N.route.id)&&N.route.id in d&&((F=l[N.route.id])!=null&&F.shouldRevalidate)||M.hasClientLoader?R=!0:S.add(N.route.id))}),S.size===0)return[];let A=jI(t,u);return R&&S.size>0&&A.searchParams.set("_routes",e.filter(N=>S.has(N.route.id)).map(N=>N.route.id).join(",")),[A.pathname+A.search]},[u,d,i,o,p,e,t,l]),v=P.useMemo(()=>DI(g,o),[g,o]),w=$I(g);return P.createElement(P.Fragment,null,y.map(S=>P.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),v.map(S=>P.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),w.map(({key:S,link:R})=>P.createElement("link",{key:S,...R})))}function qI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Ey=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ey&&(window.__reactRouterVersion="7.6.1")}catch{}function KI({basename:t,children:e,window:n}){let i=P.useRef();i.current==null&&(i.current=MC({window:n,v5Compat:!0}));let o=i.current,[l,u]=P.useState({action:o.action,location:o.location}),d=P.useCallback(f=>{P.startTransition(()=>u(f))},[u]);return P.useLayoutEffect(()=>o.listen(d),[o,d]),P.createElement(CI,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o})}var wy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ni=P.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:l,replace:u,state:d,target:f,to:p,preventScrollReset:g,viewTransition:y,...v},w){let{basename:S}=P.useContext(pn),R=typeof p=="string"&&wy.test(p),A,N=!1;if(typeof p=="string"&&R&&(A=p,Ey))try{let te=new URL(window.location.href),Ee=p.startsWith("//")?new URL(te.protocol+p):new URL(p),St=Vn(Ee.pathname,S);Ee.origin===te.origin&&St!=null?p=St+Ee.search+Ee.hash:N=!0}catch{hn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=lI(p,{relative:o}),[F,j,L]=WI(i,v),V=JI(p,{replace:u,state:d,target:f,preventScrollReset:g,relative:o,viewTransition:y});function J(te){e&&e(te),te.defaultPrevented||V(te)}let ce=P.createElement("a",{...v,...L,href:A||M,onClick:N||l?e:J,ref:qI(w,j),target:f,"data-discover":!R&&n==="render"?"true":void 0});return F&&!R?P.createElement(P.Fragment,null,ce,P.createElement(VI,{page:M})):ce});ni.displayName="Link";var QI=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:l,to:u,viewTransition:d,children:f,...p},g){let y=Go(u,{relative:p.relative}),v=Or(),w=P.useContext(hu),{navigator:S,basename:R}=P.useContext(pn),A=w!=null&&rT(y)&&d===!0,N=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,M=v.pathname,F=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(M=M.toLowerCase(),F=F?F.toLowerCase():null,N=N.toLowerCase()),F&&R&&(F=Vn(F,R)||F);const j=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let L=M===N||!o&&M.startsWith(N)&&M.charAt(j)==="/",V=F!=null&&(F===N||!o&&F.startsWith(N)&&F.charAt(N.length)==="/"),J={isActive:L,isPending:V,isTransitioning:A},ce=L?e:void 0,te;typeof i=="function"?te=i(J):te=[i,L?"active":null,V?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let Ee=typeof l=="function"?l(J):l;return P.createElement(ni,{...p,"aria-current":ce,className:te,ref:g,style:Ee,to:u,viewTransition:d},typeof f=="function"?f(J):f)});QI.displayName="NavLink";var YI=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:l,method:u=kl,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:y,...v},w)=>{let S=tT(),R=nT(d,{relative:p}),A=u.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&wy.test(d),M=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let j=F.nativeEvent.submitter,L=(j==null?void 0:j.getAttribute("formmethod"))||u;S(j||F.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:o,state:l,relative:p,preventScrollReset:g,viewTransition:y})};return P.createElement("form",{ref:w,method:A,action:R,onSubmit:i?f:M,...v,"data-discover":!N&&t==="render"?"true":void 0})});YI.displayName="Form";function XI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sy(t){let e=P.useContext(us);return Ue(e,XI(t)),e}function JI(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:l,viewTransition:u}={}){let d=$o(),f=Or(),p=Go(t,{relative:l});return P.useCallback(g=>{if(kI(g,e)){g.preventDefault();let y=n!==void 0?n:xo(f)===xo(p);d(t,{replace:y,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[f,d,p,n,i,e,t,o,l,u])}var ZI=0,eT=()=>`__${String(++ZI)}__`;function tT(){let{router:t}=Sy("useSubmit"),{basename:e}=P.useContext(pn),n=yI();return P.useCallback(async(i,o={})=>{let{action:l,method:u,encType:d,formData:f,body:p}=AI(i,e);if(o.navigate===!1){let g=o.fetcherKey||eT();await t.fetch(g,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function nT(t,{relative:e}={}){let{basename:n}=P.useContext(pn),i=P.useContext(xn);Ue(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Go(t||".",{relative:e})},u=Or();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Bn([n,l.pathname])),xo(l)}function rT(t,e={}){let n=P.useContext(hy);Ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Sy("useViewTransitionState"),o=Go(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Vn(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Vn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Ul(o.pathname,u)!=null||Ul(o.pathname,l)!=null}[...BI];var Cr=(t=>(t.ADMIN="ADMIN",t.USER="USER",t))(Cr||{});const iT=()=>{};var gv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W=function(t,e){if(!t)throw ds(e)},ds=function(t){return new Error("Firebase Database ("+Cy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},sT=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],u=t[n++],d=t[n++],f=((o&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},sf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const l=t[o],u=o+1<t.length,d=u?t[o+1]:0,f=o+2<t.length,p=f?t[o+2]:0,g=l>>2,y=(l&3)<<4|d>>4;let v=(d&15)<<2|p>>6,w=p&63;f||(w=64,u||(v=64)),i.push(n[g],n[y],n[v],n[w])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Iy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||d==null||p==null||y==null)throw new oT;const v=l<<2|d>>4;if(i.push(v),p!==64){const w=d<<4&240|p>>2;if(i.push(w),y!==64){const S=p<<6&192|y;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ty=function(t){const e=Iy(t);return sf.encodeByteArray(e,!0)},Hl=function(t){return Ty(t).replace(/\./g,"")},Bl=function(t){try{return sf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t){return xy(void 0,t)}function xy(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!lT(n)||(t[n]=xy(t[n],e[n]));return t}function lT(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=()=>uT().__FIREBASE_DEFAULTS__,dT=()=>{if(typeof process>"u"||typeof gv>"u")return;const t=gv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Bl(t[1]);return e&&JSON.parse(e)},of=()=>{try{return iT()||cT()||dT()||hT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ry=t=>{var e,n;return(n=(e=of())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fT=t=>{const e=Ry(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Py=()=>{var t;return(t=of())===null||t===void 0?void 0:t.config},ky=t=>{var e;return(e=of())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(t){return t.endsWith(".cloudworkstations.dev")}async function Ny(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hl(JSON.stringify(n)),Hl(JSON.stringify(u)),""].join(".")}const _o={};function mT(){const t={prod:[],emulator:[]};for(const e of Object.keys(_o))_o[e]?t.emulator.push(e):t.prod.push(e);return t}function gT(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let vv=!1;function by(t,e){if(typeof window>"u"||typeof document>"u"||!Ko(window.location.host)||_o[t]===e||_o[t]||vv)return;_o[t]=e;function n(v){return`__firebase__banner__${v}`}const i="__firebase__banner",l=mT().prod.length>0;function u(){const v=document.getElementById(i);v&&v.remove()}function d(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,w){v.setAttribute("width","24"),v.setAttribute("id",w),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function p(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{vv=!0,u()},v}function g(v,w){v.setAttribute("id",w),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=gT(i),w=n("text"),S=document.getElementById(w)||document.createElement("span"),R=n("learnmore"),A=document.getElementById(R)||document.createElement("a"),N=n("preprendIcon"),M=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const F=v.element;d(F),g(A,R);const j=p();f(M,N),F.append(M,S,A,j),document.body.appendChild(F)}l?(S.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function af(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function vT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _T(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ay(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yT(){const t=wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ET(){return Cy.NODE_ADMIN===!0}function wT(){try{return typeof indexedDB=="object"}catch{return!1}}function ST(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="FirebaseError";class Mr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=CT,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qo.prototype.create)}}class Qo{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?IT(l,i):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new Mr(o,d,i)}}function IT(t,e){return t.replace(TT,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const TT=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t){return JSON.parse(t)}function Ye(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=function(t){let e={},n={},i={},o="";try{const l=t.split(".");e=Ro(Bl(l[0])||""),n=Ro(Bl(l[1])||""),o=l[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:o}},xT=function(t){const e=Ly(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},RT=function(t){const e=Ly(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Zi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function dh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jl(t,e,n){const i={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=e.call(n,t[o],o,t));return i}function oi(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const l=t[o],u=e[o];if(_v(l)&&_v(u)){if(!oi(l,u))return!1}else if(l!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function _v(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function mo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function go(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)i[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)i[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const v=i[y-3]^i[y-8]^i[y-14]^i[y-16];i[y]=(v<<1|v>>>31)&4294967295}let o=this.chain_[0],l=this.chain_[1],u=this.chain_[2],d=this.chain_[3],f=this.chain_[4],p,g;for(let y=0;y<80;y++){y<40?y<20?(p=d^l&(u^d),g=1518500249):(p=l^u^d,g=1859775393):y<60?(p=l&u|d&(l|u),g=2400959708):(p=l^u^d,g=3395469782);const v=(o<<5|o>>>27)+p+f+g+i[y]&4294967295;f=d,d=u,u=(l<<30|l>>>2)&4294967295,l=o,o=v}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let o=0;const l=this.buf_;let u=this.inbuf_;for(;o<n;){if(u===0)for(;o<=i;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(l[u]=e.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(l),u=0;break}}else for(;o<n;)if(l[u]=e[o],++u,++o,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let o=0;o<5;o++)for(let l=24;l>=0;l-=8)e[i]=this.chain_[o]>>l&255,++i;return e}}function kT(t,e){const n=new NT(t,e);return n.subscribe.bind(n)}class NT{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");bT(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Md),o.error===void 0&&(o.error=Md),o.complete===void 0&&(o.complete=Md);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bT(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Md(){}function pu(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);if(o>=55296&&o<=56319){const l=o-55296;i++,W(i<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(i)-56320;o=65536+(l<<10)+u}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},mu=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class ai{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LT=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new qo;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MT(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zr){return this.instances.has(e)}getOptions(e=Zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&u.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const u=this.instances.get(o);return u&&e(u,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:OT(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Zr){return this.component?this.component.multipleInstances?e:Zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function OT(t){return t===Zr?void 0:t}function MT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const FT={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},UT=Pe.INFO,HT={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},BT=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=HT[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let lf=class{constructor(e){this.name=e,this._logLevel=UT,this._logHandler=BT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}};const jT=(t,e)=>e.some(n=>t instanceof n);let yv,Ev;function zT(){return yv||(yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WT(){return Ev||(Ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Oy=new WeakMap,hh=new WeakMap,My=new WeakMap,Dd=new WeakMap,uf=new WeakMap;function VT(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Ir(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Oy.set(n,t)}).catch(()=>{}),uf.set(e,t),e}function $T(t){if(hh.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});hh.set(t,e)}let fh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||My.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ir(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GT(t){fh=t(fh)}function qT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Fd(this),e,...n);return My.set(i,e.sort?e.sort():[e]),Ir(i)}:WT().includes(t)?function(...e){return t.apply(Fd(this),e),Ir(Oy.get(this))}:function(...e){return Ir(t.apply(Fd(this),e))}}function KT(t){return typeof t=="function"?qT(t):(t instanceof IDBTransaction&&$T(t),jT(t,zT())?new Proxy(t,fh):t)}function Ir(t){if(t instanceof IDBRequest)return VT(t);if(Dd.has(t))return Dd.get(t);const e=KT(t);return e!==t&&(Dd.set(t,e),uf.set(e,t)),e}const Fd=t=>uf.get(t);function QT(t,e,{blocked:n,upgrade:i,blocking:o,terminated:l}={}){const u=indexedDB.open(t,e),d=Ir(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Ir(u.result),f.oldVersion,f.newVersion,Ir(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{l&&f.addEventListener("close",()=>l()),o&&f.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const YT=["get","getKey","getAll","getAllKeys","count"],XT=["put","add","delete","clear"],Ud=new Map;function wv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ud.get(e))return Ud.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=XT.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||YT.includes(n)))return;const l=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),o&&f.done]))[0]};return Ud.set(e,l),l}GT(t=>({...t,get:(e,n,i)=>wv(e,n)||t.get(e,n,i),has:(e,n)=>!!wv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZT(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function ZT(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ph="@firebase/app",Sv="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new lf("@firebase/app"),ex="@firebase/app-compat",tx="@firebase/analytics-compat",nx="@firebase/analytics",rx="@firebase/app-check-compat",ix="@firebase/app-check",sx="@firebase/auth",ox="@firebase/auth-compat",ax="@firebase/database",lx="@firebase/data-connect",ux="@firebase/database-compat",cx="@firebase/functions",dx="@firebase/functions-compat",hx="@firebase/installations",fx="@firebase/installations-compat",px="@firebase/messaging",mx="@firebase/messaging-compat",gx="@firebase/performance",vx="@firebase/performance-compat",_x="@firebase/remote-config",yx="@firebase/remote-config-compat",Ex="@firebase/storage",wx="@firebase/storage-compat",Sx="@firebase/firestore",Cx="@firebase/ai",Ix="@firebase/firestore-compat",Tx="firebase",xx="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh="[DEFAULT]",Rx={[ph]:"fire-core",[ex]:"fire-core-compat",[nx]:"fire-analytics",[tx]:"fire-analytics-compat",[ix]:"fire-app-check",[rx]:"fire-app-check-compat",[sx]:"fire-auth",[ox]:"fire-auth-compat",[ax]:"fire-rtdb",[lx]:"fire-data-connect",[ux]:"fire-rtdb-compat",[cx]:"fire-fn",[dx]:"fire-fn-compat",[hx]:"fire-iid",[fx]:"fire-iid-compat",[px]:"fire-fcm",[mx]:"fire-fcm-compat",[gx]:"fire-perf",[vx]:"fire-perf-compat",[_x]:"fire-rc",[yx]:"fire-rc-compat",[Ex]:"fire-gcs",[wx]:"fire-gcs-compat",[Sx]:"fire-fst",[Ix]:"fire-fst-compat",[Cx]:"fire-vertex","fire-js":"fire-js",[Tx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new Map,Px=new Map,gh=new Map;function Cv(t,e){try{t.container.addComponent(e)}catch(n){$n.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function es(t){const e=t.name;if(gh.has(e))return $n.debug(`There were multiple attempts to register component ${e}.`),!1;gh.set(e,t);for(const n of Po.values())Cv(n,t);for(const n of Px.values())Cv(n,t);return!0}function cf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $t(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new Qo("app","Firebase",kx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=xx;function Dy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:mh,automaticDataCollectionEnabled:!0},e),o=i.name;if(typeof o!="string"||!o)throw Tr.create("bad-app-name",{appName:String(o)});if(n||(n=Py()),!n)throw Tr.create("no-options");const l=Po.get(o);if(l){if(oi(n,l.options)&&oi(i,l.config))return l;throw Tr.create("duplicate-app",{appName:o})}const u=new DT(o);for(const f of gh.values())u.addComponent(f);const d=new Nx(n,i,u);return Po.set(o,d),d}function Fy(t=mh){const e=Po.get(t);if(!e&&t===mh&&Py())return Dy();if(!e)throw Tr.create("no-app",{appName:t});return e}function Iv(){return Array.from(Po.values())}function xr(t,e,n){var i;let o=(i=Rx[t])!==null&&i!==void 0?i:t;n&&(o+=`-${n}`);const l=o.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$n.warn(d.join(" "));return}es(new ai(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="firebase-heartbeat-database",Ax=1,ko="firebase-heartbeat-store";let Hd=null;function Uy(){return Hd||(Hd=QT(bx,Ax,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ko)}catch(n){console.warn(n)}}}}).catch(t=>{throw Tr.create("idb-open",{originalErrorMessage:t.message})})),Hd}async function Lx(t){try{const n=(await Uy()).transaction(ko),i=await n.objectStore(ko).get(Hy(t));return await n.done,i}catch(e){if(e instanceof Mr)$n.warn(e.message);else{const n=Tr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$n.warn(n.message)}}}async function Tv(t,e){try{const i=(await Uy()).transaction(ko,"readwrite");await i.objectStore(ko).put(e,Hy(t)),await i.done}catch(n){if(n instanceof Mr)$n.warn(n.message);else{const i=Tr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$n.warn(i.message)}}}function Hy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=1024,Mx=30;class Dx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ux(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=xv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>Mx){const u=Hx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){$n.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xv(),{heartbeatsToSend:i,unsentEntries:o}=Fx(this._heartbeatsCache.heartbeats),l=Hl(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return $n.warn(n),""}}}function xv(){return new Date().toISOString().substring(0,10)}function Fx(t,e=Ox){const n=[];let i=t.slice();for(const o of t){const l=n.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),Rv(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Rv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Ux{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wT()?ST().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Lx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Tv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Tv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Rv(t){return Hl(JSON.stringify({version:2,heartbeats:t})).length}function Hx(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t){es(new ai("platform-logger",e=>new JT(e),"PRIVATE")),es(new ai("heartbeat",e=>new Dx(e),"PRIVATE")),xr(ph,Sv,t),xr(ph,Sv,"esm2017"),xr("fire-js","")}Bx("");var vh=function(t,e){return vh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},vh(t,e)};function Qt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");vh(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Z=function(){return Z=Object.assign||function(e){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Z.apply(this,arguments)};function Gn(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function Sn(t,e,n){if(n||arguments.length===2)for(var i=0,o=e.length,l;i<o;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return t.concat(l||Array.prototype.slice.call(e))}function By(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jx=By,jy=new Qo("auth","Firebase",By());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=new lf("@firebase/auth");function zx(t,...e){zl.logLevel<=Pe.WARN&&zl.warn(`Auth (${fs}): ${t}`,...e)}function bl(t,...e){zl.logLevel<=Pe.ERROR&&zl.error(`Auth (${fs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t,...e){throw df(t,...e)}function Cn(t,...e){return df(t,...e)}function zy(t,e,n){const i=Object.assign(Object.assign({},jx()),{[e]:n});return new Qo("auth","Firebase",i).create(e,{appName:t.name})}function jn(t){return zy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function df(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return jy.create(t,...e)}function ae(t,e,...n){if(!t)throw df(e,...n)}function Fn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bl(e),new Error(e)}function qn(t,e){t||Fn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Wx(){return Pv()==="http:"||Pv()==="https:"}function Pv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Wx()||_T()||"connection"in navigator)?navigator.onLine:!0}function $x(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n){this.shortDelay=e,this.longDelay=n,qn(n>e,"Short delay should be less than long delay!"),this.isMobile=af()||Ay()}get(){return Vx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t,e){qn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Kx=new Yo(3e4,6e4);function Dr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fr(t,e,n,i,o={}){return Vy(t,o,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const d=hs(Object.assign({key:t.config.apiKey},u)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:f},l);return vT()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Ko(t.emulatorConfig.host)&&(p.credentials="include"),Wy.fetch()(await $y(t,t.config.apiHost,n,d),p)})}async function Vy(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},Gx),e);try{const o=new Yx(t),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Sl(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sl(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Sl(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw Sl(t,"user-disabled",u);const g=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw zy(t,g,p);fn(t,g)}}catch(o){if(o instanceof Mr)throw o;fn(t,"network-request-failed",{message:String(o)})}}async function Xo(t,e,n,i,o={}){const l=await Fr(t,e,n,i,o);return"mfaPendingCredential"in l&&fn(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function $y(t,e,n,i){const o=`${e}${n}?${i}`,l=t,u=l.config.emulator?hf(t.config,o):`${t.config.apiScheme}://${o}`;return qx.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function Qx(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Yx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Cn(this.auth,"network-request-failed")),Kx.get())})}}function Sl(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=Cn(t,e,i);return o.customData._tokenResponse=n,o}function kv(t){return t!==void 0&&t.enterprise!==void 0}class Xx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Qx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Jx(t,e){return Fr(t,"GET","/v2/recaptchaConfig",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(t,e){return Fr(t,"POST","/v1/accounts:delete",e)}async function Wl(t,e){return Fr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function e1(t,e=!1){const n=lt(t),i=await n.getIdToken(e),o=ff(i);ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:yo(Bd(o.auth_time)),issuedAtTime:yo(Bd(o.iat)),expirationTime:yo(Bd(o.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Bd(t){return Number(t)*1e3}function ff(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return bl("JWT malformed, contained fewer than 3 sections"),null;try{const o=Bl(n);return o?JSON.parse(o):(bl("Failed to decode base64 JWT payload"),null)}catch(o){return bl("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Nv(t){const e=ff(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Mr&&t1(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function t1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yo(this.lastLoginAt),this.creationTime=yo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(t){var e;const n=t.auth,i=await t.getIdToken(),o=await No(t,Wl(n,{idToken:i}));ae(o==null?void 0:o.users.length,n,"internal-error");const l=o.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Gy(l.providerUserInfo):[],d=i1(t.providerData,u),f=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(d!=null&&d.length),g=f?p:!1,y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new yh(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function r1(t){const e=lt(t);await Vl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i1(t,e){return[...t.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Gy(t){return t.map(e=>{var{providerId:n}=e,i=Gn(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(t,e){const n=await Vy(t,{},async()=>{const i=hs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=t.config,u=await $y(t,o,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Wy.fetch()(u,{method:"POST",headers:d,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function o1(t,e){return Fr(t,"POST","/v2/accounts:revokeToken",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=Nv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:l}=await s1(e,n);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:l}=n,u=new Qi;return i&&(ae(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(ae(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(ae(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qi,this.toJSON())}_performRefresh(){return Fn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class an{constructor(e){var{uid:n,auth:i,stsTokenManager:o}=e,l=Gn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new n1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new yh(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await No(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return e1(this,e)}reload(){return r1(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new an(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Vl(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($t(this.auth.app))return Promise.reject(jn(this.auth));const e=await this.getIdToken();return await No(this,Zx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,o,l,u,d,f,p,g;const y=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(o=n.email)!==null&&o!==void 0?o:void 0,w=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,S=(u=n.photoURL)!==null&&u!==void 0?u:void 0,R=(d=n.tenantId)!==null&&d!==void 0?d:void 0,A=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,N=(p=n.createdAt)!==null&&p!==void 0?p:void 0,M=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:F,emailVerified:j,isAnonymous:L,providerData:V,stsTokenManager:J}=n;ae(F&&J,e,"internal-error");const ce=Qi.fromJSON(this.name,J);ae(typeof F=="string",e,"internal-error"),gr(y,e.name),gr(v,e.name),ae(typeof j=="boolean",e,"internal-error"),ae(typeof L=="boolean",e,"internal-error"),gr(w,e.name),gr(S,e.name),gr(R,e.name),gr(A,e.name),gr(N,e.name),gr(M,e.name);const te=new an({uid:F,auth:e,email:v,emailVerified:j,displayName:y,isAnonymous:L,photoURL:S,phoneNumber:w,tenantId:R,stsTokenManager:ce,createdAt:N,lastLoginAt:M});return V&&Array.isArray(V)&&(te.providerData=V.map(Ee=>Object.assign({},Ee))),A&&(te._redirectEventId=A),te}static async _fromIdTokenResponse(e,n,i=!1){const o=new Qi;o.updateFromServerResponse(n);const l=new an({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Vl(l),l}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];ae(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Gy(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new Qi;d.updateFromIdToken(i);const f=new an({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new yh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=new Map;function Un(t){qn(t instanceof Function,"Expected a class definition");let e=bv.get(t);return e?(qn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qy.type="NONE";const Av=qy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t,e,n){return`firebase:${t}:${e}:${n}`}class Yi{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Al(this.userKey,o.apiKey,l),this.fullPersistenceKey=Al("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wl(this.auth,{idToken:e}).catch(()=>{});return n?an._fromGetAccountInfoResponse(this.auth,n,e):null}return an._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Yi(Un(Av),e,i);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=o[0]||Un(Av);const u=Al(i,e.config.apiKey,e.name);let d=null;for(const p of n)try{const g=await p._get(u);if(g){let y;if(typeof g=="string"){const v=await Wl(e,{idToken:g}).catch(()=>{});if(!v)break;y=await an._fromGetAccountInfoResponse(e,v,g)}else y=an._fromJSON(e,g);p!==l&&(d=y),l=p;break}}catch{}const f=o.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new Yi(l,e,i):(l=f[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Yi(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ky(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zy(e))return"Blackberry";if(e0(e))return"Webos";if(Qy(e))return"Safari";if((e.includes("chrome/")||Yy(e))&&!e.includes("edge/"))return"Chrome";if(Jy(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Ky(t=wt()){return/firefox\//i.test(t)}function Qy(t=wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yy(t=wt()){return/crios\//i.test(t)}function Xy(t=wt()){return/iemobile/i.test(t)}function Jy(t=wt()){return/android/i.test(t)}function Zy(t=wt()){return/blackberry/i.test(t)}function e0(t=wt()){return/webos/i.test(t)}function pf(t=wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function a1(t=wt()){var e;return pf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function l1(){return yT()&&document.documentMode===10}function t0(t=wt()){return pf(t)||Jy(t)||e0(t)||Zy(t)||/windows phone/i.test(t)||Xy(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(t,e=[]){let n;switch(t){case"Browser":n=Lv(wt());break;case"Worker":n=`${Lv(wt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fs}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,d)=>{try{const f=e(l);u(f)}catch(f){d(f)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(t,e={}){return Fr(t,"GET","/v2/passwordPolicy",Dr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=6;class h1{constructor(e){var n,i,o,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:d1,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,o,l,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(l=f.containsUppercaseLetter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ov(this),this.idTokenSubscription=new Ov(this),this.beforeStateQueue=new u1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Un(n)),this._initializationPromise=this.queue(async()=>{var i,o,l;if(!this._deleted&&(this.persistenceManager=await Yi.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wl(this,{idToken:e}),i=await an._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if($t(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(o=f.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$x()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($t(this.app))return Promise.reject(jn(this));const n=e?lt(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $t(this.app)?Promise.reject(jn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $t(this.app)?Promise.reject(jn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Un(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c1(this),n=new h1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qo("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await o1(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Un(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Yi.create(this,[Un(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,o);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if($t(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&zx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function vi(t){return lt(t)}class Ov{constructor(e){this.auth=e,this.observer=null,this.addObserver=kT(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p1(t){gu=t}function r0(t){return gu.loadJS(t)}function m1(){return gu.recaptchaEnterpriseScript}function g1(){return gu.gapiScript}function v1(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class _1{constructor(){this.enterprise=new y1}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class y1{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const E1="recaptcha-enterprise",i0="NO_RECAPTCHA";class w1{constructor(e){this.type=E1,this.auth=vi(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,d)=>{Jx(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new Xx(f);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(f=>{d(f)})})}function o(l,u,d){const f=window.grecaptcha;kv(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(i0)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _1().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(d=>{if(!n&&kv(window.grecaptcha))o(d,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=m1();f.length!==0&&(f+=d),r0(f).then(()=>{o(d,l,u)}).catch(p=>{u(p)})}}).catch(d=>{u(d)})})}}async function Mv(t,e,n,i=!1,o=!1){const l=new w1(t);let u;if(o)u=i0;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Eh(t,e,n,i,o){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Mv(t,e,n,n==="getOobCode");return i(t,u)}else return i(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Mv(t,e,n,n==="getOobCode");return i(t,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t,e){const n=cf(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(oi(l,e??{}))return o;fn(o,"already-initialized")}return n.initialize({options:e})}function C1(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Un);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function I1(t,e,n){const i=vi(t);ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=s0(e),{host:u,port:d}=T1(e),f=d===null?"":`:${d}`,p={url:`${l}//${u}${f}/`},g=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){ae(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ae(oi(p,i.config.emulator)&&oi(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,Ko(u)?(Ny(`${l}//${u}${f}`),by("Auth",!0)):x1()}function s0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function T1(t){const e=s0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Dv(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:Dv(u)}}}function Dv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function x1(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fn("not implemented")}_getIdTokenResponse(e){return Fn("not implemented")}_linkToIdToken(e,n){return Fn("not implemented")}_getReauthenticationResolver(e){return Fn("not implemented")}}async function R1(t,e){return Fr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P1(t,e){return Xo(t,"POST","/v1/accounts:signInWithPassword",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k1(t,e){return Xo(t,"POST","/v1/accounts:signInWithEmailLink",Dr(t,e))}async function N1(t,e){return Xo(t,"POST","/v1/accounts:signInWithEmailLink",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends mf{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new bo(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new bo(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eh(e,n,"signInWithPassword",P1);case"emailLink":return k1(e,{email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eh(e,i,"signUpPassword",R1);case"emailLink":return N1(e,{idToken:n,email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xi(t,e){return Xo(t,"POST","/v1/accounts:signInWithIdp",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="http://localhost";class li extends mf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new li(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=n,l=Gn(n,["providerId","signInMethod"]);if(!i||!o)return null;const u=new li(i,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Xi(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Xi(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xi(e,n)}buildRequest(){const e={requestUri:b1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hs(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function L1(t){const e=mo(go(t)).link,n=e?mo(go(e)).deep_link_id:null,i=mo(go(t)).deep_link_id;return(i?mo(go(i)).link:null)||i||n||e||t}class gf{constructor(e){var n,i,o,l,u,d;const f=mo(go(e)),p=(n=f.apiKey)!==null&&n!==void 0?n:null,g=(i=f.oobCode)!==null&&i!==void 0?i:null,y=A1((o=f.mode)!==null&&o!==void 0?o:null);ae(p&&g&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=g,this.continueUrl=(l=f.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=L1(e);try{return new gf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(){this.providerId=ps.PROVIDER_ID}static credential(e,n){return bo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=gf.parseLink(n);return ae(i,"argument-error"),bo._fromEmailAndCode(e,i.code,i.tenantId)}}ps.PROVIDER_ID="password";ps.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ps.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends o0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends Jo{constructor(){super("facebook.com")}static credential(e){return li._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.FACEBOOK_SIGN_IN_METHOD="facebook.com";_r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Jo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return li._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return yr.credential(n,i)}catch{return null}}}yr.GOOGLE_SIGN_IN_METHOD="google.com";yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Jo{constructor(){super("github.com")}static credential(e){return li._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Er.credential(e.oauthAccessToken)}catch{return null}}}Er.GITHUB_SIGN_IN_METHOD="github.com";Er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Jo{constructor(){super("twitter.com")}static credential(e,n){return li._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return wr.credential(n,i)}catch{return null}}}wr.TWITTER_SIGN_IN_METHOD="twitter.com";wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O1(t,e){return Xo(t,"POST","/v1/accounts:signUp",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const l=await an._fromIdTokenResponse(e,i,o),u=Fv(i);return new ui({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=Fv(i);return new ui({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function Fv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends Mr{constructor(e,n,i,o){var l;super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,$l.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new $l(e,n,i,o)}}function a0(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?$l._fromErrorAndOperation(t,l,e,i):l})}async function M1(t,e,n=!1){const i=await No(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ui._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D1(t,e,n=!1){const{auth:i}=t;if($t(i.app))return Promise.reject(jn(i));const o="reauthenticate";try{const l=await No(t,a0(i,o,e,t),n);ae(l.idToken,i,"internal-error");const u=ff(l.idToken);ae(u,i,"internal-error");const{sub:d}=u;return ae(t.uid===d,i,"user-mismatch"),ui._forOperation(t,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&fn(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l0(t,e,n=!1){if($t(t.app))return Promise.reject(jn(t));const i="signIn",o=await a0(t,i,e),l=await ui._fromIdTokenResponse(t,i,o);return n||await t._updateCurrentUser(l.user),l}async function F1(t,e){return l0(vi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u0(t){const e=vi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function U1(t,e,n){if($t(t.app))return Promise.reject(jn(t));const i=vi(t),u=await Eh(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",O1).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&u0(t),f}),d=await ui._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(d.user),d}function H1(t,e,n){return $t(t.app)?Promise.reject(jn(t)):F1(lt(t),ps.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&u0(t),i})}function B1(t,e,n,i){return lt(t).onIdTokenChanged(e,n,i)}function j1(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function z1(t,e,n,i){return lt(t).onAuthStateChanged(e,n,i)}function W1(t){return lt(t).signOut()}const Gl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gl,"1"),this.storage.removeItem(Gl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=1e3,$1=10;class d0 extends c0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);l1()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,$1):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},V1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}d0.type="LOCAL";const G1=d0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends c0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}h0.type="SESSION";const f0=h0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new vu(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:l}=n.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(u).map(async p=>p(n.origin,l)),f=await q1(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((d,f)=>{const p=vf("",20);o.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(y){const v=y;if(v.data.eventId===p)switch(v.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(v.data.response);break;default:clearTimeout(g),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return window}function Q1(t){In().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(){return typeof In().WorkerGlobalScope<"u"&&typeof In().importScripts=="function"}async function Y1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function X1(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function J1(){return p0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="firebaseLocalStorageDb",Z1=1,ql="firebaseLocalStorage",g0="fbase_key";class Zo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _u(t,e){return t.transaction([ql],e?"readwrite":"readonly").objectStore(ql)}function eR(){const t=indexedDB.deleteDatabase(m0);return new Zo(t).toPromise()}function wh(){const t=indexedDB.open(m0,Z1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(ql,{keyPath:g0})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(ql)?e(i):(i.close(),await eR(),e(await wh()))})})}async function Uv(t,e,n){const i=_u(t,!0).put({[g0]:e,value:n});return new Zo(i).toPromise()}async function tR(t,e){const n=_u(t,!1).get(e),i=await new Zo(n).toPromise();return i===void 0?null:i.value}function Hv(t,e){const n=_u(t,!0).delete(e);return new Zo(n).toPromise()}const nR=800,rR=3;class v0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>rR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vu._getInstance(J1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Y1(),!this.activeServiceWorker)return;this.sender=new K1(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||X1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wh();return await Uv(e,Gl,"1"),await Hv(e,Gl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Uv(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>tR(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=_u(o,!1).getAll();return new Zo(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v0.type="LOCAL";const iR=v0;new Yo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t,e){return e?Un(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f extends mf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oR(t){return l0(t.auth,new _f(t),t.bypassAuthState)}function aR(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),D1(n,new _f(t),t.bypassAuthState)}async function lR(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),M1(n,new _f(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oR;case"linkViaPopup":case"linkViaRedirect":return lR;case"reauthViaPopup":case"reauthViaRedirect":return aR;default:fn(this.auth,"internal-error")}}resolve(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=new Yo(2e3,1e4);class qi extends _0{constructor(e,n,i,o,l){super(e,n,o,l),this.provider=i,this.authWindow=null,this.pollId=null,qi.currentPopupAction&&qi.currentPopupAction.cancel(),qi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){qn(this.filter.length===1,"Popup operations only handle one event");const e=vf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uR.get())};e()}}qi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="pendingRedirect",Ll=new Map;class dR extends _0{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Ll.get(this.auth._key());if(!e){try{const i=await hR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Ll.set(this.auth._key(),e)}return this.bypassAuthState||Ll.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hR(t,e){const n=mR(e),i=pR(t);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function fR(t,e){Ll.set(t._key(),e)}function pR(t){return Un(t._redirectPersistence)}function mR(t){return Al(cR,t.config.apiKey,t.name)}async function gR(t,e,n=!1){if($t(t.app))return Promise.reject(jn(t));const i=vi(t),o=sR(i,e),u=await new dR(i,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=10*60*1e3;class _R{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!y0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Cn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bv(e))}saveEventToCache(e){this.cachedEventUids.add(Bv(e)),this.lastProcessedEventTime=Date.now()}}function Bv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function y0({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return y0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(t,e={}){return Fr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SR=/^https?/;async function CR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ER(t);for(const n of e)try{if(IR(n))return}catch{}fn(t,"unauthorized-domain")}function IR(t){const e=_h(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!SR.test(n))return!1;if(wR.test(t))return i===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=new Yo(3e4,6e4);function jv(){const t=In().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xR(t){return new Promise((e,n)=>{var i,o,l;function u(){jv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jv(),n(Cn(t,"network-request-failed"))},timeout:TR.get()})}if(!((o=(i=In().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=In().gapi)===null||l===void 0)&&l.load)u();else{const d=v1("iframefcb");return In()[d]=()=>{gapi.load?u():n(Cn(t,"network-request-failed"))},r0(`${g1()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw Ol=null,e})}let Ol=null;function RR(t){return Ol=Ol||xR(t),Ol}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=new Yo(5e3,15e3),kR="__/auth/iframe",NR="emulator/auth/iframe",bR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LR(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hf(e,NR):`https://${t.config.authDomain}/${kR}`,i={apiKey:e.apiKey,appName:t.name,v:fs},o=AR.get(t.config.apiHost);o&&(i.eid=o);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${hs(i).slice(1)}`}async function OR(t){const e=await RR(t),n=In().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:LR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bR,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const u=Cn(t,"network-request-failed"),d=In().setTimeout(()=>{l(u)},PR.get());function f(){In().clearTimeout(d),o(i)}i.ping(f).then(f,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DR=500,FR=600,UR="_blank",HR="http://localhost";class zv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BR(t,e,n,i=DR,o=FR){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const f=Object.assign(Object.assign({},MR),{width:i.toString(),height:o.toString(),top:l,left:u}),p=wt().toLowerCase();n&&(d=Yy(p)?UR:n),Ky(p)&&(e=e||HR,f.scrollbars="yes");const g=Object.entries(f).reduce((v,[w,S])=>`${v}${w}=${S},`,"");if(a1(p)&&d!=="_self")return jR(e||"",d),new zv(null);const y=window.open(e||"",d,g);ae(y,t,"popup-blocked");try{y.focus()}catch{}return new zv(y)}function jR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="__/auth/handler",WR="emulator/auth/handler",VR=encodeURIComponent("fac");async function Wv(t,e,n,i,o,l){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:fs,eventId:o};if(e instanceof o0){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",dh(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))u[g]=y}if(e instanceof Jo){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const f=await t._getAppCheckToken(),p=f?`#${VR}=${encodeURIComponent(f)}`:"";return`${$R(t)}?${hs(d).slice(1)}${p}`}function $R({config:t}){return t.emulator?hf(t,WR):`https://${t.authDomain}/${zR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="webStorageSupport";class GR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f0,this._completeRedirectFn=gR,this._overrideRedirectResult=fR}async _openPopup(e,n,i,o){var l;qn((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await Wv(e,n,i,_h(),o);return BR(e,u,vf())}async _openRedirect(e,n,i,o){await this._originValidation(e);const l=await Wv(e,n,i,_h(),o);return Q1(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(qn(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await OR(e),i=new _R(e);return n.register("authEvent",o=>(ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jd,{type:jd},o=>{var l;const u=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[jd];u!==void 0&&n(!!u),fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return t0()||Qy()||pf()}}const qR=GR;var Vv="@firebase/auth",$v="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YR(t){es(new ai("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;ae(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n0(t)},p=new f1(i,o,l,f);return C1(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),es(new ai("auth-internal",e=>{const n=vi(e.getProvider("auth").getImmediate());return(i=>new KR(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(Vv,$v,QR(t)),xr(Vv,$v,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=5*60,JR=ky("authIdTokenMaxAge")||XR;let Gv=null;const ZR=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>JR)return;const o=n==null?void 0:n.token;Gv!==o&&(Gv=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function eP(t=Fy()){const e=cf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=S1(t,{popupRedirectResolver:qR,persistence:[iR,G1,f0]}),i=ky("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=ZR(l.toString());j1(n,u,()=>u(n.currentUser)),B1(n,d=>u(d))}}const o=Ry("auth");return o&&I1(n,`http://${o}`),n}function tP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}p1({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=o=>{const l=Cn("internal-error");l.customData=o,n(l)},i.type="text/javascript",i.charset="UTF-8",tP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YR("Browser");var nP="firebase",rP="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(nP,rP,"app");const iP={apiKey:"AIzaSyCNEJDVMHQY8BnaO2ZKkGBQbvoEHXhZBeo",authDomain:"diri-9ed53.firebaseapp.com",databaseURL:"https://diri-9ed53-default-rtdb.firebaseio.com",projectId:"diri-9ed53",storageBucket:"diri-9ed53.firebasestorage.app",messagingSenderId:"710505225558",appId:"1:710505225558:web:a1489ff5c4b458c28b4af7",measurementId:"G-4SMWBK22RK"},Gt=Iv().length?Iv()[0]:Dy(iP);var qv={};const Kv="@firebase/database",Qv="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E0="";function sP(t){E0=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ye(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ro(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Rn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new oP(e)}}catch{}return new aP},ri=w0("localStorage"),lP=w0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new lf("@firebase/database"),uP=function(){let t=1;return function(){return t++}}(),S0=function(t){const e=AT(t),n=new PT;n.update(e);const i=n.digest();return sf.encodeByteArray(i)},ea=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=ea.apply(null,i):typeof i=="object"?e+=Ye(i):e+=i,e+=" "}return e};let Eo=null,Yv=!0;const cP=function(t,e){W(!0,"Can't turn on custom loggers persistently."),Ji.logLevel=Pe.VERBOSE,Eo=Ji.log.bind(Ji)},ot=function(...t){if(Yv===!0&&(Yv=!1,Eo===null&&lP.get("logging_enabled")===!0&&cP()),Eo){const e=ea.apply(null,t);Eo(e)}},ta=function(t){return function(...e){ot(t,...e)}},Sh=function(...t){const e="FIREBASE INTERNAL ERROR: "+ea(...t);Ji.error(e)},Kn=function(...t){const e=`FIREBASE FATAL ERROR: ${ea(...t)}`;throw Ji.error(e),new Error(e)},Et=function(...t){const e="FIREBASE WARNING: "+ea(...t);Ji.warn(e)},dP=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Et("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},yf=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},hP=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ci="[MIN_NAME]",kr="[MAX_NAME]",_i=function(t,e){if(t===e)return 0;if(t===ci||e===kr)return-1;if(e===ci||t===kr)return 1;{const n=Xv(t),i=Xv(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},fP=function(t,e){return t===e?0:t<e?-1:1},uo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ye(e))},Ef=function(t){if(typeof t!="object"||t===null)return Ye(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Ye(e[i]),n+=":",n+=Ef(t[e[i]]);return n+="}",n},C0=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let o=0;o<n;o+=e)o+e>n?i.push(t.substring(o,n)):i.push(t.substring(o,o+e));return i};function at(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const I0=function(t){W(!yf(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let o,l,u,d,f;t===0?(l=0,u=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(t)/Math.LN2),i),l=d+i,u=Math.round(t*Math.pow(2,n-d)-Math.pow(2,n))):(l=0,u=Math.round(t/Math.pow(2,1-i-n))));const p=[];for(f=n;f;f-=1)p.push(u%2?1:0),u=Math.floor(u/2);for(f=e;f;f-=1)p.push(l%2?1:0),l=Math.floor(l/2);p.push(o?1:0),p.reverse();const g=p.join("");let y="";for(f=0;f<64;f+=8){let v=parseInt(g.substr(f,8),2).toString(16);v.length===1&&(v="0"+v),y=y+v}return y.toLowerCase()},pP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},mP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function gP(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const vP=new RegExp("^-?(0*)\\d{1,10}$"),_P=-2147483648,yP=2147483647,Xv=function(t){if(vP.test(t)){const e=Number(t);if(e>=_P&&e<=yP)return e}return null},ms=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Et("Exception was thrown by user callback.",n),e},Math.floor(0))}},EP=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},wo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,$t(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Et(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ot("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Et(e)}}class Ml{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ml.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="5",T0="v",x0="s",R0="r",P0="f",k0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,N0="ls",b0="p",Ch="ac",A0="websocket",L0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n,i,o,l=!1,u="",d=!1,f=!1,p=null){this.secure=n,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=f,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ri.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ri.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function CP(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function M0(t,e,n){W(typeof e=="string","typeof type must == string"),W(typeof n=="object","typeof params must == object");let i;if(e===A0)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===L0)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);CP(t)&&(n.ns=t.namespace);const o=[];return at(n,(l,u)=>{o.push(l+"="+u)}),i+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.counters_={}}incrementCounter(e,n=1){Rn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return aT(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd={},Wd={};function Sf(t){const e=t.toString();return zd[e]||(zd[e]=new IP),zd[e]}function TP(t,e){const n=t.toString();return Wd[n]||(Wd[n]=e()),Wd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&ms(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="start",RP="close",PP="pLPCommand",kP="pRTLPCB",D0="id",F0="pw",U0="ser",NP="cb",bP="seg",AP="ts",LP="d",OP="dframe",H0=1870,B0=30,MP=H0-B0,DP=25e3,FP=3e4;class Ki{constructor(e,n,i,o,l,u,d){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.transportSessionId=u,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ta(e),this.stats_=Sf(n),this.urlFn=f=>(this.appCheckToken&&(f[Ch]=this.appCheckToken),M0(n,L0,f))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new xP(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(FP)),hP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Cf((...l)=>{const[u,d,f,p,g]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===Jv)this.id=d,this.password=f;else if(u===RP)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,d]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,d)},()=>{this.onClosed_()},this.urlFn);const i={};i[Jv]="t",i[U0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[NP]=this.scriptTagHolder.uniqueCallbackIdentifier),i[T0]=wf,this.transportSessionId&&(i[x0]=this.transportSessionId),this.lastSessionId&&(i[N0]=this.lastSessionId),this.applicationId&&(i[b0]=this.applicationId),this.appCheckToken&&(i[Ch]=this.appCheckToken),typeof location<"u"&&location.hostname&&k0.test(location.hostname)&&(i[R0]=P0);const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ki.forceAllow_=!0}static forceDisallow(){Ki.forceDisallow_=!0}static isAvailable(){return Ki.forceAllow_?!0:!Ki.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!pP()&&!mP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ye(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Ty(n),o=C0(i,MP);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[OP]="t",i[D0]=e,i[F0]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ye(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Cf{constructor(e,n,i,o){this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=uP(),window[PP+this.uniqueCallbackIdentifier]=e,window[kP+this.uniqueCallbackIdentifier]=n,this.myIFrame=Cf.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(d){ot("frame writing exception"),d.stack&&ot(d.stack),ot(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ot("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[D0]=this.myID,e[F0]=this.myPW,e[U0]=this.currentSerial;let n=this.urlFn(e),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+B0+i.length<=H0;){const u=this.pendingSegs.shift();i=i+"&"+bP+o+"="+u.seg+"&"+AP+o+"="+u.ts+"&"+LP+o+"="+u.d,o++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(i,Math.floor(DP)),l=()=>{clearTimeout(o),i()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{ot("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=16384,HP=45e3;let Kl=null;typeof MozWebSocket<"u"?Kl=MozWebSocket:typeof WebSocket<"u"&&(Kl=WebSocket);class sn{constructor(e,n,i,o,l,u,d){this.connId=e,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ta(this.connId),this.stats_=Sf(n),this.connURL=sn.connectionURL_(n,u,d,o,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,o,l){const u={};return u[T0]=wf,typeof location<"u"&&location.hostname&&k0.test(location.hostname)&&(u[R0]=P0),n&&(u[x0]=n),i&&(u[N0]=i),o&&(u[Ch]=o),l&&(u[b0]=l),M0(e,A0,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ri.set("previous_websocket_failure",!0);try{let i;ET(),this.mySock=new Kl(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){sn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Kl!==null&&!sn.forceDisallow_}static previouslyFailed(){return ri.isInMemoryStorage||ri.get("previous_websocket_failure")===!0}markConnectionHealthy(){ri.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Ro(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(W(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Ye(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=C0(n,UP);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(HP))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}sn.responsesRequiredToBeHealthy=2;sn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{static get ALL_TRANSPORTS(){return[Ki,sn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=sn&&sn.isAvailable();let i=n&&!sn.previouslyFailed();if(e.webSocketOnly&&(n||Et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[sn];else{const o=this.transports_=[];for(const l of Ao.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l);Ao.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ao.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=6e4,jP=5e3,zP=10*1024,WP=100*1024,Vd="t",Zv="d",VP="s",e_="r",$P="e",t_="o",n_="a",r_="n",i_="p",GP="h";class qP{constructor(e,n,i,o,l,u,d,f,p,g){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=u,this.onReady_=d,this.onDisconnect_=f,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ta("c:"+this.id+":"),this.transportManager_=new Ao(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=wo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>WP?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>zP?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Vd in e){const n=e[Vd];n===n_?this.upgradeIfSecondaryHealthy_():n===e_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===t_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=uo("t",e),i=uo("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:i_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:n_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:r_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=uo("t",e),i=uo("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=uo(Vd,e);if(Zv in e){const i=e[Zv];if(n===GP){const o=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===r_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===VP?this.onConnectionShutdown_(i):n===e_?this.onReset_(i):n===$P?Sh("Server Error: "+i):n===t_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Sh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),wf!==i&&Et("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),wo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(BP))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(jP))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:i_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ri.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{put(e,n,i,o){}merge(e,n,i,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e){this.allowedEvents_=e,this.listeners_={},W(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const o=this.getInitialEvent(e);o&&n.apply(i,o)}off(e,n,i){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let l=0;l<o.length;l++)if(o[l].callback===n&&(!i||i===o[l].context)){o.splice(l,1);return}}validateEventType_(e){W(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends z0{static getInstance(){return new Ql}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!af()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return W(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=32,o_=768;class Re{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Se(){return new Re("")}function ge(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Nr(t){return t.pieces_.length-t.pieceNum_}function Ae(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Re(t.pieces_,e)}function If(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function KP(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Lo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function W0(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Re(e,0)}function We(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Re)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&n.push(i[o])}return new Re(n,0)}function pe(t){return t.pieceNum_>=t.pieces_.length}function yt(t,e){const n=ge(t),i=ge(e);if(n===null)return e;if(n===i)return yt(Ae(t),Ae(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function QP(t,e){const n=Lo(t,0),i=Lo(e,0);for(let o=0;o<n.length&&o<i.length;o++){const l=_i(n[o],i[o]);if(l!==0)return l}return n.length===i.length?0:n.length<i.length?-1:1}function V0(t,e){if(Nr(t)!==Nr(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function qt(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Nr(t)>Nr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class YP{constructor(e,n){this.errorPrefix_=n,this.parts_=Lo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=mu(this.parts_[i]);$0(this)}}function XP(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=mu(e),$0(t)}function JP(t){const e=t.parts_.pop();t.byteLength_-=mu(e),t.parts_.length>0&&(t.byteLength_-=1)}function $0(t){if(t.byteLength_>o_)throw new Error(t.errorPrefix_+"has a key path longer than "+o_+" bytes ("+t.byteLength_+").");if(t.parts_.length>s_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+s_+") or object contains a cycle "+ei(t))}function ei(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf extends z0{static getInstance(){return new Tf}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return W(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=1e3,ZP=60*5*1e3,a_=30*1e3,ek=1.3,tk=3e4,nk="server_kill",l_=3;class zn extends j0{constructor(e,n,i,o,l,u,d,f){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=d,this.authOverride_=f,this.id=zn.nextPersistentConnectionId_++,this.log_=ta("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=co,this.maxReconnectDelay_=ZP,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Tf.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ql.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const o=++this.requestNumber_,l={r:o,a:e,b:n};this.log_(Ye(l)),W(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[o]=i)}get(e){this.initConnection_();const n=new qo,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const d=u.d;u.s==="ok"?n.resolve(d):n.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,i,o){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),W(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:n,query:e,tag:i};this.listens.get(u).set(l,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+i+" for "+o);const l={p:i},u="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,d=>{const f=d.d,p=d.s;zn.warnOnListenWarnings_(f,n),(this.listens.get(i)&&this.listens.get(i).get(o))===e&&(this.log_("listen response",d),p!=="ok"&&this.removeListen_(i,o),e.onComplete&&e.onComplete(p,f))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Rn(e,"w")){const i=Zi(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();Et(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||RT(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=a_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=xT(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,o=>{const l=o.s,u=o.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,e._queryObject,n)}sendUnlisten_(e,n,i,o){this.log_("Unlisten on "+e+" for "+n);const l={p:e},u="n";o&&(l.q=i,l.t=o),this.sendRequest(u,l)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,o){const l={p:n,d:i};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,n,i,o){this.putInternal("p",e,n,i,o)}merge(e,n,i,o){this.putInternal("m",e,n,i,o)}putInternal(e,n,i,o,l){this.initConnection_();const u={p:n,d:i};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const l=i.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ye(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Sh("Unrecognized action received from server: "+Ye(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){W(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=co,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=co,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>tk&&(this.reconnectDelay_=co),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ek)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+zn.nextConnectionId_++,l=this.lastSessionId;let u=!1,d=null;const f=function(){d?d.close():(u=!0,i())},p=function(y){W(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(y)};this.realtime_={close:f,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,v]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);u?ot("getToken() completed but was canceled"):(ot("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=v&&v.token,d=new qP(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,w=>{Et(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(nk)},l))}catch(y){this.log_("Failed to get token: "+y),u||(this.repoInfo_.nodeAdmin&&Et(y),f())}}}interrupt(e){ot("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ot("Resuming connection for reason: "+e),delete this.interruptReasons_[e],dh(this.interruptReasons_)&&(this.reconnectDelay_=co,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(l=>Ef(l)).join("$"):i="default";const o=this.removeListen_(e,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const i=new Re(e).toString();let o;if(this.listens.has(i)){const l=this.listens.get(i);o=l.get(n),l.delete(n),l.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(e,n){ot("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=l_&&(this.reconnectDelay_=a_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ot("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=l_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+E0.replace(/\./g,"-")]=1,af()?e["framework.cordova"]=1:Ay()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ql.getInstance().currentlyOnline();return dh(this.interruptReasons_)&&e}}zn.nextPersistentConnectionId_=0;zn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new me(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new me(ci,e),o=new me(ci,n);return this.compare(i,o)!==0}minPost(){return me.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cl;class G0 extends yu{static get __EMPTY_NODE(){return Cl}static set __EMPTY_NODE(e){Cl=e}compare(e,n){return _i(e.name,n.name)}isDefinedOn(e){throw ds("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return me.MIN}maxPost(){return new me(kr,Cl)}makePost(e,n){return W(typeof e=="string","KeyIndex indexValue must always be a string."),new me(e,Cl)}toString(){return".key"}}const ii=new G0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n,i,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?i(e.key,n):1,o&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class nt{constructor(e,n,i,o,l){this.key=e,this.value=n,this.color=i??nt.RED,this.left=o??At.EMPTY_NODE,this.right=l??At.EMPTY_NODE}copy(e,n,i,o,l){return new nt(e??this.key,n??this.value,i??this.color,o??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const l=i(e,o.key);return l<0?o=o.copy(null,null,null,o.left.insert(e,n,i),null):l===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return At.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,o;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return At.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}nt.RED=!0;nt.BLACK=!1;class rk{copy(e,n,i,o,l){return this}insert(e,n,i){return new nt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class At{constructor(e,n=At.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new At(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,nt.BLACK,null,null))}remove(e){return new At(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,nt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,o=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(o=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Il(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Il(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Il(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Il(this.root_,null,this.comparator_,!0,e)}}At.EMPTY_NODE=new rk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t,e){return _i(t.name,e.name)}function xf(t,e){return _i(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih;function sk(t){Ih=t}const q0=function(t){return typeof t=="number"?"number:"+I0(t):"string:"+t},K0=function(t){if(t.isLeafNode()){const e=t.val();W(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Rn(e,".sv"),"Priority must be a string or number.")}else W(t===Ih||t.isEmpty(),"priority of unexpected type.");W(t===Ih||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u_;class tt{static set __childrenNodeConstructor(e){u_=e}static get __childrenNodeConstructor(){return u_}constructor(e,n=tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,W(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),K0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new tt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pe(e)?this:ge(e)===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=ge(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(W(i!==".priority"||Nr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,tt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ae(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+q0(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=I0(this.value_):e+=this.value_,this.lazyHash_=S0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===tt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof tt.__childrenNodeConstructor?-1:(W(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,o=tt.VALUE_TYPE_ORDER.indexOf(n),l=tt.VALUE_TYPE_ORDER.indexOf(i);return W(o>=0,"Unknown leaf type: "+n),W(l>=0,"Unknown leaf type: "+i),o===l?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q0,Y0;function ok(t){Q0=t}function ak(t){Y0=t}class lk extends yu{compare(e,n){const i=e.node.getPriority(),o=n.node.getPriority(),l=i.compareTo(o);return l===0?_i(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return me.MIN}maxPost(){return new me(kr,new tt("[PRIORITY-POST]",Y0))}makePost(e,n){const i=Q0(e);return new me(n,new tt("[PRIORITY-POST]",i))}toString(){return".priority"}}const je=new lk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=Math.log(2);class ck{constructor(e){const n=l=>parseInt(Math.log(l)/uk,10),i=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=i(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Yl=function(t,e,n,i){t.sort(e);const o=function(f,p){const g=p-f;let y,v;if(g===0)return null;if(g===1)return y=t[f],v=n?n(y):y,new nt(v,y.node,nt.BLACK,null,null);{const w=parseInt(g/2,10)+f,S=o(f,w),R=o(w+1,p);return y=t[w],v=n?n(y):y,new nt(v,y.node,nt.BLACK,S,R)}},l=function(f){let p=null,g=null,y=t.length;const v=function(S,R){const A=y-S,N=y;y-=S;const M=o(A+1,N),F=t[A],j=n?n(F):F;w(new nt(j,F.node,R,null,M))},w=function(S){p?(p.left=S,p=S):(g=S,p=S)};for(let S=0;S<f.count;++S){const R=f.nextBitIsOne(),A=Math.pow(2,f.count-(S+1));R?v(A,nt.BLACK):(v(A,nt.BLACK),v(A,nt.RED))}return g},u=new ck(t.length),d=l(u);return new At(i||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $d;const Gi={};class Hn{static get Default(){return W(Gi&&je,"ChildrenNode.ts has not been loaded"),$d=$d||new Hn({".priority":Gi},{".priority":je}),$d}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Zi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof At?n:null}hasIndex(e){return Rn(this.indexSet_,e.toString())}addIndex(e,n){W(e!==ii,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const l=n.getIterator(me.Wrap);let u=l.getNext();for(;u;)o=o||e.isDefinedOn(u.node),i.push(u),u=l.getNext();let d;o?d=Yl(i,e.getCompare()):d=Gi;const f=e.toString(),p=Object.assign({},this.indexSet_);p[f]=e;const g=Object.assign({},this.indexes_);return g[f]=d,new Hn(g,p)}addToIndexes(e,n){const i=jl(this.indexes_,(o,l)=>{const u=Zi(this.indexSet_,l);if(W(u,"Missing index implementation for "+l),o===Gi)if(u.isDefinedOn(e.node)){const d=[],f=n.getIterator(me.Wrap);let p=f.getNext();for(;p;)p.name!==e.name&&d.push(p),p=f.getNext();return d.push(e),Yl(d,u.getCompare())}else return Gi;else{const d=n.get(e.name);let f=o;return d&&(f=f.remove(new me(e.name,d))),f.insert(e,e.node)}});return new Hn(i,this.indexSet_)}removeFromIndexes(e,n){const i=jl(this.indexes_,o=>{if(o===Gi)return o;{const l=n.get(e.name);return l?o.remove(new me(e.name,l)):o}});return new Hn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ho;class le{static get EMPTY_NODE(){return ho||(ho=new le(new At(xf),null,Hn.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&K0(this.priorityNode_),this.children_.isEmpty()&&W(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ho}updatePriority(e){return this.children_.isEmpty()?this:new le(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ho:n}}getChild(e){const n=ge(e);return n===null?this:this.getImmediateChild(n).getChild(Ae(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(W(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new me(e,n);let o,l;n.isEmpty()?(o=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(i,this.children_));const u=o.isEmpty()?ho:this.priorityNode_;return new le(o,u,l)}}updateChild(e,n){const i=ge(e);if(i===null)return n;{W(ge(e)!==".priority"||Nr(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Ae(e),n);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,o=0,l=!0;if(this.forEachChild(je,(u,d)=>{n[u]=d.val(e),i++,l&&le.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):l=!1}),!e&&l&&o<2*i){const u=[];for(const d in n)u[d]=n[d];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+q0(this.getPriority().val())+":"),this.forEachChild(je,(n,i)=>{const o=i.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":S0(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const o=this.resolveIndex_(i);if(o){const l=o.getPredecessorKey(new me(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new me(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new me(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,me.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)<0;)o.getNext(),l=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,me.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)>0;)o.getNext(),l=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===na?-1:0}withIndex(e){if(e===ii||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new le(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ii||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(je),o=n.getIterator(je);let l=i.getNext(),u=o.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=i.getNext(),u=o.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===ii?null:this.indexMap_.get(e.toString())}}le.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class dk extends le{constructor(){super(new At(xf),le.EMPTY_NODE,Hn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return le.EMPTY_NODE}isEmpty(){return!1}}const na=new dk;Object.defineProperties(me,{MIN:{value:new me(ci,le.EMPTY_NODE)},MAX:{value:new me(kr,na)}});G0.__EMPTY_NODE=le.EMPTY_NODE;tt.__childrenNodeConstructor=le;sk(na);ak(na);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=!0;function Qe(t,e=null){if(t===null)return le.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),W(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new tt(n,Qe(e))}if(!(t instanceof Array)&&hk){const n=[];let i=!1;if(at(t,(u,d)=>{if(u.substring(0,1)!=="."){const f=Qe(d);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),n.push(new me(u,f)))}}),n.length===0)return le.EMPTY_NODE;const l=Yl(n,ik,u=>u.name,xf);if(i){const u=Yl(n,je.getCompare());return new le(l,Qe(e),new Hn({".priority":u},{".priority":je}))}else return new le(l,Qe(e),Hn.Default)}else{let n=le.EMPTY_NODE;return at(t,(i,o)=>{if(Rn(t,i)&&i.substring(0,1)!=="."){const l=Qe(o);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(i,l))}}),n.updatePriority(Qe(e))}}ok(Qe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf extends yu{constructor(e){super(),this.indexPath_=e,W(!pe(e)&&ge(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),o=this.extractChild(n.node),l=i.compareTo(o);return l===0?_i(e.name,n.name):l}makePost(e,n){const i=Qe(e),o=le.EMPTY_NODE.updateChild(this.indexPath_,i);return new me(n,o)}maxPost(){const e=le.EMPTY_NODE.updateChild(this.indexPath_,na);return new me(kr,e)}toString(){return Lo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk extends yu{compare(e,n){const i=e.node.compareTo(n.node);return i===0?_i(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return me.MIN}maxPost(){return me.MAX}makePost(e,n){const i=Qe(e);return new me(n,i)}toString(){return".value"}}const X0=new fk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(t){return{type:"value",snapshotNode:t}}function ts(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Oo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Mo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function pk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e){this.index_=e}updateChild(e,n,i,o,l,u){W(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(n);return d.getChild(o).equals(i.getChild(o))&&d.isEmpty()===i.isEmpty()||(u!=null&&(i.isEmpty()?e.hasChild(n)?u.trackChildChange(Oo(n,d)):W(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?u.trackChildChange(ts(n,i)):u.trackChildChange(Mo(n,i,d))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(je,(o,l)=>{n.hasChild(o)||i.trackChildChange(Oo(o,l))}),n.isLeafNode()||n.forEachChild(je,(o,l)=>{if(e.hasChild(o)){const u=e.getImmediateChild(o);u.equals(l)||i.trackChildChange(Mo(o,l,u))}else i.trackChildChange(ts(o,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?le.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.indexedFilter_=new Pf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Do.getStartPost_(e),this.endPost_=Do.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,o,l,u){return this.matches(new me(n,i))||(i=le.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,o,l,u)}updateFullNode(e,n,i){n.isLeafNode()&&(n=le.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(le.EMPTY_NODE);const l=this;return n.forEachChild(je,(u,d)=>{l.matches(new me(u,d))||(o=o.updateImmediateChild(u,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Do(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,o,l,u){return this.rangedFilter_.matches(new me(n,i))||(i=le.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,o,l,u):this.fullLimitUpdateChild_(e,n,i,l,u)}updateFullNode(e,n,i){let o;if(n.isLeafNode()||n.isEmpty())o=le.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=le.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const d=l.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),u++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(le.EMPTY_NODE);let l;this.reverse_?l=o.getReverseIterator(this.index_):l=o.getIterator(this.index_);let u=0;for(;l.hasNext();){const d=l.getNext();u<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?u++:o=o.updateImmediateChild(d.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,o,l){let u;if(this.reverse_){const y=this.index_.getCompare();u=(v,w)=>y(w,v)}else u=this.index_.getCompare();const d=e;W(d.numChildren()===this.limit_,"");const f=new me(n,i),p=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),g=this.rangedFilter_.matches(f);if(d.hasChild(n)){const y=d.getImmediateChild(n);let v=o.getChildAfterChild(this.index_,p,this.reverse_);for(;v!=null&&(v.name===n||d.hasChild(v.name));)v=o.getChildAfterChild(this.index_,v,this.reverse_);const w=v==null?1:u(v,f);if(g&&!i.isEmpty()&&w>=0)return l!=null&&l.trackChildChange(Mo(n,i,y)),d.updateImmediateChild(n,i);{l!=null&&l.trackChildChange(Oo(n,y));const R=d.updateImmediateChild(n,le.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(l!=null&&l.trackChildChange(ts(v.name,v.node)),R.updateImmediateChild(v.name,v.node)):R}}else return i.isEmpty()?e:g&&u(p,f)>=0?(l!=null&&(l.trackChildChange(Oo(p.name,p.node)),l.trackChildChange(ts(n,i))),d.updateImmediateChild(n,i).updateImmediateChild(p.name,le.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=je}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return W(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return W(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ci}hasEnd(){return this.endSet_}getIndexEndValue(){return W(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return W(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:kr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return W(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===je}copy(){const e=new kf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function gk(t){return t.loadsAllData()?new Pf(t.getIndex()):t.hasLimit()?new mk(t):new Do(t)}function vk(t,e,n){const i=t.copy();return i.startSet_=!0,e===void 0&&(e=null),i.indexStartValue_=e,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function _k(t,e,n){const i=t.copy();return i.endSet_=!0,e===void 0&&(e=null),i.indexEndValue_=e,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function yk(t,e){const n=t.copy();return n.index_=e,n}function c_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===je?n="$priority":t.index_===X0?n="$value":t.index_===ii?n="$key":(W(t.index_ instanceof Rf,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ye(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Ye(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Ye(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Ye(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Ye(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function d_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==je&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends j0{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(W(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=ta("p:rest:"),this.listens_={}}listen(e,n,i,o){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=Xl.getListenId_(e,i),d={};this.listens_[u]=d;const f=c_(e._queryParams);this.restRequest_(l+".json",f,(p,g)=>{let y=g;if(p===404&&(y=null,p=null),p===null&&this.onDataUpdate_(l,y,!1,i),Zi(this.listens_,u)===d){let v;p?p===401?v="permission_denied":v="rest_error:"+p:v="ok",o(v,null)}})}unlisten(e,n){const i=Xl.getListenId_(e,n);delete this.listens_[i]}get(e){const n=c_(e._queryParams),i=e._path.toString(),o=new qo;return this.restRequest_(i+".json",n,(l,u)=>{let d=u;l===404&&(d=null,l=null),l===null?(this.onDataUpdate_(i,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(n.auth=o.accessToken),l&&l.token&&(n.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+hs(n);this.log_("Sending REST request for "+u);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&d.readyState===4){this.log_("REST Response for "+u+" received. status:",d.status,"response:",d.responseText);let f=null;if(d.status>=200&&d.status<300){try{f=Ro(d.responseText)}catch{Et("Failed to parse JSON response for "+u+": "+d.responseText)}i(null,f)}else d.status!==401&&d.status!==404&&Et("Got unsuccessful REST response for "+u+" Status: "+d.status),i(d.status);i=null}},d.open("GET",u,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.rootNode_=le.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(){return{value:null,children:new Map}}function Z0(t,e,n){if(pe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=ge(e);t.children.has(i)||t.children.set(i,Jl());const o=t.children.get(i);e=Ae(e),Z0(o,e,n)}}function Th(t,e,n){t.value!==null?n(e,t.value):wk(t,(i,o)=>{const l=new Re(e.toString()+"/"+i);Th(o,l,n)})}function wk(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&at(this.last_,(i,o)=>{n[i]=n[i]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=10*1e3,Ck=30*1e3,Ik=5*60*1e3;class Tk{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Sk(e);const i=h_+(Ck-h_)*Math.random();wo(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;at(e,(o,l)=>{l>0&&Rn(this.statsToReport_,o)&&(n[o]=l,i=!0)}),i&&this.server_.reportStats(n),wo(this.reportStats_.bind(this),Math.floor(Math.random()*2*Ik))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ln||(ln={}));function Nf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function bf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Af(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=ln.ACK_USER_WRITE,this.source=Nf()}operationForChild(e){if(pe(this.path)){if(this.affectedTree.value!=null)return W(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Re(e));return new Zl(Se(),n,this.revert)}}else return W(ge(this.path)===e,"operationForChild called for unrelated child."),new Zl(Ae(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n){this.source=e,this.path=n,this.type=ln.LISTEN_COMPLETE}operationForChild(e){return pe(this.path)?new Fo(this.source,Se()):new Fo(this.source,Ae(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=ln.OVERWRITE}operationForChild(e){return pe(this.path)?new di(this.source,Se(),this.snap.getImmediateChild(e)):new di(this.source,Ae(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=ln.MERGE}operationForChild(e){if(pe(this.path)){const n=this.children.subtree(new Re(e));return n.isEmpty()?null:n.value?new di(this.source,Se(),n.value):new ns(this.source,Se(),n)}else return W(ge(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ns(this.source,Ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pe(e))return this.isFullyInitialized()&&!this.filtered_;const n=ge(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Rk(t,e,n,i){const o=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(pk(u.childName,u.snapshotNode))}),fo(t,o,"child_removed",e,i,n),fo(t,o,"child_added",e,i,n),fo(t,o,"child_moved",l,i,n),fo(t,o,"child_changed",e,i,n),fo(t,o,"value",e,i,n),o}function fo(t,e,n,i,o,l){const u=i.filter(d=>d.type===n);u.sort((d,f)=>kk(t,d,f)),u.forEach(d=>{const f=Pk(t,d,l);o.forEach(p=>{p.respondsTo(d.type)&&e.push(p.createEvent(f,t.query_))})})}function Pk(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function kk(t,e,n){if(e.childName==null||n.childName==null)throw ds("Should only compare child_ events.");const i=new me(e.childName,e.snapshotNode),o=new me(n.childName,n.snapshotNode);return t.index_.compare(i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t,e){return{eventCache:t,serverCache:e}}function So(t,e,n,i){return Eu(new br(e,n,i),t.serverCache)}function eE(t,e,n,i){return Eu(t.eventCache,new br(e,n,i))}function eu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function hi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gd;const Nk=()=>(Gd||(Gd=new At(fP)),Gd);class be{static fromObject(e){let n=new be(null);return at(e,(i,o)=>{n=n.set(new Re(i),o)}),n}constructor(e,n=Nk()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Se(),value:this.value};if(pe(e))return null;{const i=ge(e),o=this.children.get(i);if(o!==null){const l=o.findRootMostMatchingPathAndValue(Ae(e),n);return l!=null?{path:We(new Re(i),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pe(e))return this;{const n=ge(e),i=this.children.get(n);return i!==null?i.subtree(Ae(e)):new be(null)}}set(e,n){if(pe(e))return new be(n,this.children);{const i=ge(e),l=(this.children.get(i)||new be(null)).set(Ae(e),n),u=this.children.insert(i,l);return new be(this.value,u)}}remove(e){if(pe(e))return this.children.isEmpty()?new be(null):new be(null,this.children);{const n=ge(e),i=this.children.get(n);if(i){const o=i.remove(Ae(e));let l;return o.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,o),this.value===null&&l.isEmpty()?new be(null):new be(this.value,l)}else return this}}get(e){if(pe(e))return this.value;{const n=ge(e),i=this.children.get(n);return i?i.get(Ae(e)):null}}setTree(e,n){if(pe(e))return n;{const i=ge(e),l=(this.children.get(i)||new be(null)).setTree(Ae(e),n);let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),new be(this.value,u)}}fold(e){return this.fold_(Se(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((o,l)=>{i[o]=l.fold_(We(e,o),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Se(),n)}findOnPath_(e,n,i){const o=this.value?i(n,this.value):!1;if(o)return o;if(pe(e))return null;{const l=ge(e),u=this.children.get(l);return u?u.findOnPath_(Ae(e),We(n,l),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Se(),n)}foreachOnPath_(e,n,i){if(pe(e))return this;{this.value&&i(n,this.value);const o=ge(e),l=this.children.get(o);return l?l.foreachOnPath_(Ae(e),We(n,o),i):new be(null)}}foreach(e){this.foreach_(Se(),e)}foreach_(e,n){this.children.inorderTraversal((i,o)=>{o.foreach_(We(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.writeTree_=e}static empty(){return new dn(new be(null))}}function Co(t,e,n){if(pe(e))return new dn(new be(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const o=i.path;let l=i.value;const u=yt(o,e);return l=l.updateChild(u,n),new dn(t.writeTree_.set(o,l))}else{const o=new be(n),l=t.writeTree_.setTree(e,o);return new dn(l)}}}function xh(t,e,n){let i=t;return at(n,(o,l)=>{i=Co(i,We(e,o),l)}),i}function f_(t,e){if(pe(e))return dn.empty();{const n=t.writeTree_.setTree(e,new be(null));return new dn(n)}}function Rh(t,e){return yi(t,e)!=null}function yi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(yt(n.path,e)):null}function p_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(je,(i,o)=>{e.push(new me(i,o))}):t.writeTree_.children.inorderTraversal((i,o)=>{o.value!=null&&e.push(new me(i,o.value))}),e}function Rr(t,e){if(pe(e))return t;{const n=yi(t,e);return n!=null?new dn(new be(n)):new dn(t.writeTree_.subtree(e))}}function Ph(t){return t.writeTree_.isEmpty()}function rs(t,e){return tE(Se(),t.writeTree_,e)}function tE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((o,l)=>{o===".priority"?(W(l.value!==null,"Priority writes must always be leaf nodes"),i=l.value):n=tE(We(t,o),l,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(We(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t,e){return sE(e,t)}function bk(t,e,n,i,o){W(i>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:o}),o&&(t.visibleWrites=Co(t.visibleWrites,e,n)),t.lastWriteId=i}function Ak(t,e,n,i){W(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=xh(t.visibleWrites,e,n),t.lastWriteId=i}function Lk(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function Ok(t,e){const n=t.allWrites.findIndex(d=>d.writeId===e);W(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let o=i.visible,l=!1,u=t.allWrites.length-1;for(;o&&u>=0;){const d=t.allWrites[u];d.visible&&(u>=n&&Mk(d,i.path)?o=!1:qt(i.path,d.path)&&(l=!0)),u--}if(o){if(l)return Dk(t),!0;if(i.snap)t.visibleWrites=f_(t.visibleWrites,i.path);else{const d=i.children;at(d,f=>{t.visibleWrites=f_(t.visibleWrites,We(i.path,f))})}return!0}else return!1}function Mk(t,e){if(t.snap)return qt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&qt(We(t.path,n),e))return!0;return!1}function Dk(t){t.visibleWrites=nE(t.allWrites,Fk,Se()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Fk(t){return t.visible}function nE(t,e,n){let i=dn.empty();for(let o=0;o<t.length;++o){const l=t[o];if(e(l)){const u=l.path;let d;if(l.snap)qt(n,u)?(d=yt(n,u),i=Co(i,d,l.snap)):qt(u,n)&&(d=yt(u,n),i=Co(i,Se(),l.snap.getChild(d)));else if(l.children){if(qt(n,u))d=yt(n,u),i=xh(i,d,l.children);else if(qt(u,n))if(d=yt(u,n),pe(d))i=xh(i,Se(),l.children);else{const f=Zi(l.children,ge(d));if(f){const p=f.getChild(Ae(d));i=Co(i,Se(),p)}}}else throw ds("WriteRecord should have .snap or .children")}}return i}function rE(t,e,n,i,o){if(!i&&!o){const l=yi(t.visibleWrites,e);if(l!=null)return l;{const u=Rr(t.visibleWrites,e);if(Ph(u))return n;if(n==null&&!Rh(u,Se()))return null;{const d=n||le.EMPTY_NODE;return rs(u,d)}}}else{const l=Rr(t.visibleWrites,e);if(!o&&Ph(l))return n;if(!o&&n==null&&!Rh(l,Se()))return null;{const u=function(p){return(p.visible||o)&&(!i||!~i.indexOf(p.writeId))&&(qt(p.path,e)||qt(e,p.path))},d=nE(t.allWrites,u,e),f=n||le.EMPTY_NODE;return rs(d,f)}}}function Uk(t,e,n){let i=le.EMPTY_NODE;const o=yi(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(je,(l,u)=>{i=i.updateImmediateChild(l,u)}),i;if(n){const l=Rr(t.visibleWrites,e);return n.forEachChild(je,(u,d)=>{const f=rs(Rr(l,new Re(u)),d);i=i.updateImmediateChild(u,f)}),p_(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}else{const l=Rr(t.visibleWrites,e);return p_(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}}function Hk(t,e,n,i,o){W(i||o,"Either existingEventSnap or existingServerSnap must exist");const l=We(e,n);if(Rh(t.visibleWrites,l))return null;{const u=Rr(t.visibleWrites,l);return Ph(u)?o.getChild(n):rs(u,o.getChild(n))}}function Bk(t,e,n,i){const o=We(e,n),l=yi(t.visibleWrites,o);if(l!=null)return l;if(i.isCompleteForChild(n)){const u=Rr(t.visibleWrites,o);return rs(u,i.getNode().getImmediateChild(n))}else return null}function jk(t,e){return yi(t.visibleWrites,e)}function zk(t,e,n,i,o,l,u){let d;const f=Rr(t.visibleWrites,e),p=yi(f,Se());if(p!=null)d=p;else if(n!=null)d=rs(f,n);else return[];if(d=d.withIndex(u),!d.isEmpty()&&!d.isLeafNode()){const g=[],y=u.getCompare(),v=l?d.getReverseIteratorFrom(i,u):d.getIteratorFrom(i,u);let w=v.getNext();for(;w&&g.length<o;)y(w,i)!==0&&g.push(w),w=v.getNext();return g}else return[]}function Wk(){return{visibleWrites:dn.empty(),allWrites:[],lastWriteId:-1}}function tu(t,e,n,i){return rE(t.writeTree,t.treePath,e,n,i)}function Lf(t,e){return Uk(t.writeTree,t.treePath,e)}function m_(t,e,n,i){return Hk(t.writeTree,t.treePath,e,n,i)}function nu(t,e){return jk(t.writeTree,We(t.treePath,e))}function Vk(t,e,n,i,o,l){return zk(t.writeTree,t.treePath,e,n,i,o,l)}function Of(t,e,n){return Bk(t.writeTree,t.treePath,e,n)}function iE(t,e){return sE(We(t.treePath,e),t.writeTree)}function sE(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;W(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),W(i!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const l=o.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(i,Mo(i,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(i,Oo(i,o.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(i,ts(i,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(i,Mo(i,e.snapshotNode,o.oldSnap));else throw ds("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const oE=new Gk;class Mf{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new br(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Of(this.writes_,e,i)}}getChildAfterChild(e,n,i){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:hi(this.viewCache_),l=Vk(this.writes_,o,n,1,i,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t){return{filter:t}}function Kk(t,e){W(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),W(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Qk(t,e,n,i,o){const l=new $k;let u,d;if(n.type===ln.OVERWRITE){const p=n;p.source.fromUser?u=kh(t,e,p.path,p.snap,i,o,l):(W(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered()&&!pe(p.path),u=ru(t,e,p.path,p.snap,i,o,d,l))}else if(n.type===ln.MERGE){const p=n;p.source.fromUser?u=Xk(t,e,p.path,p.children,i,o,l):(W(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered(),u=Nh(t,e,p.path,p.children,i,o,d,l))}else if(n.type===ln.ACK_USER_WRITE){const p=n;p.revert?u=eN(t,e,p.path,i,o,l):u=Jk(t,e,p.path,p.affectedTree,i,o,l)}else if(n.type===ln.LISTEN_COMPLETE)u=Zk(t,e,n.path,i,l);else throw ds("Unknown operation type: "+n.type);const f=l.getChanges();return Yk(e,u,f),{viewCache:u,changes:f}}function Yk(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=eu(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&n.push(J0(eu(e)))}}function aE(t,e,n,i,o,l){const u=e.eventCache;if(nu(i,n)!=null)return e;{let d,f;if(pe(n))if(W(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=hi(e),g=p instanceof le?p:le.EMPTY_NODE,y=Lf(i,g);d=t.filter.updateFullNode(e.eventCache.getNode(),y,l)}else{const p=tu(i,hi(e));d=t.filter.updateFullNode(e.eventCache.getNode(),p,l)}else{const p=ge(n);if(p===".priority"){W(Nr(n)===1,"Can't have a priority with additional path components");const g=u.getNode();f=e.serverCache.getNode();const y=m_(i,n,g,f);y!=null?d=t.filter.updatePriority(g,y):d=u.getNode()}else{const g=Ae(n);let y;if(u.isCompleteForChild(p)){f=e.serverCache.getNode();const v=m_(i,n,u.getNode(),f);v!=null?y=u.getNode().getImmediateChild(p).updateChild(g,v):y=u.getNode().getImmediateChild(p)}else y=Of(i,p,e.serverCache);y!=null?d=t.filter.updateChild(u.getNode(),p,y,g,o,l):d=u.getNode()}}return So(e,d,u.isFullyInitialized()||pe(n),t.filter.filtersNodes())}}function ru(t,e,n,i,o,l,u,d){const f=e.serverCache;let p;const g=u?t.filter:t.filter.getIndexedFilter();if(pe(n))p=g.updateFullNode(f.getNode(),i,null);else if(g.filtersNodes()&&!f.isFiltered()){const w=f.getNode().updateChild(n,i);p=g.updateFullNode(f.getNode(),w,null)}else{const w=ge(n);if(!f.isCompleteForPath(n)&&Nr(n)>1)return e;const S=Ae(n),A=f.getNode().getImmediateChild(w).updateChild(S,i);w===".priority"?p=g.updatePriority(f.getNode(),A):p=g.updateChild(f.getNode(),w,A,S,oE,null)}const y=eE(e,p,f.isFullyInitialized()||pe(n),g.filtersNodes()),v=new Mf(o,y,l);return aE(t,y,n,o,v,d)}function kh(t,e,n,i,o,l,u){const d=e.eventCache;let f,p;const g=new Mf(o,e,l);if(pe(n))p=t.filter.updateFullNode(e.eventCache.getNode(),i,u),f=So(e,p,!0,t.filter.filtersNodes());else{const y=ge(n);if(y===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),i),f=So(e,p,d.isFullyInitialized(),d.isFiltered());else{const v=Ae(n),w=d.getNode().getImmediateChild(y);let S;if(pe(v))S=i;else{const R=g.getCompleteChild(y);R!=null?If(v)===".priority"&&R.getChild(W0(v)).isEmpty()?S=R:S=R.updateChild(v,i):S=le.EMPTY_NODE}if(w.equals(S))f=e;else{const R=t.filter.updateChild(d.getNode(),y,S,v,g,u);f=So(e,R,d.isFullyInitialized(),t.filter.filtersNodes())}}}return f}function g_(t,e){return t.eventCache.isCompleteForChild(e)}function Xk(t,e,n,i,o,l,u){let d=e;return i.foreach((f,p)=>{const g=We(n,f);g_(e,ge(g))&&(d=kh(t,d,g,p,o,l,u))}),i.foreach((f,p)=>{const g=We(n,f);g_(e,ge(g))||(d=kh(t,d,g,p,o,l,u))}),d}function v_(t,e,n){return n.foreach((i,o)=>{e=e.updateChild(i,o)}),e}function Nh(t,e,n,i,o,l,u,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,p;pe(n)?p=i:p=new be(null).setTree(n,i);const g=e.serverCache.getNode();return p.children.inorderTraversal((y,v)=>{if(g.hasChild(y)){const w=e.serverCache.getNode().getImmediateChild(y),S=v_(t,w,v);f=ru(t,f,new Re(y),S,o,l,u,d)}}),p.children.inorderTraversal((y,v)=>{const w=!e.serverCache.isCompleteForChild(y)&&v.value===null;if(!g.hasChild(y)&&!w){const S=e.serverCache.getNode().getImmediateChild(y),R=v_(t,S,v);f=ru(t,f,new Re(y),R,o,l,u,d)}}),f}function Jk(t,e,n,i,o,l,u){if(nu(o,n)!=null)return e;const d=e.serverCache.isFiltered(),f=e.serverCache;if(i.value!=null){if(pe(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return ru(t,e,n,f.getNode().getChild(n),o,l,d,u);if(pe(n)){let p=new be(null);return f.getNode().forEachChild(ii,(g,y)=>{p=p.set(new Re(g),y)}),Nh(t,e,n,p,o,l,d,u)}else return e}else{let p=new be(null);return i.foreach((g,y)=>{const v=We(n,g);f.isCompleteForPath(v)&&(p=p.set(g,f.getNode().getChild(v)))}),Nh(t,e,n,p,o,l,d,u)}}function Zk(t,e,n,i,o){const l=e.serverCache,u=eE(e,l.getNode(),l.isFullyInitialized()||pe(n),l.isFiltered());return aE(t,u,n,i,oE,o)}function eN(t,e,n,i,o,l){let u;if(nu(i,n)!=null)return e;{const d=new Mf(i,e,o),f=e.eventCache.getNode();let p;if(pe(n)||ge(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=tu(i,hi(e));else{const y=e.serverCache.getNode();W(y instanceof le,"serverChildren would be complete if leaf node"),g=Lf(i,y)}g=g,p=t.filter.updateFullNode(f,g,l)}else{const g=ge(n);let y=Of(i,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=f.getImmediateChild(g)),y!=null?p=t.filter.updateChild(f,g,y,Ae(n),d,l):e.eventCache.getNode().hasChild(g)?p=t.filter.updateChild(f,g,le.EMPTY_NODE,Ae(n),d,l):p=f,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=tu(i,hi(e)),u.isLeafNode()&&(p=t.filter.updateFullNode(p,u,l)))}return u=e.serverCache.isFullyInitialized()||nu(i,Se())!=null,So(e,p,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new Pf(i.getIndex()),l=gk(i);this.processor_=qk(l);const u=n.serverCache,d=n.eventCache,f=o.updateFullNode(le.EMPTY_NODE,u.getNode(),null),p=l.updateFullNode(le.EMPTY_NODE,d.getNode(),null),g=new br(f,u.isFullyInitialized(),o.filtersNodes()),y=new br(p,d.isFullyInitialized(),l.filtersNodes());this.viewCache_=Eu(y,g),this.eventGenerator_=new xk(this.query_)}get query(){return this.query_}}function nN(t){return t.viewCache_.serverCache.getNode()}function rN(t){return eu(t.viewCache_)}function iN(t,e){const n=hi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!pe(e)&&!n.getImmediateChild(ge(e)).isEmpty())?n.getChild(e):null}function __(t){return t.eventRegistrations_.length===0}function sN(t,e){t.eventRegistrations_.push(e)}function y_(t,e,n){const i=[];if(n){W(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(n,o);u&&i.push(u)})}if(e){let o=[];for(let l=0;l<t.eventRegistrations_.length;++l){const u=t.eventRegistrations_[l];if(!u.matches(e))o.push(u);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return i}function E_(t,e,n,i){e.type===ln.MERGE&&e.source.queryId!==null&&(W(hi(t.viewCache_),"We should always have a full cache before handling merges"),W(eu(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,l=Qk(t.processor_,o,e,n,i);return Kk(t.processor_,l.viewCache),W(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,lE(t,l.changes,l.viewCache.eventCache.getNode(),null)}function oN(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(je,(l,u)=>{i.push(ts(l,u))}),n.isFullyInitialized()&&i.push(J0(n.getNode())),lE(t,i,n.getNode(),e)}function lE(t,e,n,i){const o=i?[i]:t.eventRegistrations_;return Rk(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu;class uE{constructor(){this.views=new Map}}function aN(t){W(!iu,"__referenceConstructor has already been defined"),iu=t}function lN(){return W(iu,"Reference.ts has not been loaded"),iu}function uN(t){return t.views.size===0}function Df(t,e,n,i){const o=e.source.queryId;if(o!==null){const l=t.views.get(o);return W(l!=null,"SyncTree gave us an op for an invalid query."),E_(l,e,n,i)}else{let l=[];for(const u of t.views.values())l=l.concat(E_(u,e,n,i));return l}}function cE(t,e,n,i,o){const l=e._queryIdentifier,u=t.views.get(l);if(!u){let d=tu(n,o?i:null),f=!1;d?f=!0:i instanceof le?(d=Lf(n,i),f=!1):(d=le.EMPTY_NODE,f=!1);const p=Eu(new br(d,f,!1),new br(i,o,!1));return new tN(e,p)}return u}function cN(t,e,n,i,o,l){const u=cE(t,e,i,o,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),sN(u,n),oN(u,n)}function dN(t,e,n,i){const o=e._queryIdentifier,l=[];let u=[];const d=Ar(t);if(o==="default")for(const[f,p]of t.views.entries())u=u.concat(y_(p,n,i)),__(p)&&(t.views.delete(f),p.query._queryParams.loadsAllData()||l.push(p.query));else{const f=t.views.get(o);f&&(u=u.concat(y_(f,n,i)),__(f)&&(t.views.delete(o),f.query._queryParams.loadsAllData()||l.push(f.query)))}return d&&!Ar(t)&&l.push(new(lN())(e._repo,e._path)),{removed:l,events:u}}function dE(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Pr(t,e){let n=null;for(const i of t.views.values())n=n||iN(i,e);return n}function hE(t,e){if(e._queryParams.loadsAllData())return Su(t);{const i=e._queryIdentifier;return t.views.get(i)}}function fE(t,e){return hE(t,e)!=null}function Ar(t){return Su(t)!=null}function Su(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su;function hN(t){W(!su,"__referenceConstructor has already been defined"),su=t}function fN(){return W(su,"Reference.ts has not been loaded"),su}let pN=1;class w_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new be(null),this.pendingWriteTree_=Wk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pE(t,e,n,i,o){return bk(t.pendingWriteTree_,e,n,i,o),o?gs(t,new di(Nf(),e,n)):[]}function mN(t,e,n,i){Ak(t.pendingWriteTree_,e,n,i);const o=be.fromObject(n);return gs(t,new ns(Nf(),e,o))}function Sr(t,e,n=!1){const i=Lk(t.pendingWriteTree_,e);if(Ok(t.pendingWriteTree_,e)){let l=new be(null);return i.snap!=null?l=l.set(Se(),!0):at(i.children,u=>{l=l.set(new Re(u),!0)}),gs(t,new Zl(i.path,l,n))}else return[]}function ra(t,e,n){return gs(t,new di(bf(),e,n))}function gN(t,e,n){const i=be.fromObject(n);return gs(t,new ns(bf(),e,i))}function vN(t,e){return gs(t,new Fo(bf(),e))}function _N(t,e,n){const i=Uf(t,n);if(i){const o=Hf(i),l=o.path,u=o.queryId,d=yt(l,e),f=new Fo(Af(u),d);return Bf(t,l,f)}else return[]}function mE(t,e,n,i,o=!1){const l=e._path,u=t.syncPointTree_.get(l);let d=[];if(u&&(e._queryIdentifier==="default"||fE(u,e))){const f=dN(u,e,n,i);uN(u)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const p=f.removed;if(d=f.events,!o){const g=p.findIndex(v=>v._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(l,(v,w)=>Ar(w));if(g&&!y){const v=t.syncPointTree_.subtree(l);if(!v.isEmpty()){const w=SN(v);for(let S=0;S<w.length;++S){const R=w[S],A=R.query,N=yE(t,R);t.listenProvider_.startListening(Io(A),Uo(t,A),N.hashFn,N.onComplete)}}}!y&&p.length>0&&!i&&(g?t.listenProvider_.stopListening(Io(e),null):p.forEach(v=>{const w=t.queryToTagMap.get(Cu(v));t.listenProvider_.stopListening(Io(v),w)}))}CN(t,p)}return d}function gE(t,e,n,i){const o=Uf(t,i);if(o!=null){const l=Hf(o),u=l.path,d=l.queryId,f=yt(u,e),p=new di(Af(d),f,n);return Bf(t,u,p)}else return[]}function yN(t,e,n,i){const o=Uf(t,i);if(o){const l=Hf(o),u=l.path,d=l.queryId,f=yt(u,e),p=be.fromObject(n),g=new ns(Af(d),f,p);return Bf(t,u,g)}else return[]}function EN(t,e,n,i=!1){const o=e._path;let l=null,u=!1;t.syncPointTree_.foreachOnPath(o,(v,w)=>{const S=yt(v,o);l=l||Pr(w,S),u=u||Ar(w)});let d=t.syncPointTree_.get(o);d?(u=u||Ar(d),l=l||Pr(d,Se())):(d=new uE,t.syncPointTree_=t.syncPointTree_.set(o,d));let f;l!=null?f=!0:(f=!1,l=le.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((w,S)=>{const R=Pr(S,Se());R&&(l=l.updateImmediateChild(w,R))}));const p=fE(d,e);if(!p&&!e._queryParams.loadsAllData()){const v=Cu(e);W(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const w=IN();t.queryToTagMap.set(v,w),t.tagToQueryMap.set(w,v)}const g=wu(t.pendingWriteTree_,o);let y=cN(d,e,n,g,l,f);if(!p&&!u&&!i){const v=hE(d,e);y=y.concat(TN(t,e,v))}return y}function Ff(t,e,n){const o=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(u,d)=>{const f=yt(u,e),p=Pr(d,f);if(p)return p});return rE(o,e,l,n,!0)}function wN(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(p,g)=>{const y=yt(p,n);i=i||Pr(g,y)});let o=t.syncPointTree_.get(n);o?i=i||Pr(o,Se()):(o=new uE,t.syncPointTree_=t.syncPointTree_.set(n,o));const l=i!=null,u=l?new br(i,!0,!1):null,d=wu(t.pendingWriteTree_,e._path),f=cE(o,e,d,l?u.getNode():le.EMPTY_NODE,l);return rN(f)}function gs(t,e){return vE(e,t.syncPointTree_,null,wu(t.pendingWriteTree_,Se()))}function vE(t,e,n,i){if(pe(t.path))return _E(t,e,n,i);{const o=e.get(Se());n==null&&o!=null&&(n=Pr(o,Se()));let l=[];const u=ge(t.path),d=t.operationForChild(u),f=e.children.get(u);if(f&&d){const p=n?n.getImmediateChild(u):null,g=iE(i,u);l=l.concat(vE(d,f,p,g))}return o&&(l=l.concat(Df(o,t,i,n))),l}}function _E(t,e,n,i){const o=e.get(Se());n==null&&o!=null&&(n=Pr(o,Se()));let l=[];return e.children.inorderTraversal((u,d)=>{const f=n?n.getImmediateChild(u):null,p=iE(i,u),g=t.operationForChild(u);g&&(l=l.concat(_E(g,d,f,p)))}),o&&(l=l.concat(Df(o,t,i,n))),l}function yE(t,e){const n=e.query,i=Uo(t,n);return{hashFn:()=>(nN(e)||le.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return i?_N(t,n._path,i):vN(t,n._path);{const l=gP(o,n);return mE(t,n,null,l)}}}}function Uo(t,e){const n=Cu(e);return t.queryToTagMap.get(n)}function Cu(t){return t._path.toString()+"$"+t._queryIdentifier}function Uf(t,e){return t.tagToQueryMap.get(e)}function Hf(t){const e=t.indexOf("$");return W(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Re(t.substr(0,e))}}function Bf(t,e,n){const i=t.syncPointTree_.get(e);W(i,"Missing sync point for query tag that we're tracking");const o=wu(t.pendingWriteTree_,e);return Df(i,n,o,null)}function SN(t){return t.fold((e,n,i)=>{if(n&&Ar(n))return[Su(n)];{let o=[];return n&&(o=dE(n)),at(i,(l,u)=>{o=o.concat(u)}),o}})}function Io(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(fN())(t._repo,t._path):t}function CN(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const o=Cu(i),l=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(l)}}}function IN(){return pN++}function TN(t,e,n){const i=e._path,o=Uo(t,e),l=yE(t,n),u=t.listenProvider_.startListening(Io(e),o,l.hashFn,l.onComplete),d=t.syncPointTree_.subtree(i);if(o)W(!Ar(d.value),"If we're adding a query, it shouldn't be shadowed");else{const f=d.fold((p,g,y)=>{if(!pe(p)&&g&&Ar(g))return[Su(g).query];{let v=[];return g&&(v=v.concat(dE(g).map(w=>w.query))),at(y,(w,S)=>{v=v.concat(S)}),v}});for(let p=0;p<f.length;++p){const g=f[p];t.listenProvider_.stopListening(Io(g),Uo(t,g))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new jf(n)}node(){return this.node_}}class zf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=We(this.path_,e);return new zf(this.syncTree_,n)}node(){return Ff(this.syncTree_,this.path_)}}const xN=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},S_=function(t,e,n){if(!t||typeof t!="object")return t;if(W(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return RN(t[".sv"],e,n);if(typeof t[".sv"]=="object")return PN(t[".sv"],e);W(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},RN=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:W(!1,"Unexpected server value: "+t)}},PN=function(t,e,n){t.hasOwnProperty("increment")||W(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&W(!1,"Unexpected increment value: "+i);const o=e.node();if(W(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const u=o.getValue();return typeof u!="number"?i:u+i},EE=function(t,e,n,i){return Wf(e,new zf(n,t),i)},wE=function(t,e,n){return Wf(t,new jf(e),n)};function Wf(t,e,n){const i=t.getPriority().val(),o=S_(i,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const u=t,d=S_(u.getValue(),e,n);return d!==u.getValue()||o!==u.getPriority().val()?new tt(d,Qe(o)):t}else{const u=t;return l=u,o!==u.getPriority().val()&&(l=l.updatePriority(new tt(o))),u.forEachChild(je,(d,f)=>{const p=Wf(f,e.getImmediateChild(d),n);p!==f&&(l=l.updateImmediateChild(d,p))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function $f(t,e){let n=e instanceof Re?e:new Re(e),i=t,o=ge(n);for(;o!==null;){const l=Zi(i.node.children,o)||{children:{},childCount:0};i=new Vf(o,i,l),n=Ae(n),o=ge(n)}return i}function vs(t){return t.node.value}function SE(t,e){t.node.value=e,bh(t)}function CE(t){return t.node.childCount>0}function kN(t){return vs(t)===void 0&&!CE(t)}function Iu(t,e){at(t.node.children,(n,i)=>{e(new Vf(n,t,i))})}function IE(t,e,n,i){n&&e(t),Iu(t,o=>{IE(o,e,!0)})}function NN(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function ia(t){return new Re(t.parent===null?t.name:ia(t.parent)+"/"+t.name)}function bh(t){t.parent!==null&&bN(t.parent,t.name,t)}function bN(t,e,n){const i=kN(n),o=Rn(t.node.children,e);i&&o?(delete t.node.children[e],t.node.childCount--,bh(t)):!i&&!o&&(t.node.children[e]=n.node,t.node.childCount++,bh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=/[\[\].#$\/\u0000-\u001F\u007F]/,LN=/[\[\].#$\u0000-\u001F\u007F]/,qd=10*1024*1024,Gf=function(t){return typeof t=="string"&&t.length!==0&&!AN.test(t)},TE=function(t){return typeof t=="string"&&t.length!==0&&!LN.test(t)},ON=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),TE(t)},Ah=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!yf(t)||t&&typeof t=="object"&&Rn(t,".sv")},sa=function(t,e,n,i){i&&e===void 0||Tu(pu(t,"value"),e,n)},Tu=function(t,e,n){const i=n instanceof Re?new YP(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ei(i));if(typeof e=="function")throw new Error(t+"contains a function "+ei(i)+" with contents = "+e.toString());if(yf(e))throw new Error(t+"contains "+e.toString()+" "+ei(i));if(typeof e=="string"&&e.length>qd/3&&mu(e)>qd)throw new Error(t+"contains a string greater than "+qd+" utf8 bytes "+ei(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,l=!1;if(at(e,(u,d)=>{if(u===".value")o=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!Gf(u)))throw new Error(t+" contains an invalid key ("+u+") "+ei(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);XP(i,u),Tu(t,d,i),JP(i)}),o&&l)throw new Error(t+' contains ".value" child '+ei(i)+" in addition to actual children.")}},MN=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const l=Lo(i);for(let u=0;u<l.length;u++)if(!(l[u]===".priority"&&u===l.length-1)){if(!Gf(l[u]))throw new Error(t+"contains an invalid key ("+l[u]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(QP);let o=null;for(n=0;n<e.length;n++){if(i=e[n],o!==null&&qt(o,i))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}},DN=function(t,e,n,i){const o=pu(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const l=[];at(e,(u,d)=>{const f=new Re(u);if(Tu(o,d,We(n,f)),If(f)===".priority"&&!Ah(d))throw new Error(o+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(f)}),MN(o,l)},qf=function(t,e,n,i){if(!TE(n))throw new Error(pu(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},FN=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),qf(t,e,n)},xE=function(t,e){if(ge(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},UN=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Gf(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!ON(n))throw new Error(pu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Kf(t,e){let n=null;for(let i=0;i<e.length;i++){const o=e[i],l=o.getPath();n!==null&&!V0(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(o)}n&&t.eventLists_.push(n)}function Kt(t,e,n){Kf(t,n),BN(t,i=>qt(i,e)||qt(e,i))}function BN(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const o=t.eventLists_[i];if(o){const l=o.path;e(l)?(jN(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function jN(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Eo&&ot("event: "+n.toString()),ms(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="repo_interrupt",WN=25;class VN{constructor(e,n,i,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new HN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Jl(),this.transactionQueueTree_=new Vf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $N(t,e,n){if(t.stats_=Sf(t.repoInfo_),t.forceRestClient_||EP())t.server_=new Xl(t.repoInfo_,(i,o,l,u)=>{C_(t,i,o,l,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>I_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ye(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new zn(t.repoInfo_,e,(i,o,l,u)=>{C_(t,i,o,l,u)},i=>{I_(t,i)},i=>{GN(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=TP(t.repoInfo_,()=>new Tk(t.stats_,t.server_)),t.infoData_=new Ek,t.infoSyncTree_=new w_({startListening:(i,o,l,u)=>{let d=[];const f=t.infoData_.getNode(i._path);return f.isEmpty()||(d=ra(t.infoSyncTree_,i._path,f),setTimeout(()=>{u("ok")},0)),d},stopListening:()=>{}}),Qf(t,"connected",!1),t.serverSyncTree_=new w_({startListening:(i,o,l,u)=>(t.server_.listen(i,l,o,(d,f)=>{const p=u(d,f);Kt(t.eventQueue_,i._path,p)}),[]),stopListening:(i,o)=>{t.server_.unlisten(i,o)}})}function RE(t){const n=t.infoData_.getNode(new Re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function xu(t){return xN({timestamp:RE(t)})}function C_(t,e,n,i,o){t.dataUpdateCount++;const l=new Re(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(o)if(i){const f=jl(n,p=>Qe(p));u=yN(t.serverSyncTree_,l,f,o)}else{const f=Qe(n);u=gE(t.serverSyncTree_,l,f,o)}else if(i){const f=jl(n,p=>Qe(p));u=gN(t.serverSyncTree_,l,f)}else{const f=Qe(n);u=ra(t.serverSyncTree_,l,f)}let d=l;u.length>0&&(d=is(t,l)),Kt(t.eventQueue_,d,u)}function I_(t,e){Qf(t,"connected",e),e===!1&&YN(t)}function GN(t,e){at(e,(n,i)=>{Qf(t,n,i)})}function Qf(t,e,n){const i=new Re("/.info/"+e),o=Qe(n);t.infoData_.updateSnapshot(i,o);const l=ra(t.infoSyncTree_,i,o);Kt(t.eventQueue_,i,l)}function Yf(t){return t.nextWriteId_++}function qN(t,e,n){const i=wN(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(o=>{const l=Qe(o).withIndex(e._queryParams.getIndex());EN(t.serverSyncTree_,e,n,!0);let u;if(e._queryParams.loadsAllData())u=ra(t.serverSyncTree_,e._path,l);else{const d=Uo(t.serverSyncTree_,e);u=gE(t.serverSyncTree_,e._path,l,d)}return Kt(t.eventQueue_,e._path,u),mE(t.serverSyncTree_,e,n,null,!0),l},o=>(oa(t,"get for query "+Ye(e)+" failed: "+o),Promise.reject(new Error(o))))}function KN(t,e,n,i,o){oa(t,"set",{path:e.toString(),value:n,priority:i});const l=xu(t),u=Qe(n,i),d=Ff(t.serverSyncTree_,e),f=wE(u,d,l),p=Yf(t),g=pE(t.serverSyncTree_,e,f,p,!0);Kf(t.eventQueue_,g),t.server_.put(e.toString(),u.val(!0),(v,w)=>{const S=v==="ok";S||Et("set at "+e+" failed: "+v);const R=Sr(t.serverSyncTree_,p,!S);Kt(t.eventQueue_,e,R),Lh(t,o,v,w)});const y=Jf(t,e);is(t,y),Kt(t.eventQueue_,y,[])}function QN(t,e,n,i){oa(t,"update",{path:e.toString(),value:n});let o=!0;const l=xu(t),u={};if(at(n,(d,f)=>{o=!1,u[d]=EE(We(e,d),Qe(f),t.serverSyncTree_,l)}),o)ot("update() called with empty data.  Don't do anything."),Lh(t,i,"ok",void 0);else{const d=Yf(t),f=mN(t.serverSyncTree_,e,u,d);Kf(t.eventQueue_,f),t.server_.merge(e.toString(),n,(p,g)=>{const y=p==="ok";y||Et("update at "+e+" failed: "+p);const v=Sr(t.serverSyncTree_,d,!y),w=v.length>0?is(t,e):e;Kt(t.eventQueue_,w,v),Lh(t,i,p,g)}),at(n,p=>{const g=Jf(t,We(e,p));is(t,g)}),Kt(t.eventQueue_,e,[])}}function YN(t){oa(t,"onDisconnectEvents");const e=xu(t),n=Jl();Th(t.onDisconnect_,Se(),(o,l)=>{const u=EE(o,l,t.serverSyncTree_,e);Z0(n,o,u)});let i=[];Th(n,Se(),(o,l)=>{i=i.concat(ra(t.serverSyncTree_,o,l));const u=Jf(t,o);is(t,u)}),t.onDisconnect_=Jl(),Kt(t.eventQueue_,Se(),i)}function XN(t){t.persistentConnection_&&t.persistentConnection_.interrupt(zN)}function oa(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ot(n,...e)}function Lh(t,e,n,i){e&&ms(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let l=o;i&&(l+=": "+i);const u=new Error(l);u.code=o,e(u)}})}function PE(t,e,n){return Ff(t.serverSyncTree_,e,n)||le.EMPTY_NODE}function Xf(t,e=t.transactionQueueTree_){if(e||Ru(t,e),vs(e)){const n=NE(t,e);W(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&JN(t,ia(e),n)}else CE(e)&&Iu(e,n=>{Xf(t,n)})}function JN(t,e,n){const i=n.map(p=>p.currentWriteId),o=PE(t,e,i);let l=o;const u=o.hash();for(let p=0;p<n.length;p++){const g=n[p];W(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=yt(e,g.path);l=l.updateChild(y,g.currentOutputSnapshotRaw)}const d=l.val(!0),f=e;t.server_.put(f.toString(),d,p=>{oa(t,"transaction put response",{path:f.toString(),status:p});let g=[];if(p==="ok"){const y=[];for(let v=0;v<n.length;v++)n[v].status=2,g=g.concat(Sr(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&y.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();Ru(t,$f(t.transactionQueueTree_,e)),Xf(t,t.transactionQueueTree_),Kt(t.eventQueue_,e,g);for(let v=0;v<y.length;v++)ms(y[v])}else{if(p==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{Et("transaction at "+f.toString()+" failed: "+p);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=p}is(t,e)}},u)}function is(t,e){const n=kE(t,e),i=ia(n),o=NE(t,n);return ZN(t,o,i),i}function ZN(t,e,n){if(e.length===0)return;const i=[];let o=[];const u=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const f=e[d],p=yt(n,f.path);let g=!1,y;if(W(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)g=!0,y=f.abortReason,o=o.concat(Sr(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=WN)g=!0,y="maxretry",o=o.concat(Sr(t.serverSyncTree_,f.currentWriteId,!0));else{const v=PE(t,f.path,u);f.currentInputSnapshot=v;const w=e[d].update(v.val());if(w!==void 0){Tu("transaction failed: Data returned ",w,f.path);let S=Qe(w);typeof w=="object"&&w!=null&&Rn(w,".priority")||(S=S.updatePriority(v.getPriority()));const A=f.currentWriteId,N=xu(t),M=wE(S,v,N);f.currentOutputSnapshotRaw=S,f.currentOutputSnapshotResolved=M,f.currentWriteId=Yf(t),u.splice(u.indexOf(A),1),o=o.concat(pE(t.serverSyncTree_,f.path,M,f.currentWriteId,f.applyLocally)),o=o.concat(Sr(t.serverSyncTree_,A,!0))}else g=!0,y="nodata",o=o.concat(Sr(t.serverSyncTree_,f.currentWriteId,!0))}Kt(t.eventQueue_,n,o),o=[],g&&(e[d].status=2,function(v){setTimeout(v,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(y==="nodata"?i.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):i.push(()=>e[d].onComplete(new Error(y),!1,null))))}Ru(t,t.transactionQueueTree_);for(let d=0;d<i.length;d++)ms(i[d]);Xf(t,t.transactionQueueTree_)}function kE(t,e){let n,i=t.transactionQueueTree_;for(n=ge(e);n!==null&&vs(i)===void 0;)i=$f(i,n),e=Ae(e),n=ge(e);return i}function NE(t,e){const n=[];return bE(t,e,n),n.sort((i,o)=>i.order-o.order),n}function bE(t,e,n){const i=vs(e);if(i)for(let o=0;o<i.length;o++)n.push(i[o]);Iu(e,o=>{bE(t,o,n)})}function Ru(t,e){const n=vs(e);if(n){let i=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[i]=n[o],i++);n.length=i,SE(e,n.length>0?n:void 0)}Iu(e,i=>{Ru(t,i)})}function Jf(t,e){const n=ia(kE(t,e)),i=$f(t.transactionQueueTree_,e);return NN(i,o=>{Kd(t,o)}),Kd(t,i),IE(i,o=>{Kd(t,o)}),n}function Kd(t,e){const n=vs(e);if(n){const i=[];let o=[],l=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(W(l===u-1,"All SENT items should be at beginning of queue."),l=u,n[u].status=3,n[u].abortReason="set"):(W(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),o=o.concat(Sr(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&i.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?SE(e,void 0):n.length=l+1,Kt(t.eventQueue_,ia(e),o);for(let u=0;u<i.length;u++)ms(i[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let o=n[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function tb(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Et(`Invalid query segment '${n}' in query '${t}'`)}return e}const T_=function(t,e){const n=nb(t),i=n.namespace;n.domain==="firebase.com"&&Kn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Kn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||dP();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new O0(n.host,n.secure,i,o,e,"",i!==n.subdomain),path:new Re(n.pathString)}},nb=function(t){let e="",n="",i="",o="",l="",u=!0,d="https",f=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(d=t.substring(0,p-1),t=t.substring(p+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(o=eb(t.substring(g,y)));const v=tb(t.substring(Math.min(t.length,y)));p=e.indexOf(":"),p>=0?(u=d==="https"||d==="wss",f=parseInt(e.substring(p+1),10)):p=e.length;const w=e.slice(0,p);if(w.toLowerCase()==="localhost")n="localhost";else if(w.split(".").length<=2)n=w;else{const S=e.indexOf(".");i=e.substring(0,S).toLowerCase(),n=e.substring(S+1),l=i}"ns"in v&&(l=v.ns)}return{host:e,port:f,domain:n,subdomain:i,secure:u,scheme:d,pathString:o,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",rb=function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let o;const l=new Array(8);for(o=7;o>=0;o--)l[o]=x_.charAt(n%64),n=Math.floor(n/64);W(n===0,"Cannot push at time == 0");let u=l.join("");if(i){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)u+=x_.charAt(e[o]);return W(u.length===20,"nextPushId: Length should be 20."),u}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n,i,o){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ye(this.snapshot.exportVal())}}class sb{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return W(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,i,o){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=o}get key(){return pe(this._path)?null:If(this._path)}get ref(){return new Yn(this._repo,this._path)}get _queryIdentifier(){const e=d_(this._queryParams),n=Ef(e);return n==="{}"?"default":n}get _queryObject(){return d_(this._queryParams)}isEqual(e){if(e=lt(e),!(e instanceof _s))return!1;const n=this._repo===e._repo,i=V0(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&i&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+KP(this._path)}}function ab(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Zf(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===ii){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==ci)throw new Error(i);if(typeof e!="string")throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==kr)throw new Error(i);if(typeof n!="string")throw new Error(o)}}else if(t.getIndex()===je){if(e!=null&&!Ah(e)||n!=null&&!Ah(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(W(t.getIndex()instanceof Rf||t.getIndex()===X0,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function AE(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Yn extends _s{constructor(e,n){super(e,n,new kf,!1)}get parent(){const e=W0(this._path);return e===null?null:new Yn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ho{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Re(e),i=Bo(this.ref,e);return new Ho(this._node.getChild(n),i,je)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,o)=>e(new Ho(o,Bo(this.ref,i),je)))}hasChild(e){const n=new Re(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function un(t,e){return t=lt(t),t._checkNotDeleted("ref"),e!==void 0?Bo(t._root,e):t._root}function Bo(t,e){return t=lt(t),ge(t._path)===null?FN("child","path",e):qf("child","path",e),new Yn(t._repo,We(t._path,e))}function lb(t,e){t=lt(t),xE("push",t._path),sa("push",e,t._path,!0);const n=RE(t._repo),i=rb(n),o=Bo(t,i),l=Bo(t,i);let u;return e!=null?u=LE(l,e).then(()=>l):u=Promise.resolve(l),o.then=u.then.bind(u),o.catch=u.then.bind(u,void 0),o}function LE(t,e){t=lt(t),xE("set",t._path),sa("set",e,t._path,!1);const n=new qo;return KN(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Pu(t,e){DN("update",e,t._path);const n=new qo;return QN(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function jo(t){t=lt(t);const e=new ob(()=>{}),n=new ep(e);return qN(t._repo,t,n).then(i=>new Ho(i,new Yn(t._repo,t._path),t._queryParams.getIndex()))}class ep{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new ib("value",this,new Ho(e.snapshotNode,new Yn(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new sb(this,e,n):null}matches(e){return e instanceof ep?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class ku{}class ub extends ku{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){sa("endAt",this._value,e._path,!0);const n=_k(e._queryParams,this._value,this._key);if(AE(n),Zf(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new _s(e._repo,e._path,n,e._orderByCalled)}}class cb extends ku{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){sa("startAt",this._value,e._path,!0);const n=vk(e._queryParams,this._value,this._key);if(AE(n),Zf(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new _s(e._repo,e._path,n,e._orderByCalled)}}class db extends ku{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){ab(e,"orderByChild");const n=new Re(this._path);if(pe(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Rf(n),o=yk(e._queryParams,i);return Zf(o),new _s(e._repo,e._path,o,!0)}}function OE(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return qf("orderByChild","path",t),new db(t)}class hb extends ku{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(sa("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ub(this._value,this._key)._apply(new cb(this._value,this._key)._apply(e))}}function fb(t,e){return new hb(t,e)}function ME(t,...e){let n=lt(t);for(const i of e)n=i._apply(n);return n}aN(Yn);hN(Yn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="FIREBASE_DATABASE_EMULATOR_HOST",Oh={};let mb=!1;function gb(t,e,n,i){const o=e.lastIndexOf(":"),l=e.substring(0,o),u=Ko(l);t.repoInfo_=new O0(e,u,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function vb(t,e,n,i,o){let l=i||t.options.databaseURL;l===void 0&&(t.options.projectId||Kn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ot("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=T_(l,o),d=u.repoInfo,f;typeof process<"u"&&qv&&(f=qv[pb]),f?(l=`http://${f}?ns=${d.namespace}`,u=T_(l,o),d=u.repoInfo):u.repoInfo.secure;const p=new SP(t.name,t.options,e);UN("Invalid Firebase Database URL",u),pe(u.path)||Kn("Database URL must point to the root of a Firebase Database (not including a child path).");const g=yb(d,t,p,new wP(t,n));return new Eb(g,t)}function _b(t,e){const n=Oh[e];(!n||n[t.key]!==t)&&Kn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),XN(t),delete n[t.key]}function yb(t,e,n,i){let o=Oh[e.name];o||(o={},Oh[e.name]=o);let l=o[t.toURLString()];return l&&Kn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new VN(t,mb,n,i),o[t.toURLString()]=l,l}class Eb{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($N(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yn(this._repo,Se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(_b(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Kn("Cannot call "+e+" on a deleted database.")}}function cn(t=Fy(),e){const n=cf(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=fT("database");i&&wb(n,...i)}return n}function wb(t,e,n,i={}){t=lt(t),t._checkNotDeleted("useEmulator");const o=`${e}:${n}`,l=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&oi(i,l.repoInfo_.emulatorOptions))return;Kn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(l.repoInfo_.nodeAdmin)i.mockUserToken&&Kn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Ml(Ml.OWNER);else if(i.mockUserToken){const d=typeof i.mockUserToken=="string"?i.mockUserToken:pT(i.mockUserToken,t.app.options.projectId);u=new Ml(d)}Ko(e)&&(Ny(e),by("Database",!0)),gb(l,o,i,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t){sP(fs),es(new ai("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return vb(i,o,l,n)},"PUBLIC").setMultipleInstances(!0)),xr(Kv,Qv,t),xr(Kv,Qv,"esm2017")}zn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};zn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Sb();class Cb{async getUserRoles(e){const n=cn(Gt),i=un(n,`users/${e}/roles`),o=await jo(i);if(o.exists()){const l=o.val(),u=[];return l.admin===!0&&u.push(Cr.ADMIN),u.length===0&&u.push(Cr.USER),u}return[Cr.USER]}async setUserRoles(e,n){const i=cn(Gt),o=un(i,`users/${e}`);try{await LE(o,n),console.log("User roles set successfully for UID:",e)}catch(l){throw console.error("Error setting user roles:",l),l}}}const po=eP(Gt);class Ib{constructor(){$i(this,"databaseService");this.databaseService=new Cb}signIn(e,n){return H1(po,e,n)}signUp(e,n){return U1(po,e,n)}signOut(){return W1(po)}onAuthStateChanged(e){return z1(po,e)}getCurrentUser(){return po.currentUser}async getUserRoles(e){return e.email==="ricf1@mscloud.ua.es"?[Cr.ADMIN]:this.databaseService.getUserRoles(e.uid)}async setUserRoles(e,n){try{await this.databaseService.setUserRoles(e,{email:n.email,roles:{admin:!1}}),console.log("Roles de usuario establecidos correctamente.")}catch(i){throw console.error("Error al establecer roles de usuario:",i),i}}}const ss=new Ib;var Qd={exports:{}},Yd={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function Tb(){if(R_)return Yd;R_=1;var t=du();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,o=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return Yd.useSyncExternalStoreWithSelector=function(f,p,g,y,v){var w=o(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=u(function(){function A(L){if(!N){if(N=!0,M=L,L=y(L),v!==void 0&&S.hasValue){var V=S.value;if(v(V,L))return F=V}return F=L}if(V=F,n(M,L))return V;var J=y(L);return v!==void 0&&v(V,J)?(M=L,V):(M=L,F=J)}var N=!1,M,F,j=g===void 0?null:g;return[function(){return A(p())},j===null?void 0:function(){return A(j())}]},[p,g,y,v]);var R=i(f,w[0],w[1]);return l(function(){S.hasValue=!0,S.value=R},[R]),d(R),R},Yd}var P_;function xb(){return P_||(P_=1,Qd.exports=Tb()),Qd.exports}var Rb=xb();function Pb(t){t()}function kb(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Pb(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const o=e={callback:n,next:null,prev:e};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var k_={notify(){},get:()=>[]};function Nb(t,e){let n,i=k_,o=0,l=!1;function u(R){g();const A=i.subscribe(R);let N=!1;return()=>{N||(N=!0,A(),y())}}function d(){i.notify()}function f(){S.onStateChange&&S.onStateChange()}function p(){return l}function g(){o++,n||(n=t.subscribe(f),i=kb())}function y(){o--,n&&o===0&&(n(),n=void 0,i.clear(),i=k_)}function v(){l||(l=!0,g())}function w(){l&&(l=!1,y())}const S={addNestedSub:u,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:p,trySubscribe:v,tryUnsubscribe:w,getListeners:()=>i};return S}var bb=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ab=bb(),Lb=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Ob=Lb(),Mb=()=>Ab||Ob?P.useLayoutEffect:P.useEffect,Db=Mb(),Xd=Symbol.for("react-redux-context"),Jd=typeof globalThis<"u"?globalThis:{};function Fb(){if(!P.createContext)return{};const t=Jd[Xd]??(Jd[Xd]=new Map);let e=t.get(P.createContext);return e||(e=P.createContext(null),t.set(P.createContext,e)),e}var Lr=Fb();function Ub(t){const{children:e,context:n,serverState:i,store:o}=t,l=P.useMemo(()=>{const f=Nb(o);return{store:o,subscription:f,getServerState:i?()=>i:void 0}},[o,i]),u=P.useMemo(()=>o.getState(),[o]);Db(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),u!==o.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,u]);const d=n||Lr;return P.createElement(d.Provider,{value:l},e)}var Hb=Ub;function tp(t=Lr){return function(){return P.useContext(t)}}var DE=tp();function FE(t=Lr){const e=t===Lr?DE:tp(t),n=()=>{const{store:i}=e();return i};return Object.assign(n,{withTypes:()=>n}),n}var Bb=FE();function jb(t=Lr){const e=t===Lr?Bb:FE(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var zb=jb(),Wb=(t,e)=>t===e;function Vb(t=Lr){const e=t===Lr?DE:tp(t),n=(i,o={})=>{const{equalityFn:l=Wb}=typeof o=="function"?{equalityFn:o}:o,u=e(),{store:d,subscription:f,getServerState:p}=u;P.useRef(!0);const g=P.useCallback({[i.name](v){return i(v)}}[i.name],[i]),y=Rb.useSyncExternalStoreWithSelector(f.addNestedSub,d.getState,p||d.getState,g,l);return P.useDebugValue(y),y};return Object.assign(n,{withTypes:()=>n}),n}var $b=Vb();const Nu=zb,fi=$b;function st(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Gb=typeof Symbol=="function"&&Symbol.observable||"@@observable",N_=Gb,Zd=()=>Math.random().toString(36).substring(7).split("").join("."),qb={INIT:`@@redux/INIT${Zd()}`,REPLACE:`@@redux/REPLACE${Zd()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Zd()}`},ou=qb;function np(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function UE(t,e,n){if(typeof t!="function")throw new Error(st(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(st(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(st(1));return n(UE)(t,e)}let i=t,o=e,l=new Map,u=l,d=0,f=!1;function p(){u===l&&(u=new Map,l.forEach((A,N)=>{u.set(N,A)}))}function g(){if(f)throw new Error(st(3));return o}function y(A){if(typeof A!="function")throw new Error(st(4));if(f)throw new Error(st(5));let N=!0;p();const M=d++;return u.set(M,A),function(){if(N){if(f)throw new Error(st(6));N=!1,p(),u.delete(M),l=null}}}function v(A){if(!np(A))throw new Error(st(7));if(typeof A.type>"u")throw new Error(st(8));if(typeof A.type!="string")throw new Error(st(17));if(f)throw new Error(st(9));try{f=!0,o=i(o,A)}finally{f=!1}return(l=u).forEach(M=>{M()}),A}function w(A){if(typeof A!="function")throw new Error(st(10));i=A,v({type:ou.REPLACE})}function S(){const A=y;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(st(11));function M(){const j=N;j.next&&j.next(g())}return M(),{unsubscribe:A(M)}},[N_](){return this}}}return v({type:ou.INIT}),{dispatch:v,subscribe:y,getState:g,replaceReducer:w,[N_]:S}}function Kb(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:ou.INIT})>"u")throw new Error(st(12));if(typeof n(void 0,{type:ou.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(st(13))})}function Qb(t){const e=Object.keys(t),n={};for(let l=0;l<e.length;l++){const u=e[l];typeof t[u]=="function"&&(n[u]=t[u])}const i=Object.keys(n);let o;try{Kb(n)}catch(l){o=l}return function(u={},d){if(o)throw o;let f=!1;const p={};for(let g=0;g<i.length;g++){const y=i[g],v=n[y],w=u[y],S=v(w,d);if(typeof S>"u")throw d&&d.type,new Error(st(14));p[y]=S,f=f||S!==w}return f=f||i.length!==Object.keys(u).length,f?p:u}}function au(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function Yb(...t){return e=>(n,i)=>{const o=e(n,i);let l=()=>{throw new Error(st(15))};const u={getState:o.getState,dispatch:(f,...p)=>l(f,...p)},d=t.map(f=>f(u));return l=au(...d)(o.dispatch),{...o,dispatch:l}}}function Xb(t){return np(t)&&"type"in t&&typeof t.type=="string"}var HE=Symbol.for("immer-nothing"),b_=Symbol.for("immer-draftable"),Ft=Symbol.for("immer-state");function on(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var os=Object.getPrototypeOf;function pi(t){return!!t&&!!t[Ft]}function Qn(t){var e;return t?BE(t)||Array.isArray(t)||!!t[b_]||!!((e=t.constructor)!=null&&e[b_])||Au(t)||Lu(t):!1}var Jb=Object.prototype.constructor.toString();function BE(t){if(!t||typeof t!="object")return!1;const e=os(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Jb}function lu(t,e){bu(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function bu(t){const e=t[Ft];return e?e.type_:Array.isArray(t)?1:Au(t)?2:Lu(t)?3:0}function Mh(t,e){return bu(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function jE(t,e,n){const i=bu(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function Zb(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Au(t){return t instanceof Map}function Lu(t){return t instanceof Set}function ti(t){return t.copy_||t.base_}function Dh(t,e){if(Au(t))return new Map(t);if(Lu(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=BE(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[Ft];let o=Reflect.ownKeys(i);for(let l=0;l<o.length;l++){const u=o[l],d=i[u];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(i[u]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[u]})}return Object.create(os(t),i)}else{const i=os(t);if(i!==null&&n)return{...t};const o=Object.create(i);return Object.assign(o,t)}}function rp(t,e=!1){return Ou(t)||pi(t)||!Qn(t)||(bu(t)>1&&(t.set=t.add=t.clear=t.delete=eA),Object.freeze(t),e&&Object.entries(t).forEach(([n,i])=>rp(i,!0))),t}function eA(){on(2)}function Ou(t){return Object.isFrozen(t)}var tA={};function mi(t){const e=tA[t];return e||on(0,t),e}var zo;function zE(){return zo}function nA(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function A_(t,e){e&&(mi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Fh(t){Uh(t),t.drafts_.forEach(rA),t.drafts_=null}function Uh(t){t===zo&&(zo=t.parent_)}function L_(t){return zo=nA(zo,t)}function rA(t){const e=t[Ft];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function O_(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ft].modified_&&(Fh(e),on(4)),Qn(t)&&(t=uu(e,t),e.parent_||cu(e,t)),e.patches_&&mi("Patches").generateReplacementPatches_(n[Ft].base_,t,e.patches_,e.inversePatches_)):t=uu(e,n,[]),Fh(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==HE?t:void 0}function uu(t,e,n){if(Ou(e))return e;const i=e[Ft];if(!i)return lu(e,(o,l)=>M_(t,i,e,o,l,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return cu(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let l=o,u=!1;i.type_===3&&(l=new Set(o),o.clear(),u=!0),lu(l,(d,f)=>M_(t,i,o,d,f,n,u)),cu(t,o,!1),n&&t.patches_&&mi("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function M_(t,e,n,i,o,l,u){if(pi(o)){const d=l&&e&&e.type_!==3&&!Mh(e.assigned_,i)?l.concat(i):void 0,f=uu(t,o,d);if(jE(n,i,f),pi(f))t.canAutoFreeze_=!1;else return}else u&&n.add(o);if(Qn(o)&&!Ou(o)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;uu(t,o),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&cu(t,o)}}function cu(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&rp(e,n)}function iA(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:zE(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=i,l=ip;n&&(o=[i],l=Wo);const{revoke:u,proxy:d}=Proxy.revocable(o,l);return i.draft_=d,i.revoke_=u,d}var ip={get(t,e){if(e===Ft)return t;const n=ti(t);if(!Mh(n,e))return sA(t,n,e);const i=n[e];return t.finalized_||!Qn(i)?i:i===eh(t.base_,e)?(th(t),t.copy_[e]=Bh(i,t)):i},has(t,e){return e in ti(t)},ownKeys(t){return Reflect.ownKeys(ti(t))},set(t,e,n){const i=WE(ti(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const o=eh(ti(t),e),l=o==null?void 0:o[Ft];if(l&&l.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Zb(n,o)&&(n!==void 0||Mh(t.base_,e)))return!0;th(t),Hh(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return eh(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,th(t),Hh(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ti(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){on(11)},getPrototypeOf(t){return os(t.base_)},setPrototypeOf(){on(12)}},Wo={};lu(ip,(t,e)=>{Wo[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Wo.deleteProperty=function(t,e){return Wo.set.call(this,t,e,void 0)};Wo.set=function(t,e,n){return ip.set.call(this,t[0],e,n,t[0])};function eh(t,e){const n=t[Ft];return(n?ti(n):t)[e]}function sA(t,e,n){var o;const i=WE(e,n);return i?"value"in i?i.value:(o=i.get)==null?void 0:o.call(t.draft_):void 0}function WE(t,e){if(!(e in t))return;let n=os(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=os(n)}}function Hh(t){t.modified_||(t.modified_=!0,t.parent_&&Hh(t.parent_))}function th(t){t.copy_||(t.copy_=Dh(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var oA=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const l=n;n=e;const u=this;return function(f=l,...p){return u.produce(f,g=>n.call(this,g,...p))}}typeof n!="function"&&on(6),i!==void 0&&typeof i!="function"&&on(7);let o;if(Qn(e)){const l=L_(this),u=Bh(e,void 0);let d=!0;try{o=n(u),d=!1}finally{d?Fh(l):Uh(l)}return A_(l,i),O_(o,l)}else if(!e||typeof e!="object"){if(o=n(e),o===void 0&&(o=e),o===HE&&(o=void 0),this.autoFreeze_&&rp(o,!0),i){const l=[],u=[];mi("Patches").generateReplacementPatches_(e,o,l,u),i(l,u)}return o}else on(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(u,...d)=>this.produceWithPatches(u,f=>e(f,...d));let i,o;return[this.produce(e,n,(u,d)=>{i=u,o=d}),i,o]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Qn(t)||on(8),pi(t)&&(t=aA(t));const e=L_(this),n=Bh(t,void 0);return n[Ft].isManual_=!0,Uh(e),n}finishDraft(t,e){const n=t&&t[Ft];(!n||!n.isManual_)&&on(9);const{scope_:i}=n;return A_(i,e),O_(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const o=e[n];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}n>-1&&(e=e.slice(n+1));const i=mi("Patches").applyPatches_;return pi(t)?i(t,e):this.produce(t,o=>i(o,e))}};function Bh(t,e){const n=Au(t)?mi("MapSet").proxyMap_(t,e):Lu(t)?mi("MapSet").proxySet_(t,e):iA(t,e);return(e?e.scope_:zE()).drafts_.push(n),n}function aA(t){return pi(t)||on(10,t),VE(t)}function VE(t){if(!Qn(t)||Ou(t))return t;const e=t[Ft];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Dh(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Dh(t,!0);return lu(n,(i,o)=>{jE(n,i,VE(o))}),e&&(e.finalized_=!1),n}var Ut=new oA,$E=Ut.produce;Ut.produceWithPatches.bind(Ut);Ut.setAutoFreeze.bind(Ut);Ut.setUseStrictShallowCopy.bind(Ut);Ut.applyPatches.bind(Ut);Ut.createDraft.bind(Ut);Ut.finishDraft.bind(Ut);function GE(t){return({dispatch:n,getState:i})=>o=>l=>typeof l=="function"?l(n,i,t):o(l)}var lA=GE(),uA=GE,cA=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?au:au.apply(null,arguments)},dA=t=>t&&typeof t.match=="function";function To(t,e){function n(...i){if(e){let o=e(...i);if(!o)throw new Error(Wn(0));return{type:t,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>Xb(i)&&i.type===t,n}var qE=class vo extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,vo.prototype)}static get[Symbol.species](){return vo}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new vo(...e[0].concat(this)):new vo(...e.concat(this))}};function D_(t){return Qn(t)?$E(t,()=>{}):t}function Tl(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function hA(t){return typeof t=="boolean"}var fA=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:o=!0,actionCreatorCheck:l=!0}=e??{};let u=new qE;return n&&(hA(n)?u.push(lA):u.push(uA(n.extraArgument))),u},pA="RTK_autoBatch",F_=t=>e=>{setTimeout(e,t)},mA=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let o=!0,l=!1,u=!1;const d=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:F_(10):t.type==="callback"?t.queueNotification:F_(t.timeout),p=()=>{u=!1,l&&(l=!1,d.forEach(g=>g()))};return Object.assign({},i,{subscribe(g){const y=()=>o&&g(),v=i.subscribe(y);return d.add(g),()=>{v(),d.delete(g)}},dispatch(g){var y;try{return o=!((y=g==null?void 0:g.meta)!=null&&y[pA]),l=!o,l&&(u||(u=!0,f(p))),i.dispatch(g)}finally{o=!0}}})},gA=t=>function(n){const{autoBatch:i=!0}=n??{};let o=new qE(t);return i&&o.push(mA(typeof i=="object"?i:void 0)),o};function vA(t){const e=fA(),{reducer:n=void 0,middleware:i,devTools:o=!0,preloadedState:l=void 0,enhancers:u=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(np(n))d=Qb(n);else throw new Error(Wn(1));let f;typeof i=="function"?f=i(e):f=e();let p=au;o&&(p=cA({trace:!1,...typeof o=="object"&&o}));const g=Yb(...f),y=gA(g);let v=typeof u=="function"?u(y):y();const w=p(...v);return UE(d,l,w)}function KE(t){const e={},n=[];let i;const o={addCase(l,u){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Wn(28));if(d in e)throw new Error(Wn(29));return e[d]=u,o},addMatcher(l,u){return n.push({matcher:l,reducer:u}),o},addDefaultCase(l){return i=l,o}};return t(o),[e,n,i]}function _A(t){return typeof t=="function"}function yA(t,e){let[n,i,o]=KE(e),l;if(_A(t))l=()=>D_(t());else{const d=D_(t);l=()=>d}function u(d=l(),f){let p=[n[f.type],...i.filter(({matcher:g})=>g(f)).map(({reducer:g})=>g)];return p.filter(g=>!!g).length===0&&(p=[o]),p.reduce((g,y)=>{if(y)if(pi(g)){const w=y(g,f);return w===void 0?g:w}else{if(Qn(g))return $E(g,v=>y(v,f));{const v=y(g,f);if(v===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return g},d)}return u.getInitialState=l,u}var EA=(t,e)=>dA(t)?t.match(e):t(e);function wA(...t){return e=>t.some(n=>EA(n,e))}var SA="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",CA=(t=21)=>{let e="",n=t;for(;n--;)e+=SA[Math.random()*64|0];return e},IA=["name","message","stack","code"],nh=class{constructor(t,e){$i(this,"_type");this.payload=t,this.meta=e}},U_=class{constructor(t,e){$i(this,"_type");this.payload=t,this.meta=e}},TA=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of IA)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},H_="External signal was aborted",xA=(()=>{function t(e,n,i){const o=To(e+"/fulfilled",(f,p,g,y)=>({payload:f,meta:{...y||{},arg:g,requestId:p,requestStatus:"fulfilled"}})),l=To(e+"/pending",(f,p,g)=>({payload:void 0,meta:{...g||{},arg:p,requestId:f,requestStatus:"pending"}})),u=To(e+"/rejected",(f,p,g,y,v)=>({payload:y,error:(i&&i.serializeError||TA)(f||"Rejected"),meta:{...v||{},arg:g,requestId:p,rejectedWithValue:!!y,requestStatus:"rejected",aborted:(f==null?void 0:f.name)==="AbortError",condition:(f==null?void 0:f.name)==="ConditionError"}}));function d(f,{signal:p}={}){return(g,y,v)=>{const w=i!=null&&i.idGenerator?i.idGenerator(f):CA(),S=new AbortController;let R,A;function N(F){A=F,S.abort()}p&&(p.aborted?N(H_):p.addEventListener("abort",()=>N(H_),{once:!0}));const M=async function(){var L,V;let F;try{let J=(L=i==null?void 0:i.condition)==null?void 0:L.call(i,f,{getState:y,extra:v});if(PA(J)&&(J=await J),J===!1||S.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const ce=new Promise((te,Ee)=>{R=()=>{Ee({name:"AbortError",message:A||"Aborted"})},S.signal.addEventListener("abort",R)});g(l(w,f,(V=i==null?void 0:i.getPendingMeta)==null?void 0:V.call(i,{requestId:w,arg:f},{getState:y,extra:v}))),F=await Promise.race([ce,Promise.resolve(n(f,{dispatch:g,getState:y,extra:v,requestId:w,signal:S.signal,abort:N,rejectWithValue:(te,Ee)=>new nh(te,Ee),fulfillWithValue:(te,Ee)=>new U_(te,Ee)})).then(te=>{if(te instanceof nh)throw te;return te instanceof U_?o(te.payload,w,f,te.meta):o(te,w,f)})])}catch(J){F=J instanceof nh?u(null,w,f,J.payload,J.meta):u(J,w,f)}finally{R&&S.signal.removeEventListener("abort",R)}return i&&!i.dispatchConditionRejection&&u.match(F)&&F.meta.condition||g(F),F}();return Object.assign(M,{abort:N,requestId:w,arg:f,unwrap(){return M.then(RA)}})}}return Object.assign(d,{pending:l,rejected:u,fulfilled:o,settled:wA(u,o),typePrefix:e})}return t.withTypes=()=>t,t})();function RA(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function PA(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var kA=Symbol.for("rtk-slice-createasyncthunk");function NA(t,e){return`${t}/${e}`}function bA({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[kA];return function(o){const{name:l,reducerPath:u=l}=o;if(!l)throw new Error(Wn(11));const d=(typeof o.reducers=="function"?o.reducers(LA()):o.reducers)||{},f=Object.keys(d),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(j,L){const V=typeof j=="string"?j:j.type;if(!V)throw new Error(Wn(12));if(V in p.sliceCaseReducersByType)throw new Error(Wn(13));return p.sliceCaseReducersByType[V]=L,g},addMatcher(j,L){return p.sliceMatchers.push({matcher:j,reducer:L}),g},exposeAction(j,L){return p.actionCreators[j]=L,g},exposeCaseReducer(j,L){return p.sliceCaseReducersByName[j]=L,g}};f.forEach(j=>{const L=d[j],V={reducerName:j,type:NA(l,j),createNotation:typeof o.reducers=="function"};MA(L)?FA(V,L,g,e):OA(V,L,g)});function y(){const[j={},L=[],V=void 0]=typeof o.extraReducers=="function"?KE(o.extraReducers):[o.extraReducers],J={...j,...p.sliceCaseReducersByType};return yA(o.initialState,ce=>{for(let te in J)ce.addCase(te,J[te]);for(let te of p.sliceMatchers)ce.addMatcher(te.matcher,te.reducer);for(let te of L)ce.addMatcher(te.matcher,te.reducer);V&&ce.addDefaultCase(V)})}const v=j=>j,w=new Map,S=new WeakMap;let R;function A(j,L){return R||(R=y()),R(j,L)}function N(){return R||(R=y()),R.getInitialState()}function M(j,L=!1){function V(ce){let te=ce[j];return typeof te>"u"&&L&&(te=Tl(S,V,N)),te}function J(ce=v){const te=Tl(w,L,()=>new WeakMap);return Tl(te,ce,()=>{const Ee={};for(const[St,pt]of Object.entries(o.selectors??{}))Ee[St]=AA(pt,ce,()=>Tl(S,ce,N),L);return Ee})}return{reducerPath:j,getSelectors:J,get selectors(){return J(V)},selectSlice:V}}const F={name:l,reducer:A,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:N,...M(u),injectInto(j,{reducerPath:L,...V}={}){const J=L??u;return j.inject({reducerPath:J,reducer:A},V),{...F,...M(J,!0)}}};return F}}function AA(t,e,n,i){function o(l,...u){let d=e(l);return typeof d>"u"&&i&&(d=n()),t(d,...u)}return o.unwrapped=t,o}var QE=bA();function LA(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function OA({type:t,reducerName:e,createNotation:n},i,o){let l,u;if("reducer"in i){if(n&&!DA(i))throw new Error(Wn(17));l=i.reducer,u=i.prepare}else l=i;o.addCase(t,l).exposeCaseReducer(e,l).exposeAction(e,u?To(t,u):To(t))}function MA(t){return t._reducerDefinitionType==="asyncThunk"}function DA(t){return t._reducerDefinitionType==="reducerWithPrepare"}function FA({type:t,reducerName:e},n,i,o){if(!o)throw new Error(Wn(18));const{payloadCreator:l,fulfilled:u,pending:d,rejected:f,settled:p,options:g}=n,y=o(t,l,g);i.exposeAction(e,y),u&&i.addCase(y.fulfilled,u),d&&i.addCase(y.pending,d),f&&i.addCase(y.rejected,f),p&&i.addMatcher(y.settled,p),i.exposeCaseReducer(e,{fulfilled:u||xl,pending:d||xl,rejected:f||xl,settled:p||xl})}function xl(){}function Wn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const UA={user:null,roles:null,isLoading:!1,error:null},Dl=xA("auth/fetchUserRoles",async(t,{rejectWithValue:e})=>{if(!t)return e("No user provided for role fetch.");try{return await ss.getUserRoles(t)}catch(n){return console.error("Error fetching user roles:",n),e(n.message||"Failed to fetch user roles")}}),YE=QE({name:"auth",initialState:UA,reducers:{setUser:(t,e)=>{t.user=e.payload,e.payload||(t.roles=null,t.error=null,t.isLoading=!1)},setRoles:(t,e)=>{t.roles=e.payload,t.isLoading=!1},logout:t=>{t.user=null,t.roles=null,t.error=null,t.isLoading=!1},setAuthError:(t,e)=>{t.error=e.payload,t.isLoading=!1},setLoading:(t,e)=>{t.isLoading=e.payload}},extraReducers:t=>{t.addCase(Dl.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dl.fulfilled,(e,n)=>{e.roles=n.payload,e.isLoading=!1,e.error=null}).addCase(Dl.rejected,(e,n)=>{e.isLoading=!1,e.roles=null,e.error=n.payload})}}),{setUser:B_,setRoles:j_,logout:HA,setAuthError:Dn,setLoading:si}=YE.actions,BA=YE.reducer,jA=()=>{const t=localStorage.getItem("locale");if(t&&["es","en"].includes(t))return t;const e=navigator.language.split("-")[0];return["es","en"].includes(e)?e:"es"},zA={locale:jA()},XE=QE({name:"i18n",initialState:zA,reducers:{setLocale:(t,e)=>{t.locale=e.payload,localStorage.setItem("locale",e.payload)}}}),{setLocale:WA}=XE.actions,VA=XE.reducer;function En(t,e){var n=e&&e.cache?e.cache:XA,i=e&&e.serializer?e.serializer:QA,o=e&&e.strategy?e.strategy:qA;return o(t,{cache:n,serializer:i})}function $A(t){return t==null||typeof t=="number"||typeof t=="boolean"}function GA(t,e,n,i){var o=$A(i)?i:n(i),l=e.get(o);return typeof l>"u"&&(l=t.call(this,i),e.set(o,l)),l}function JE(t,e,n){var i=Array.prototype.slice.call(arguments,3),o=n(i),l=e.get(o);return typeof l>"u"&&(l=t.apply(this,i),e.set(o,l)),l}function ZE(t,e,n,i,o){return n.bind(e,t,i,o)}function qA(t,e){var n=t.length===1?GA:JE;return ZE(t,this,n,e.cache.create(),e.serializer)}function KA(t,e){return ZE(t,this,JE,e.cache.create(),e.serializer)}var QA=function(){return JSON.stringify(arguments)},YA=function(){function t(){this.cache=Object.create(null)}return t.prototype.get=function(e){return this.cache[e]},t.prototype.set=function(e,n){this.cache[e]=n},t}(),XA={create:function(){return new YA}},wn={variadic:KA},ve;(function(t){t[t.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",t[t.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",t[t.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",t[t.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",t[t.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",t[t.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",t[t.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",t[t.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",t[t.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",t[t.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",t[t.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",t[t.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",t[t.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",t[t.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",t[t.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",t[t.INVALID_TAG=23]="INVALID_TAG",t[t.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",t[t.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",t[t.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(ve||(ve={}));var Me;(function(t){t[t.literal=0]="literal",t[t.argument=1]="argument",t[t.number=2]="number",t[t.date=3]="date",t[t.time=4]="time",t[t.select=5]="select",t[t.plural=6]="plural",t[t.pound=7]="pound",t[t.tag=8]="tag"})(Me||(Me={}));var as;(function(t){t[t.number=0]="number",t[t.dateTime=1]="dateTime"})(as||(as={}));function z_(t){return t.type===Me.literal}function JA(t){return t.type===Me.argument}function ew(t){return t.type===Me.number}function tw(t){return t.type===Me.date}function nw(t){return t.type===Me.time}function rw(t){return t.type===Me.select}function iw(t){return t.type===Me.plural}function ZA(t){return t.type===Me.pound}function sw(t){return t.type===Me.tag}function ow(t){return!!(t&&typeof t=="object"&&t.type===as.number)}function jh(t){return!!(t&&typeof t=="object"&&t.type===as.dateTime)}var aw=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,eL=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function tL(t){var e={};return t.replace(eL,function(n){var i=n.length;switch(n[0]){case"G":e.era=i===4?"long":i===5?"narrow":"short";break;case"y":e.year=i===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][i-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][i-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=i===4?"long":i===5?"narrow":"short";break;case"e":if(i<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][i-4];break;case"c":if(i<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][i-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][i-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][i-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][i-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][i-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][i-1];break;case"s":e.second=["numeric","2-digit"][i-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":e.timeZoneName=i<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),e}var nL=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function rL(t){if(t.length===0)throw new Error("Number skeleton cannot be empty");for(var e=t.split(nL).filter(function(v){return v.length>0}),n=[],i=0,o=e;i<o.length;i++){var l=o[i],u=l.split("/");if(u.length===0)throw new Error("Invalid number skeleton");for(var d=u[0],f=u.slice(1),p=0,g=f;p<g.length;p++){var y=g[p];if(y.length===0)throw new Error("Invalid number skeleton")}n.push({stem:d,options:f})}return n}function iL(t){return t.replace(/^(.*?)-/,"")}var W_=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,lw=/^(@+)?(\+|#+)?[rs]?$/g,sL=/(\*)(0+)|(#+)(0+)|(0+)/g,uw=/^(0+)$/;function V_(t){var e={};return t[t.length-1]==="r"?e.roundingPriority="morePrecision":t[t.length-1]==="s"&&(e.roundingPriority="lessPrecision"),t.replace(lw,function(n,i,o){return typeof o!="string"?(e.minimumSignificantDigits=i.length,e.maximumSignificantDigits=i.length):o==="+"?e.minimumSignificantDigits=i.length:i[0]==="#"?e.maximumSignificantDigits=i.length:(e.minimumSignificantDigits=i.length,e.maximumSignificantDigits=i.length+(typeof o=="string"?o.length:0)),""}),e}function cw(t){switch(t){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function oL(t){var e;if(t[0]==="E"&&t[1]==="E"?(e={notation:"engineering"},t=t.slice(2)):t[0]==="E"&&(e={notation:"scientific"},t=t.slice(1)),e){var n=t.slice(0,2);if(n==="+!"?(e.signDisplay="always",t=t.slice(2)):n==="+?"&&(e.signDisplay="exceptZero",t=t.slice(2)),!uw.test(t))throw new Error("Malformed concise eng/scientific notation");e.minimumIntegerDigits=t.length}return e}function $_(t){var e={},n=cw(t);return n||e}function aL(t){for(var e={},n=0,i=t;n<i.length;n++){var o=i[n];switch(o.stem){case"percent":case"%":e.style="percent";continue;case"%x100":e.style="percent",e.scale=100;continue;case"currency":e.style="currency",e.currency=o.options[0];continue;case"group-off":case",_":e.useGrouping=!1;continue;case"precision-integer":case".":e.maximumFractionDigits=0;continue;case"measure-unit":case"unit":e.style="unit",e.unit=iL(o.options[0]);continue;case"compact-short":case"K":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":case"KK":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e=Z(Z(Z({},e),{notation:"scientific"}),o.options.reduce(function(f,p){return Z(Z({},f),$_(p))},{}));continue;case"engineering":e=Z(Z(Z({},e),{notation:"engineering"}),o.options.reduce(function(f,p){return Z(Z({},f),$_(p))},{}));continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue;case"scale":e.scale=parseFloat(o.options[0]);continue;case"rounding-mode-floor":e.roundingMode="floor";continue;case"rounding-mode-ceiling":e.roundingMode="ceil";continue;case"rounding-mode-down":e.roundingMode="trunc";continue;case"rounding-mode-up":e.roundingMode="expand";continue;case"rounding-mode-half-even":e.roundingMode="halfEven";continue;case"rounding-mode-half-down":e.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":e.roundingMode="halfExpand";continue;case"integer-width":if(o.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");o.options[0].replace(sL,function(f,p,g,y,v,w){if(p)e.minimumIntegerDigits=g.length;else{if(y&&v)throw new Error("We currently do not support maximum integer digits");if(w)throw new Error("We currently do not support exact integer digits")}return""});continue}if(uw.test(o.stem)){e.minimumIntegerDigits=o.stem.length;continue}if(W_.test(o.stem)){if(o.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");o.stem.replace(W_,function(f,p,g,y,v,w){return g==="*"?e.minimumFractionDigits=p.length:y&&y[0]==="#"?e.maximumFractionDigits=y.length:v&&w?(e.minimumFractionDigits=v.length,e.maximumFractionDigits=v.length+w.length):(e.minimumFractionDigits=p.length,e.maximumFractionDigits=p.length),""});var l=o.options[0];l==="w"?e=Z(Z({},e),{trailingZeroDisplay:"stripIfInteger"}):l&&(e=Z(Z({},e),V_(l)));continue}if(lw.test(o.stem)){e=Z(Z({},e),V_(o.stem));continue}var u=cw(o.stem);u&&(e=Z(Z({},e),u));var d=oL(o.stem);d&&(e=Z(Z({},e),d))}return e}var Rl={"001":["H","h"],419:["h","H","hB","hb"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["h","H","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["h","H","hB","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["h","H","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["h","H","hB","hb"],CU:["h","H","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["h","H","hB","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["h","H","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["h","H","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["h","H","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["h","H","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["h","H","hB","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["h","H","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["h","H","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["h","H","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"en-HK":["h","hb","H","hB"],"en-IL":["H","h","hb","hB"],"en-MY":["h","hb","H","hB"],"es-BR":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function lL(t,e){for(var n="",i=0;i<t.length;i++){var o=t.charAt(i);if(o==="j"){for(var l=0;i+1<t.length&&t.charAt(i+1)===o;)l++,i++;var u=1+(l&1),d=l<2?1:3+(l>>1),f="a",p=uL(e);for((p=="H"||p=="k")&&(d=0);d-- >0;)n+=f;for(;u-- >0;)n=p+n}else o==="J"?n+="H":n+=o}return n}function uL(t){var e=t.hourCycle;if(e===void 0&&t.hourCycles&&t.hourCycles.length&&(e=t.hourCycles[0]),e)switch(e){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n=t.language,i;n!=="root"&&(i=t.maximize().region);var o=Rl[i||""]||Rl[n||""]||Rl["".concat(n,"-001")]||Rl["001"];return o[0]}var rh,cL=new RegExp("^".concat(aw.source,"*")),dL=new RegExp("".concat(aw.source,"*$"));function _e(t,e){return{start:t,end:e}}var hL=!!String.prototype.startsWith&&"_a".startsWith("a",1),fL=!!String.fromCodePoint,pL=!!Object.fromEntries,mL=!!String.prototype.codePointAt,gL=!!String.prototype.trimStart,vL=!!String.prototype.trimEnd,_L=!!Number.isSafeInteger,yL=_L?Number.isSafeInteger:function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t&&Math.abs(t)<=9007199254740991},zh=!0;try{var EL=hw("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");zh=((rh=EL.exec("a"))===null||rh===void 0?void 0:rh[0])==="a"}catch{zh=!1}var G_=hL?function(e,n,i){return e.startsWith(n,i)}:function(e,n,i){return e.slice(i,i+n.length)===n},Wh=fL?String.fromCodePoint:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i="",o=e.length,l=0,u;o>l;){if(u=e[l++],u>1114111)throw RangeError(u+" is not a valid code point");i+=u<65536?String.fromCharCode(u):String.fromCharCode(((u-=65536)>>10)+55296,u%1024+56320)}return i},q_=pL?Object.fromEntries:function(e){for(var n={},i=0,o=e;i<o.length;i++){var l=o[i],u=l[0],d=l[1];n[u]=d}return n},dw=mL?function(e,n){return e.codePointAt(n)}:function(e,n){var i=e.length;if(!(n<0||n>=i)){var o=e.charCodeAt(n),l;return o<55296||o>56319||n+1===i||(l=e.charCodeAt(n+1))<56320||l>57343?o:(o-55296<<10)+(l-56320)+65536}},wL=gL?function(e){return e.trimStart()}:function(e){return e.replace(cL,"")},SL=vL?function(e){return e.trimEnd()}:function(e){return e.replace(dL,"")};function hw(t,e){return new RegExp(t,e)}var Vh;if(zh){var K_=hw("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Vh=function(e,n){var i;K_.lastIndex=n;var o=K_.exec(e);return(i=o[1])!==null&&i!==void 0?i:""}}else Vh=function(e,n){for(var i=[];;){var o=dw(e,n);if(o===void 0||fw(o)||xL(o))break;i.push(o),n+=o>=65536?2:1}return Wh.apply(void 0,i)};var CL=function(){function t(e,n){n===void 0&&(n={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!n.ignoreTag,this.locale=n.locale,this.requiresOtherClause=!!n.requiresOtherClause,this.shouldParseSkeletons=!!n.shouldParseSkeletons}return t.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},t.prototype.parseMessage=function(e,n,i){for(var o=[];!this.isEOF();){var l=this.char();if(l===123){var u=this.parseArgument(e,i);if(u.err)return u;o.push(u.val)}else{if(l===125&&e>0)break;if(l===35&&(n==="plural"||n==="selectordinal")){var d=this.clonePosition();this.bump(),o.push({type:Me.pound,location:_e(d,this.clonePosition())})}else if(l===60&&!this.ignoreTag&&this.peek()===47){if(i)break;return this.error(ve.UNMATCHED_CLOSING_TAG,_e(this.clonePosition(),this.clonePosition()))}else if(l===60&&!this.ignoreTag&&$h(this.peek()||0)){var u=this.parseTag(e,n);if(u.err)return u;o.push(u.val)}else{var u=this.parseLiteral(e,n);if(u.err)return u;o.push(u.val)}}}return{val:o,err:null}},t.prototype.parseTag=function(e,n){var i=this.clonePosition();this.bump();var o=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:Me.literal,value:"<".concat(o,"/>"),location:_e(i,this.clonePosition())},err:null};if(this.bumpIf(">")){var l=this.parseMessage(e+1,n,!0);if(l.err)return l;var u=l.val,d=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!$h(this.char()))return this.error(ve.INVALID_TAG,_e(d,this.clonePosition()));var f=this.clonePosition(),p=this.parseTagName();return o!==p?this.error(ve.UNMATCHED_CLOSING_TAG,_e(f,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:Me.tag,value:o,children:u,location:_e(i,this.clonePosition())},err:null}:this.error(ve.INVALID_TAG,_e(d,this.clonePosition())))}else return this.error(ve.UNCLOSED_TAG,_e(i,this.clonePosition()))}else return this.error(ve.INVALID_TAG,_e(i,this.clonePosition()))},t.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&TL(this.char());)this.bump();return this.message.slice(e,this.offset())},t.prototype.parseLiteral=function(e,n){for(var i=this.clonePosition(),o="";;){var l=this.tryParseQuote(n);if(l){o+=l;continue}var u=this.tryParseUnquoted(e,n);if(u){o+=u;continue}var d=this.tryParseLeftAngleBracket();if(d){o+=d;continue}break}var f=_e(i,this.clonePosition());return{val:{type:Me.literal,value:o,location:f},err:null}},t.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!IL(this.peek()||0))?(this.bump(),"<"):null},t.prototype.tryParseQuote=function(e){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(e==="plural"||e==="selectordinal")break;return null;default:return null}this.bump();var n=[this.char()];for(this.bump();!this.isEOF();){var i=this.char();if(i===39)if(this.peek()===39)n.push(39),this.bump();else{this.bump();break}else n.push(i);this.bump()}return Wh.apply(void 0,n)},t.prototype.tryParseUnquoted=function(e,n){if(this.isEOF())return null;var i=this.char();return i===60||i===123||i===35&&(n==="plural"||n==="selectordinal")||i===125&&e>0?null:(this.bump(),Wh(i))},t.prototype.parseArgument=function(e,n){var i=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(ve.EXPECT_ARGUMENT_CLOSING_BRACE,_e(i,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(ve.EMPTY_ARGUMENT,_e(i,this.clonePosition()));var o=this.parseIdentifierIfPossible().value;if(!o)return this.error(ve.MALFORMED_ARGUMENT,_e(i,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(ve.EXPECT_ARGUMENT_CLOSING_BRACE,_e(i,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:Me.argument,value:o,location:_e(i,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(ve.EXPECT_ARGUMENT_CLOSING_BRACE,_e(i,this.clonePosition())):this.parseArgumentOptions(e,n,o,i);default:return this.error(ve.MALFORMED_ARGUMENT,_e(i,this.clonePosition()))}},t.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),n=this.offset(),i=Vh(this.message,n),o=n+i.length;this.bumpTo(o);var l=this.clonePosition(),u=_e(e,l);return{value:i,location:u}},t.prototype.parseArgumentOptions=function(e,n,i,o){var l,u=this.clonePosition(),d=this.parseIdentifierIfPossible().value,f=this.clonePosition();switch(d){case"":return this.error(ve.EXPECT_ARGUMENT_TYPE,_e(u,f));case"number":case"date":case"time":{this.bumpSpace();var p=null;if(this.bumpIf(",")){this.bumpSpace();var g=this.clonePosition(),y=this.parseSimpleArgStyleIfPossible();if(y.err)return y;var v=SL(y.val);if(v.length===0)return this.error(ve.EXPECT_ARGUMENT_STYLE,_e(this.clonePosition(),this.clonePosition()));var w=_e(g,this.clonePosition());p={style:v,styleLocation:w}}var S=this.tryParseArgumentClose(o);if(S.err)return S;var R=_e(o,this.clonePosition());if(p&&G_(p==null?void 0:p.style,"::",0)){var A=wL(p.style.slice(2));if(d==="number"){var y=this.parseNumberSkeletonFromString(A,p.styleLocation);return y.err?y:{val:{type:Me.number,value:i,location:R,style:y.val},err:null}}else{if(A.length===0)return this.error(ve.EXPECT_DATE_TIME_SKELETON,R);var N=A;this.locale&&(N=lL(A,this.locale));var v={type:as.dateTime,pattern:N,location:p.styleLocation,parsedOptions:this.shouldParseSkeletons?tL(N):{}},M=d==="date"?Me.date:Me.time;return{val:{type:M,value:i,location:R,style:v},err:null}}}return{val:{type:d==="number"?Me.number:d==="date"?Me.date:Me.time,value:i,location:R,style:(l=p==null?void 0:p.style)!==null&&l!==void 0?l:null},err:null}}case"plural":case"selectordinal":case"select":{var F=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(ve.EXPECT_SELECT_ARGUMENT_OPTIONS,_e(F,Z({},F)));this.bumpSpace();var j=this.parseIdentifierIfPossible(),L=0;if(d!=="select"&&j.value==="offset"){if(!this.bumpIf(":"))return this.error(ve.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,_e(this.clonePosition(),this.clonePosition()));this.bumpSpace();var y=this.tryParseDecimalInteger(ve.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,ve.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(y.err)return y;this.bumpSpace(),j=this.parseIdentifierIfPossible(),L=y.val}var V=this.tryParsePluralOrSelectOptions(e,d,n,j);if(V.err)return V;var S=this.tryParseArgumentClose(o);if(S.err)return S;var J=_e(o,this.clonePosition());return d==="select"?{val:{type:Me.select,value:i,options:q_(V.val),location:J},err:null}:{val:{type:Me.plural,value:i,options:q_(V.val),offset:L,pluralType:d==="plural"?"cardinal":"ordinal",location:J},err:null}}default:return this.error(ve.INVALID_ARGUMENT_TYPE,_e(u,f))}},t.prototype.tryParseArgumentClose=function(e){return this.isEOF()||this.char()!==125?this.error(ve.EXPECT_ARGUMENT_CLOSING_BRACE,_e(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},t.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,n=this.clonePosition();!this.isEOF();){var i=this.char();switch(i){case 39:{this.bump();var o=this.clonePosition();if(!this.bumpUntil("'"))return this.error(ve.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,_e(o,this.clonePosition()));this.bump();break}case 123:{e+=1,this.bump();break}case 125:{if(e>0)e-=1;else return{val:this.message.slice(n.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(n.offset,this.offset()),err:null}},t.prototype.parseNumberSkeletonFromString=function(e,n){var i=[];try{i=rL(e)}catch{return this.error(ve.INVALID_NUMBER_SKELETON,n)}return{val:{type:as.number,tokens:i,location:n,parsedOptions:this.shouldParseSkeletons?aL(i):{}},err:null}},t.prototype.tryParsePluralOrSelectOptions=function(e,n,i,o){for(var l,u=!1,d=[],f=new Set,p=o.value,g=o.location;;){if(p.length===0){var y=this.clonePosition();if(n!=="select"&&this.bumpIf("=")){var v=this.tryParseDecimalInteger(ve.EXPECT_PLURAL_ARGUMENT_SELECTOR,ve.INVALID_PLURAL_ARGUMENT_SELECTOR);if(v.err)return v;g=_e(y,this.clonePosition()),p=this.message.slice(y.offset,this.offset())}else break}if(f.has(p))return this.error(n==="select"?ve.DUPLICATE_SELECT_ARGUMENT_SELECTOR:ve.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,g);p==="other"&&(u=!0),this.bumpSpace();var w=this.clonePosition();if(!this.bumpIf("{"))return this.error(n==="select"?ve.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:ve.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,_e(this.clonePosition(),this.clonePosition()));var S=this.parseMessage(e+1,n,i);if(S.err)return S;var R=this.tryParseArgumentClose(w);if(R.err)return R;d.push([p,{value:S.val,location:_e(w,this.clonePosition())}]),f.add(p),this.bumpSpace(),l=this.parseIdentifierIfPossible(),p=l.value,g=l.location}return d.length===0?this.error(n==="select"?ve.EXPECT_SELECT_ARGUMENT_SELECTOR:ve.EXPECT_PLURAL_ARGUMENT_SELECTOR,_e(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!u?this.error(ve.MISSING_OTHER_CLAUSE,_e(this.clonePosition(),this.clonePosition())):{val:d,err:null}},t.prototype.tryParseDecimalInteger=function(e,n){var i=1,o=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(i=-1);for(var l=!1,u=0;!this.isEOF();){var d=this.char();if(d>=48&&d<=57)l=!0,u=u*10+(d-48),this.bump();else break}var f=_e(o,this.clonePosition());return l?(u*=i,yL(u)?{val:u,err:null}:this.error(n,f)):this.error(e,f)},t.prototype.offset=function(){return this.position.offset},t.prototype.isEOF=function(){return this.offset()===this.message.length},t.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},t.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var n=dw(this.message,e);if(n===void 0)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return n},t.prototype.error=function(e,n){return{val:null,err:{kind:e,message:this.message,location:n}}},t.prototype.bump=function(){if(!this.isEOF()){var e=this.char();e===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},t.prototype.bumpIf=function(e){if(G_(this.message,e,this.offset())){for(var n=0;n<e.length;n++)this.bump();return!0}return!1},t.prototype.bumpUntil=function(e){var n=this.offset(),i=this.message.indexOf(e,n);return i>=0?(this.bumpTo(i),!0):(this.bumpTo(this.message.length),!1)},t.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var n=this.offset();if(n===e)break;if(n>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},t.prototype.bumpSpace=function(){for(;!this.isEOF()&&fw(this.char());)this.bump()},t.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),n=this.offset(),i=this.message.charCodeAt(n+(e>=65536?2:1));return i??null},t}();function $h(t){return t>=97&&t<=122||t>=65&&t<=90}function IL(t){return $h(t)||t===47}function TL(t){return t===45||t===46||t>=48&&t<=57||t===95||t>=97&&t<=122||t>=65&&t<=90||t==183||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8255&&t<=8256||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}function fw(t){return t>=9&&t<=13||t===32||t===133||t>=8206&&t<=8207||t===8232||t===8233}function xL(t){return t>=33&&t<=35||t===36||t>=37&&t<=39||t===40||t===41||t===42||t===43||t===44||t===45||t>=46&&t<=47||t>=58&&t<=59||t>=60&&t<=62||t>=63&&t<=64||t===91||t===92||t===93||t===94||t===96||t===123||t===124||t===125||t===126||t===161||t>=162&&t<=165||t===166||t===167||t===169||t===171||t===172||t===174||t===176||t===177||t===182||t===187||t===191||t===215||t===247||t>=8208&&t<=8213||t>=8214&&t<=8215||t===8216||t===8217||t===8218||t>=8219&&t<=8220||t===8221||t===8222||t===8223||t>=8224&&t<=8231||t>=8240&&t<=8248||t===8249||t===8250||t>=8251&&t<=8254||t>=8257&&t<=8259||t===8260||t===8261||t===8262||t>=8263&&t<=8273||t===8274||t===8275||t>=8277&&t<=8286||t>=8592&&t<=8596||t>=8597&&t<=8601||t>=8602&&t<=8603||t>=8604&&t<=8607||t===8608||t>=8609&&t<=8610||t===8611||t>=8612&&t<=8613||t===8614||t>=8615&&t<=8621||t===8622||t>=8623&&t<=8653||t>=8654&&t<=8655||t>=8656&&t<=8657||t===8658||t===8659||t===8660||t>=8661&&t<=8691||t>=8692&&t<=8959||t>=8960&&t<=8967||t===8968||t===8969||t===8970||t===8971||t>=8972&&t<=8991||t>=8992&&t<=8993||t>=8994&&t<=9e3||t===9001||t===9002||t>=9003&&t<=9083||t===9084||t>=9085&&t<=9114||t>=9115&&t<=9139||t>=9140&&t<=9179||t>=9180&&t<=9185||t>=9186&&t<=9254||t>=9255&&t<=9279||t>=9280&&t<=9290||t>=9291&&t<=9311||t>=9472&&t<=9654||t===9655||t>=9656&&t<=9664||t===9665||t>=9666&&t<=9719||t>=9720&&t<=9727||t>=9728&&t<=9838||t===9839||t>=9840&&t<=10087||t===10088||t===10089||t===10090||t===10091||t===10092||t===10093||t===10094||t===10095||t===10096||t===10097||t===10098||t===10099||t===10100||t===10101||t>=10132&&t<=10175||t>=10176&&t<=10180||t===10181||t===10182||t>=10183&&t<=10213||t===10214||t===10215||t===10216||t===10217||t===10218||t===10219||t===10220||t===10221||t===10222||t===10223||t>=10224&&t<=10239||t>=10240&&t<=10495||t>=10496&&t<=10626||t===10627||t===10628||t===10629||t===10630||t===10631||t===10632||t===10633||t===10634||t===10635||t===10636||t===10637||t===10638||t===10639||t===10640||t===10641||t===10642||t===10643||t===10644||t===10645||t===10646||t===10647||t===10648||t>=10649&&t<=10711||t===10712||t===10713||t===10714||t===10715||t>=10716&&t<=10747||t===10748||t===10749||t>=10750&&t<=11007||t>=11008&&t<=11055||t>=11056&&t<=11076||t>=11077&&t<=11078||t>=11079&&t<=11084||t>=11085&&t<=11123||t>=11124&&t<=11125||t>=11126&&t<=11157||t===11158||t>=11159&&t<=11263||t>=11776&&t<=11777||t===11778||t===11779||t===11780||t===11781||t>=11782&&t<=11784||t===11785||t===11786||t===11787||t===11788||t===11789||t>=11790&&t<=11798||t===11799||t>=11800&&t<=11801||t===11802||t===11803||t===11804||t===11805||t>=11806&&t<=11807||t===11808||t===11809||t===11810||t===11811||t===11812||t===11813||t===11814||t===11815||t===11816||t===11817||t>=11818&&t<=11822||t===11823||t>=11824&&t<=11833||t>=11834&&t<=11835||t>=11836&&t<=11839||t===11840||t===11841||t===11842||t>=11843&&t<=11855||t>=11856&&t<=11857||t===11858||t>=11859&&t<=11903||t>=12289&&t<=12291||t===12296||t===12297||t===12298||t===12299||t===12300||t===12301||t===12302||t===12303||t===12304||t===12305||t>=12306&&t<=12307||t===12308||t===12309||t===12310||t===12311||t===12312||t===12313||t===12314||t===12315||t===12316||t===12317||t>=12318&&t<=12319||t===12320||t===12336||t===64830||t===64831||t>=65093&&t<=65094}function Gh(t){t.forEach(function(e){if(delete e.location,rw(e)||iw(e))for(var n in e.options)delete e.options[n].location,Gh(e.options[n].value);else ew(e)&&ow(e.style)||(tw(e)||nw(e))&&jh(e.style)?delete e.style.location:sw(e)&&Gh(e.children)})}function RL(t,e){e===void 0&&(e={}),e=Z({shouldParseSkeletons:!0,requiresOtherClause:!0},e);var n=new CL(t,e).parse();if(n.err){var i=SyntaxError(ve[n.err.kind]);throw i.location=n.err.location,i.originalMessage=n.err.message,i}return e!=null&&e.captureLocation||Gh(n.val),n.val}var Tn;(function(t){t.MISSING_VALUE="MISSING_VALUE",t.INVALID_VALUE="INVALID_VALUE",t.MISSING_INTL_API="MISSING_INTL_API"})(Tn||(Tn={}));var Ur=function(t){Qt(e,t);function e(n,i,o){var l=t.call(this,n)||this;return l.code=i,l.originalMessage=o,l}return e.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},e}(Error),Q_=function(t){Qt(e,t);function e(n,i,o,l){return t.call(this,'Invalid values for "'.concat(n,'": "').concat(i,'". Options are "').concat(Object.keys(o).join('", "'),'"'),Tn.INVALID_VALUE,l)||this}return e}(Ur),PL=function(t){Qt(e,t);function e(n,i,o){return t.call(this,'Value for "'.concat(n,'" must be of type ').concat(i),Tn.INVALID_VALUE,o)||this}return e}(Ur),kL=function(t){Qt(e,t);function e(n,i){return t.call(this,'The intl string context variable "'.concat(n,'" was not provided to the string "').concat(i,'"'),Tn.MISSING_VALUE,i)||this}return e}(Ur),_t;(function(t){t[t.literal=0]="literal",t[t.object=1]="object"})(_t||(_t={}));function NL(t){return t.length<2?t:t.reduce(function(e,n){var i=e[e.length-1];return!i||i.type!==_t.literal||n.type!==_t.literal?e.push(n):i.value+=n.value,e},[])}function pw(t){return typeof t=="function"}function Fl(t,e,n,i,o,l,u){if(t.length===1&&z_(t[0]))return[{type:_t.literal,value:t[0].value}];for(var d=[],f=0,p=t;f<p.length;f++){var g=p[f];if(z_(g)){d.push({type:_t.literal,value:g.value});continue}if(ZA(g)){typeof l=="number"&&d.push({type:_t.literal,value:n.getNumberFormat(e).format(l)});continue}var y=g.value;if(!(o&&y in o))throw new kL(y,u);var v=o[y];if(JA(g)){(!v||typeof v=="string"||typeof v=="number")&&(v=typeof v=="string"||typeof v=="number"?String(v):""),d.push({type:typeof v=="string"?_t.literal:_t.object,value:v});continue}if(tw(g)){var w=typeof g.style=="string"?i.date[g.style]:jh(g.style)?g.style.parsedOptions:void 0;d.push({type:_t.literal,value:n.getDateTimeFormat(e,w).format(v)});continue}if(nw(g)){var w=typeof g.style=="string"?i.time[g.style]:jh(g.style)?g.style.parsedOptions:i.time.medium;d.push({type:_t.literal,value:n.getDateTimeFormat(e,w).format(v)});continue}if(ew(g)){var w=typeof g.style=="string"?i.number[g.style]:ow(g.style)?g.style.parsedOptions:void 0;w&&w.scale&&(v=v*(w.scale||1)),d.push({type:_t.literal,value:n.getNumberFormat(e,w).format(v)});continue}if(sw(g)){var S=g.children,R=g.value,A=o[R];if(!pw(A))throw new PL(R,"function",u);var N=Fl(S,e,n,i,o,l),M=A(N.map(function(L){return L.value}));Array.isArray(M)||(M=[M]),d.push.apply(d,M.map(function(L){return{type:typeof L=="string"?_t.literal:_t.object,value:L}}))}if(rw(g)){var F=g.options[v]||g.options.other;if(!F)throw new Q_(g.value,v,Object.keys(g.options),u);d.push.apply(d,Fl(F.value,e,n,i,o));continue}if(iw(g)){var F=g.options["=".concat(v)];if(!F){if(!Intl.PluralRules)throw new Ur(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Tn.MISSING_INTL_API,u);var j=n.getPluralRules(e,{type:g.pluralType}).select(v-(g.offset||0));F=g.options[j]||g.options.other}if(!F)throw new Q_(g.value,v,Object.keys(g.options),u);d.push.apply(d,Fl(F.value,e,n,i,o,v-(g.offset||0)));continue}}return NL(d)}function bL(t,e){return e?Z(Z(Z({},t||{}),e||{}),Object.keys(t).reduce(function(n,i){return n[i]=Z(Z({},t[i]),e[i]||{}),n},{})):t}function AL(t,e){return e?Object.keys(t).reduce(function(n,i){return n[i]=bL(t[i],e[i]),n},Z({},t)):t}function ih(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,n){t[e]=n}}}}}function LL(t){return t===void 0&&(t={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:En(function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return new((e=Intl.NumberFormat).bind.apply(e,Sn([void 0],n,!1)))},{cache:ih(t.number),strategy:wn.variadic}),getDateTimeFormat:En(function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return new((e=Intl.DateTimeFormat).bind.apply(e,Sn([void 0],n,!1)))},{cache:ih(t.dateTime),strategy:wn.variadic}),getPluralRules:En(function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return new((e=Intl.PluralRules).bind.apply(e,Sn([void 0],n,!1)))},{cache:ih(t.pluralRules),strategy:wn.variadic})}}var mw=function(){function t(e,n,i,o){n===void 0&&(n=t.defaultLocale);var l=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(f){var p=l.formatToParts(f);if(p.length===1)return p[0].value;var g=p.reduce(function(y,v){return!y.length||v.type!==_t.literal||typeof y[y.length-1]!="string"?y.push(v.value):y[y.length-1]+=v.value,y},[]);return g.length<=1?g[0]||"":g},this.formatToParts=function(f){return Fl(l.ast,l.locales,l.formatters,l.formats,f,void 0,l.message)},this.resolvedOptions=function(){var f;return{locale:((f=l.resolvedLocale)===null||f===void 0?void 0:f.toString())||Intl.NumberFormat.supportedLocalesOf(l.locales)[0]}},this.getAst=function(){return l.ast},this.locales=n,this.resolvedLocale=t.resolveLocale(n),typeof e=="string"){if(this.message=e,!t.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var u=o||{};u.formatters;var d=Gn(u,["formatters"]);this.ast=t.__parse(e,Z(Z({},d),{locale:this.resolvedLocale}))}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=AL(t.formats,i),this.formatters=o&&o.formatters||LL(this.formatterCache)}return Object.defineProperty(t,"defaultLocale",{get:function(){return t.memoizedDefaultLocale||(t.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),t.memoizedDefaultLocale},enumerable:!1,configurable:!0}),t.memoizedDefaultLocale=null,t.resolveLocale=function(e){if(!(typeof Intl.Locale>"u")){var n=Intl.NumberFormat.supportedLocalesOf(e);return n.length>0?new Intl.Locale(n[0]):new Intl.Locale(typeof e=="string"?e:e[0])}},t.__parse=RL,t.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},t}(),gi;(function(t){t.FORMAT_ERROR="FORMAT_ERROR",t.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",t.INVALID_CONFIG="INVALID_CONFIG",t.MISSING_DATA="MISSING_DATA",t.MISSING_TRANSLATION="MISSING_TRANSLATION"})(gi||(gi={}));var aa=function(t){Qt(e,t);function e(n,i,o){var l=this,u=o?o instanceof Error?o:new Error(String(o)):void 0;return l=t.call(this,"[@formatjs/intl Error ".concat(n,"] ").concat(i,`
`).concat(u?`
`.concat(u.message,`
`).concat(u.stack):""))||this,l.code=n,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(l,e),l}return e}(Error),OL=function(t){Qt(e,t);function e(n,i){return t.call(this,gi.UNSUPPORTED_FORMATTER,n,i)||this}return e}(aa),ML=function(t){Qt(e,t);function e(n,i){return t.call(this,gi.INVALID_CONFIG,n,i)||this}return e}(aa),Y_=function(t){Qt(e,t);function e(n,i){return t.call(this,gi.MISSING_DATA,n,i)||this}return e}(aa),Yt=function(t){Qt(e,t);function e(n,i,o){var l=t.call(this,gi.FORMAT_ERROR,"".concat(n,`
Locale: `).concat(i,`
`),o)||this;return l.locale=i,l}return e}(aa),sh=function(t){Qt(e,t);function e(n,i,o,l){var u=t.call(this,"".concat(n,`
MessageID: `).concat(o==null?void 0:o.id,`
Default Message: `).concat(o==null?void 0:o.defaultMessage,`
Description: `).concat(o==null?void 0:o.description,`
`),i,l)||this;return u.descriptor=o,u.locale=i,u}return e}(Yt),DL=function(t){Qt(e,t);function e(n,i){var o=t.call(this,gi.MISSING_TRANSLATION,'Missing message: "'.concat(n.id,'" for locale "').concat(i,'", using ').concat(n.defaultMessage?"default message (".concat(typeof n.defaultMessage=="string"?n.defaultMessage:n.defaultMessage.map(function(l){var u;return(u=l.value)!==null&&u!==void 0?u:JSON.stringify(l)}).join(),")"):"id"," as fallback."))||this;return o.descriptor=n,o}return e}(aa);function FL(t,e,n){if(n===void 0&&(n=Error),!t)throw new n(e)}function ys(t,e,n){return n===void 0&&(n={}),e.reduce(function(i,o){return o in t?i[o]=t[o]:o in n&&(i[o]=n[o]),i},{})}var UL=function(t){},HL=function(t){},gw={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:UL,onWarn:HL};function vw(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function Jr(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,n){t[e]=n}}}}}function BL(t){t===void 0&&(t=vw());var e=Intl.RelativeTimeFormat,n=Intl.ListFormat,i=Intl.DisplayNames,o=En(function(){for(var d,f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];return new((d=Intl.DateTimeFormat).bind.apply(d,Sn([void 0],f,!1)))},{cache:Jr(t.dateTime),strategy:wn.variadic}),l=En(function(){for(var d,f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];return new((d=Intl.NumberFormat).bind.apply(d,Sn([void 0],f,!1)))},{cache:Jr(t.number),strategy:wn.variadic}),u=En(function(){for(var d,f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];return new((d=Intl.PluralRules).bind.apply(d,Sn([void 0],f,!1)))},{cache:Jr(t.pluralRules),strategy:wn.variadic});return{getDateTimeFormat:o,getNumberFormat:l,getMessageFormat:En(function(d,f,p,g){return new mw(d,f,p,Z({formatters:{getNumberFormat:l,getDateTimeFormat:o,getPluralRules:u}},g||{}))},{cache:Jr(t.message),strategy:wn.variadic}),getRelativeTimeFormat:En(function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];return new(e.bind.apply(e,Sn([void 0],d,!1)))},{cache:Jr(t.relativeTime),strategy:wn.variadic}),getPluralRules:u,getListFormat:En(function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];return new(n.bind.apply(n,Sn([void 0],d,!1)))},{cache:Jr(t.list),strategy:wn.variadic}),getDisplayNames:En(function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];return new(i.bind.apply(i,Sn([void 0],d,!1)))},{cache:Jr(t.displayNames),strategy:wn.variadic})}}function sp(t,e,n,i){var o=t&&t[e],l;if(o&&(l=o[n]),l)return l;i(new OL("No ".concat(e," format named: ").concat(n)))}function Pl(t,e){return Object.keys(t).reduce(function(n,i){return n[i]=Z({timeZone:e},t[i]),n},{})}function X_(t,e){var n=Object.keys(Z(Z({},t),e));return n.reduce(function(i,o){return i[o]=Z(Z({},t[o]||{}),e[o]||{}),i},{})}function J_(t,e){if(!e)return t;var n=mw.formats;return Z(Z(Z({},n),t),{date:X_(Pl(n.date,e),Pl(t.date||{},e)),time:X_(Pl(n.time,e),Pl(t.time||{},e))})}var qh=function(t,e,n,i,o){var l=t.locale,u=t.formats,d=t.messages,f=t.defaultLocale,p=t.defaultFormats,g=t.fallbackOnEmptyString,y=t.onError,v=t.timeZone,w=t.defaultRichTextElements;n===void 0&&(n={id:""});var S=n.id,R=n.defaultMessage;FL(!!S,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.github.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.github.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.github.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var A=String(S),N=d&&Object.prototype.hasOwnProperty.call(d,A)&&d[A];if(Array.isArray(N)&&N.length===1&&N[0].type===Me.literal)return N[0].value;if(!i&&N&&typeof N=="string"&&!w)return N.replace(/'\{(.*?)\}'/gi,"{$1}");if(i=Z(Z({},w),i||{}),u=J_(u,v),p=J_(p,v),!N){if(g===!1&&N==="")return N;if((!R||l&&l.toLowerCase()!==f.toLowerCase())&&y(new DL(n,l)),R)try{var M=e.getMessageFormat(R,f,p,o);return M.format(i)}catch(F){return y(new sh('Error formatting default message for: "'.concat(A,'", rendering default message verbatim'),l,n,F)),typeof R=="string"?R:A}return A}try{var M=e.getMessageFormat(N,l,u,Z({formatters:e},o||{}));return M.format(i)}catch(F){y(new sh('Error formatting message: "'.concat(A,'", using ').concat(R?"default message":"id"," as fallback."),l,n,F))}if(R)try{var M=e.getMessageFormat(R,f,p,o);return M.format(i)}catch(F){y(new sh('Error formatting the default message for: "'.concat(A,'", rendering message verbatim'),l,n,F))}return typeof N=="string"?N:typeof R=="string"?R:A},jL=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function la(t,e,n,i){var o=t.locale,l=t.formats,u=t.onError,d=t.timeZone;i===void 0&&(i={});var f=i.format,p=Z(Z({},d&&{timeZone:d}),f&&sp(l,e,f,u)),g=ys(i,jL,p);return e==="time"&&!g.hour&&!g.minute&&!g.second&&!g.timeStyle&&!g.dateStyle&&(g=Z(Z({},g),{hour:"numeric",minute:"numeric"})),n(o,g)}function zL(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=n[0],l=n[1],u=l===void 0?{}:l,d=typeof o=="string"?new Date(o||0):o;try{return la(t,"date",e,u).format(d)}catch(f){t.onError(new Yt("Error formatting date.",t.locale,f))}return String(d)}function WL(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=n[0],l=n[1],u=l===void 0?{}:l,d=typeof o=="string"?new Date(o||0):o;try{return la(t,"time",e,u).format(d)}catch(f){t.onError(new Yt("Error formatting time.",t.locale,f))}return String(d)}function VL(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=n[0],l=n[1],u=n[2],d=u===void 0?{}:u,f=typeof o=="string"?new Date(o||0):o,p=typeof l=="string"?new Date(l||0):l;try{return la(t,"dateTimeRange",e,d).formatRange(f,p)}catch(g){t.onError(new Yt("Error formatting date time range.",t.locale,g))}return String(f)}function $L(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=n[0],l=n[1],u=l===void 0?{}:l,d=typeof o=="string"?new Date(o||0):o;try{return la(t,"date",e,u).formatToParts(d)}catch(f){t.onError(new Yt("Error formatting date.",t.locale,f))}return[]}function GL(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=n[0],l=n[1],u=l===void 0?{}:l,d=typeof o=="string"?new Date(o||0):o;try{return la(t,"time",e,u).formatToParts(d)}catch(f){t.onError(new Yt("Error formatting time.",t.locale,f))}return[]}var qL=["style","type","fallback","languageDisplay"];function KL(t,e,n,i){var o=t.locale,l=t.onError,u=Intl.DisplayNames;u||l(new Ur(`Intl.DisplayNames is not available in this environment.
Try polyfilling it using "@formatjs/intl-displaynames"
`,Tn.MISSING_INTL_API));var d=ys(i,qL);try{return e(o,d).of(n)}catch(f){l(new Yt("Error formatting display name.",o,f))}}var QL=["type","style"],Z_=Date.now();function YL(t){return"".concat(Z_,"_").concat(t,"_").concat(Z_)}function XL(t,e,n,i){i===void 0&&(i={});var o=_w(t,e,n,i).reduce(function(l,u){var d=u.value;return typeof d!="string"?l.push(d):typeof l[l.length-1]=="string"?l[l.length-1]+=d:l.push(d),l},[]);return o.length===1?o[0]:o.length===0?"":o}function _w(t,e,n,i){var o=t.locale,l=t.onError;i===void 0&&(i={});var u=Intl.ListFormat;u||l(new Ur(`Intl.ListFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-listformat"
`,Tn.MISSING_INTL_API));var d=ys(i,QL);try{var f={},p=n.map(function(g,y){if(typeof g=="object"){var v=YL(y);return f[v]=g,v}return String(g)});return e(o,d).formatToParts(p).map(function(g){return g.type==="literal"?g:Z(Z({},g),{value:f[g.value]||g.value})})}catch(g){l(new Yt("Error formatting list.",o,g))}return n}var JL=["type"];function ZL(t,e,n,i){var o=t.locale,l=t.onError;i===void 0&&(i={}),Intl.PluralRules||l(new Ur(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Tn.MISSING_INTL_API));var u=ys(i,JL);try{return e(o,u).select(n)}catch(d){l(new Yt("Error formatting plural.",o,d))}return"other"}var eO=["numeric","style"];function tO(t,e,n){var i=t.locale,o=t.formats,l=t.onError;n===void 0&&(n={});var u=n.format,d=!!u&&sp(o,"relative",u,l)||{},f=ys(n,eO,d);return e(i,f)}function nO(t,e,n,i,o){o===void 0&&(o={}),i||(i="second");var l=Intl.RelativeTimeFormat;l||t.onError(new Ur(`Intl.RelativeTimeFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-relativetimeformat"
`,Tn.MISSING_INTL_API));try{return tO(t,e,o).format(n,i)}catch(u){t.onError(new Yt("Error formatting relative time.",t.locale,u))}return String(n)}var rO=["style","currency","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem","trailingZeroDisplay","roundingPriority","roundingIncrement","roundingMode"];function yw(t,e,n){var i=t.locale,o=t.formats,l=t.onError;n===void 0&&(n={});var u=n.format,d=u&&sp(o,"number",u,l)||{},f=ys(n,rO,d);return e(i,f)}function iO(t,e,n,i){i===void 0&&(i={});try{return yw(t,e,i).format(n)}catch(o){t.onError(new Yt("Error formatting number.",t.locale,o))}return String(n)}function sO(t,e,n,i){i===void 0&&(i={});try{return yw(t,e,i).formatToParts(n)}catch(o){t.onError(new Yt("Error formatting number.",t.locale,o))}return[]}function oO(t){var e=t?t[Object.keys(t)[0]]:void 0;return typeof e=="string"}function aO(t){t.onWarn&&t.defaultRichTextElements&&oO(t.messages||{})&&t.onWarn(`[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. 
Please consider using "@formatjs/cli" to pre-compile your messages for performance.
For more details see https://formatjs.github.io/docs/getting-started/message-distribution`)}function lO(t,e){var n=BL(e),i=Z(Z({},gw),t),o=i.locale,l=i.defaultLocale,u=i.onError;return o?!Intl.NumberFormat.supportedLocalesOf(o).length&&u?u(new Y_('Missing locale data for locale: "'.concat(o,'" in Intl.NumberFormat. Using default locale: "').concat(l,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(o).length&&u&&u(new Y_('Missing locale data for locale: "'.concat(o,'" in Intl.DateTimeFormat. Using default locale: "').concat(l,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):(u&&u(new ML('"locale" was not configured, using "'.concat(l,'" as fallback. See https://formatjs.github.io/docs/react-intl/api#intlshape for more details'))),i.locale=i.defaultLocale||"en"),aO(i),Z(Z({},i),{formatters:n,formatNumber:iO.bind(null,i,n.getNumberFormat),formatNumberToParts:sO.bind(null,i,n.getNumberFormat),formatRelativeTime:nO.bind(null,i,n.getRelativeTimeFormat),formatDate:zL.bind(null,i,n.getDateTimeFormat),formatDateToParts:$L.bind(null,i,n.getDateTimeFormat),formatTime:WL.bind(null,i,n.getDateTimeFormat),formatDateTimeRange:VL.bind(null,i,n.getDateTimeFormat),formatTimeToParts:GL.bind(null,i,n.getDateTimeFormat),formatPlural:ZL.bind(null,i,n.getPluralRules),formatMessage:qh.bind(null,i,n),$t:qh.bind(null,i,n),formatList:XL.bind(null,i,n.getListFormat),formatListToParts:_w.bind(null,i,n.getListFormat),formatDisplayName:KL.bind(null,i,n.getDisplayNames)})}function uO(t,e,n){if(n===void 0&&(n=Error),!t)throw new n(e)}function Ew(t){uO(t,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var ww=Z(Z({},gw),{textComponent:P.Fragment}),cO={key:42},dO=function(t){return P.isValidElement(t)?P.createElement(P.Fragment,cO,t):t},hO=function(t){var e;return(e=P.Children.map(t,dO))!==null&&e!==void 0?e:[]};function fO(t){return function(e){return t(P.Children.toArray(e))}}function Kh(t,e){if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t),i=Object.keys(e),o=n.length;if(i.length!==o)return!1;for(var l=0;l<o;l++){var u=n[l];if(t[u]!==e[u]||!Object.prototype.hasOwnProperty.call(e,u))return!1}return!0}var oh={exports:{}},Te={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function pO(){if(ey)return Te;ey=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,l=t?Symbol.for("react.profiler"):60114,u=t?Symbol.for("react.provider"):60109,d=t?Symbol.for("react.context"):60110,f=t?Symbol.for("react.async_mode"):60111,p=t?Symbol.for("react.concurrent_mode"):60111,g=t?Symbol.for("react.forward_ref"):60112,y=t?Symbol.for("react.suspense"):60113,v=t?Symbol.for("react.suspense_list"):60120,w=t?Symbol.for("react.memo"):60115,S=t?Symbol.for("react.lazy"):60116,R=t?Symbol.for("react.block"):60121,A=t?Symbol.for("react.fundamental"):60117,N=t?Symbol.for("react.responder"):60118,M=t?Symbol.for("react.scope"):60119;function F(L){if(typeof L=="object"&&L!==null){var V=L.$$typeof;switch(V){case e:switch(L=L.type,L){case f:case p:case i:case l:case o:case y:return L;default:switch(L=L&&L.$$typeof,L){case d:case g:case S:case w:case u:return L;default:return V}}case n:return V}}}function j(L){return F(L)===p}return Te.AsyncMode=f,Te.ConcurrentMode=p,Te.ContextConsumer=d,Te.ContextProvider=u,Te.Element=e,Te.ForwardRef=g,Te.Fragment=i,Te.Lazy=S,Te.Memo=w,Te.Portal=n,Te.Profiler=l,Te.StrictMode=o,Te.Suspense=y,Te.isAsyncMode=function(L){return j(L)||F(L)===f},Te.isConcurrentMode=j,Te.isContextConsumer=function(L){return F(L)===d},Te.isContextProvider=function(L){return F(L)===u},Te.isElement=function(L){return typeof L=="object"&&L!==null&&L.$$typeof===e},Te.isForwardRef=function(L){return F(L)===g},Te.isFragment=function(L){return F(L)===i},Te.isLazy=function(L){return F(L)===S},Te.isMemo=function(L){return F(L)===w},Te.isPortal=function(L){return F(L)===n},Te.isProfiler=function(L){return F(L)===l},Te.isStrictMode=function(L){return F(L)===o},Te.isSuspense=function(L){return F(L)===y},Te.isValidElementType=function(L){return typeof L=="string"||typeof L=="function"||L===i||L===p||L===l||L===o||L===y||L===v||typeof L=="object"&&L!==null&&(L.$$typeof===S||L.$$typeof===w||L.$$typeof===u||L.$$typeof===d||L.$$typeof===g||L.$$typeof===A||L.$$typeof===N||L.$$typeof===M||L.$$typeof===R)},Te.typeOf=F,Te}var ty;function mO(){return ty||(ty=1,oh.exports=pO()),oh.exports}var ah,ny;function gO(){if(ny)return ah;ny=1;var t=mO(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[t.ForwardRef]=i,l[t.Memo]=o;function u(S){return t.isMemo(S)?o:l[S.$$typeof]||e}var d=Object.defineProperty,f=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,v=Object.prototype;function w(S,R,A){if(typeof R!="string"){if(v){var N=y(R);N&&N!==v&&w(S,N,A)}var M=f(R);p&&(M=M.concat(p(R)));for(var F=u(S),j=u(R),L=0;L<M.length;++L){var V=M[L];if(!n[V]&&!(A&&A[V])&&!(j&&j[V])&&!(F&&F[V])){var J=g(R,V);try{d(S,V,J)}catch{}}}}return S}return ah=w,ah}gO();var op=typeof window<"u"&&!window.__REACT_INTL_BYPASS_GLOBAL_CONTEXT__?window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=P.createContext(null)):P.createContext(null);op.Consumer;var vO=op.Provider,_O=vO,yO=op;function Es(){var t=P.useContext(yO);return Ew(t),t}var Qh;(function(t){t.formatDate="FormattedDate",t.formatTime="FormattedTime",t.formatNumber="FormattedNumber",t.formatList="FormattedList",t.formatDisplayName="FormattedDisplayName"})(Qh||(Qh={}));var Yh;(function(t){t.formatDate="FormattedDateParts",t.formatTime="FormattedTimeParts",t.formatNumber="FormattedNumberParts",t.formatList="FormattedListParts"})(Yh||(Yh={}));function Sw(t){var e=function(n){var i=Es(),o=n.value,l=n.children,u=Gn(n,["value","children"]),d=typeof o=="string"?new Date(o||0):o,f=t==="formatDate"?i.formatDateToParts(d,u):i.formatTimeToParts(d,u);return l(f)};return e.displayName=Yh[t],e}function ua(t){var e=function(n){var i=Es(),o=n.value,l=n.children,u=Gn(n,["value","children"]),d=i[t](o,u);if(typeof l=="function")return l(d);var f=i.textComponent||P.Fragment;return P.createElement(f,null,d)};return e.displayName=Qh[t],e}function Cw(t){return t&&Object.keys(t).reduce(function(e,n){var i=t[n];return e[n]=pw(i)?fO(i):i,e},{})}var ry=function(t,e,n,i){for(var o=[],l=4;l<arguments.length;l++)o[l-4]=arguments[l];var u=Cw(i),d=qh.apply(void 0,Sn([t,e,n,u],o,!1));return Array.isArray(d)?hO(d):d},iy=function(t,e){var n=t.defaultRichTextElements,i=Gn(t,["defaultRichTextElements"]),o=Cw(n),l=lO(Z(Z(Z({},ww),i),{defaultRichTextElements:o}),e),u={locale:l.locale,timeZone:l.timeZone,fallbackOnEmptyString:l.fallbackOnEmptyString,formats:l.formats,defaultLocale:l.defaultLocale,defaultFormats:l.defaultFormats,messages:l.messages,onError:l.onError,defaultRichTextElements:o};return Z(Z({},l),{formatMessage:ry.bind(null,u,l.formatters),$t:ry.bind(null,u,l.formatters)})};function EO(t,e){var n=t.values,i=Gn(t,["values"]),o=e.values,l=Gn(e,["values"]);return Kh(o,n)&&Kh(i,l)}function Iw(t){var e=Es(),n=e.formatMessage,i=e.textComponent,o=i===void 0?P.Fragment:i,l=t.id,u=t.description,d=t.defaultMessage,f=t.values,p=t.children,g=t.tagName,y=g===void 0?o:g,v=t.ignoreTag,w={id:l,description:u,defaultMessage:d},S=n(w,f,{ignoreTag:v});return typeof p=="function"?p(Array.isArray(S)?S:[S]):y?P.createElement(y,null,S):P.createElement(P.Fragment,null,S)}Iw.displayName="FormattedMessage";var ie=P.memo(Iw,EO);ie.displayName="MemoizedFormattedMessage";function lh(t){return{locale:t.locale,timeZone:t.timeZone,fallbackOnEmptyString:t.fallbackOnEmptyString,formats:t.formats,textComponent:t.textComponent,messages:t.messages,defaultLocale:t.defaultLocale,defaultFormats:t.defaultFormats,onError:t.onError,onWarn:t.onWarn,wrapRichTextChunksInFragment:t.wrapRichTextChunksInFragment,defaultRichTextElements:t.defaultRichTextElements}}var wO=function(t){Qt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cache=vw(),n.state={cache:n.cache,intl:iy(lh(n.props),n.cache),prevConfig:lh(n.props)},n}return e.getDerivedStateFromProps=function(n,i){var o=i.prevConfig,l=i.cache,u=lh(n);return Kh(o,u)?null:{intl:iy(u,l),prevConfig:u}},e.prototype.render=function(){return Ew(this.state.intl),P.createElement(_O,{value:this.state.intl},this.props.children)},e.displayName="IntlProvider",e.defaultProps=ww,e}(P.PureComponent);ua("formatDate");ua("formatTime");ua("formatNumber");ua("formatList");ua("formatDisplayName");Sw("formatDate");Sw("formatTime");const SO=()=>{const{user:t,roles:e}=fi(d=>d.auth),n=fi(d=>d.i18n.locale),i=Nu(),o=$o(),l=async()=>{try{await ss.signOut(),i(HA()),o("/login")}catch(d){console.error("Error al cerrar sesin:",d)}},u=d=>{i(WA(d.target.value))};return C.jsx("nav",{className:"navbar",children:C.jsxs("ul",{className:"nav-menu",children:[t&&e&&e.includes(Cr.USER)&&C.jsx("li",{children:C.jsx(ni,{to:"/dashboard2",children:C.jsx(ie,{id:"navbar.myIncidents"})})}),t&&e&&e.includes(Cr.ADMIN)&&C.jsxs(C.Fragment,{children:[C.jsx("li",{children:C.jsx(ni,{to:"/dashboard",children:C.jsx(ie,{id:"navbar.incidents"})})}),C.jsx("li",{children:C.jsx(ni,{to:"/admin",children:C.jsx(ie,{id:"navbar.userRoles"})})})]}),!t&&C.jsx("li",{children:C.jsx(ni,{to:"/login",children:C.jsx(ie,{id:"navbar.login"})})}),!t&&C.jsx("li",{children:C.jsx(ni,{to:"/register",children:C.jsx(ie,{id:"navbar.register"})})}),t&&C.jsxs(C.Fragment,{children:[C.jsx("li",{children:C.jsxs("select",{value:n,onChange:u,className:"ml-4 p-1 rounded bg-gray-700 text-white border border-gray-600",children:[C.jsx("option",{value:"es",children:"Espaol"}),C.jsx("option",{value:"en",children:"English"})]})}),C.jsx("li",{children:C.jsx("button",{onClick:l,children:C.jsx(ie,{id:"navbar.logout"})})})]})]})})},sy=({children:t})=>{const{user:e,roles:n,isLoading:i}=fi(o=>o.auth);return i?C.jsx("div",{children:"Cargando autenticacin..."}):!e||!n||!n.includes(Cr.ADMIN)?C.jsx(vy,{to:"/",replace:!0}):C.jsx(C.Fragment,{children:t})},CO=({children:t})=>{const{user:e,isLoading:n}=fi(i=>i.auth);return n?C.jsx("div",{children:"Cargando autenticacin..."}):e?t:C.jsx(vy,{to:"/login",replace:!0})},IO=()=>{const[t,e]=P.useState(""),[n,i]=P.useState(""),[o,l]=P.useState(""),u=$o(),d=Nu(),f=Es(),p=async g=>{g.preventDefault(),l(""),d(Dn(null)),d(si(!0));try{const y=await ss.signIn(t,n);console.log("Usuario autenticado:",y.user),u("/")}catch(y){console.error("Error al iniciar sesin:",y),l(y.message),d(Dn(y.message))}finally{d(si(!1))}};return C.jsxs("form",{onSubmit:p,children:[C.jsx("h2",{children:C.jsx(ie,{id:"login.title"})}),C.jsx("input",{type:"email",placeholder:f.formatMessage({id:"login.placeholder.email"}),value:t,onChange:g=>e(g.target.value)}),C.jsx("input",{type:"password",placeholder:f.formatMessage({id:"login.placeholder.password"}),value:n,onChange:g=>i(g.target.value)}),C.jsx("button",{type:"submit",children:C.jsx(ie,{id:"login.button.login"})}),o&&C.jsx("p",{className:"error-message",children:o})," "]})},TO=()=>{const[t,e]=P.useState(""),[n,i]=P.useState(""),[o,l]=P.useState(""),[u,d]=P.useState(""),f=$o(),p=Nu(),g=Es(),y=async v=>{v.preventDefault(),l(""),d(""),p(Dn(null)),p(si(!0));try{const w=await ss.signUp(t,n);console.log("Usuario registrado:",w.user),await ss.setUserRoles(w.user.uid,{email:w.user.email,roles:{admin:!1}}),d(g.formatMessage({id:"register.successMessage"})),setTimeout(()=>{f("/")},2e3)}catch(w){console.error("Error al registrarse:",w),l(w.message),p(Dn(w.message))}finally{p(si(!1))}};return C.jsxs("form",{onSubmit:y,children:[C.jsx("h2",{children:C.jsx(ie,{id:"register.title"})}),C.jsx("input",{type:"email",placeholder:g.formatMessage({id:"register.placeholder.email"}),value:t,onChange:v=>e(v.target.value)}),C.jsx("input",{type:"password",placeholder:g.formatMessage({id:"register.placeholder.password"}),value:n,onChange:v=>i(v.target.value)}),C.jsx("button",{type:"submit",children:C.jsx(ie,{id:"register.button.register"})}),o&&C.jsx("p",{className:"error-message",children:o})," ",u&&C.jsx("p",{className:"success-message",children:u})]})};function oy(){return C.jsx(C.Fragment,{children:C.jsx("div",{children:C.jsx(ie,{id:"welcome.message"})})})}class xO{constructor(){$i(this,"levels");$i(this,"currentLevel");this.levels=["debug","info","warn","error"],this.currentLevel="debug"}setLevel(e){this.levels.includes(e)?this.currentLevel=e:console.error(`Nivel de log no vlido: ${e}`)}log(e,n){const i=this.levels.indexOf(e),o=this.levels.indexOf(this.currentLevel);if(i>=o){const l=new Date().toISOString();console[e](`[${e.toUpperCase()}] ${l}: ${n}`)}}debug(e){this.log("debug",e)}info(e){this.log("info",e)}warn(e){this.log("warn",e)}error(e){this.log("error",e)}}const et=new xO,RO=({incident:t,onIncidentUpdated:e,onIncidentClick:n})=>{const i=async()=>{const o=cn(Gt),l=un(o,`incidents/${t.id}`);try{await Pu(l,{status:!1}),et.info("Incident new status Closed"),e()}catch(u){et.error("Error closing incident:"+u)}};return C.jsx(C.Fragment,{children:C.jsxs("div",{className:"incident-item",children:[t.status?C.jsxs("div",{className:"incident-id",onClick:()=>n(t),style:{cursor:"pointer"},children:["INC",t.id]}):C.jsxs("div",{className:"incident-id-close",onClick:()=>n(t),style:{cursor:"pointer"},children:["INC",t.id]}),C.jsx("div",{className:"incident-title",onClick:()=>n(t),style:{cursor:"pointer"},children:t.title}),C.jsx("div",{className:"incident-path",onClick:()=>n(t),style:{cursor:"pointer"},children:t.path}),C.jsx("div",{className:"incident-assigned",onClick:()=>n(t),style:{cursor:"pointer"},children:t.assignedUser}),C.jsx("div",{className:"incident-date",onClick:()=>n(t),style:{cursor:"pointer"},children:t.fecha}),C.jsx("div",{className:"incident-action",children:t.status?C.jsx("button",{className:"close-incident-button",onClick:i,children:C.jsx(ie,{id:"incidentItem.closeButton"})}):C.jsx("span",{className:"incident-closed",children:C.jsx(ie,{id:"incidentItem.closedStatus"})})})]})})},PO=()=>{const[t,e]=P.useState([]),[n,i]=P.useState(!1),[o,l]=P.useState(""),[u,d]=P.useState(""),[f,p]=P.useState(""),[g,y]=P.useState([]),[v,w]=P.useState(!0),[S,R]=P.useState(!0),[A,N]=P.useState(null),[M,F]=P.useState(!1),[j,L]=P.useState(!1),[V,J]=P.useState(null),[ce,te]=P.useState(""),Ee=Es(),St=()=>{et.info("Open create Modal"),i(!0)},pt=()=>{et.info("Close create Modal"),i(!1),l(""),d(""),p("")},mt=$=>{et.info("Open edit Modal"),J($),L(!0)},Ct=()=>{et.info("Close edit Modal"),L(!1),J(null)},It=$=>{const{name:G,value:x}=$.target;switch(G){case"title":l(x);break;case"path":d(x);break;case"assignedUser":p(x);break}},ut=async()=>{if(o&&u&&f){const $=cn(Gt),G=un($,"incidents"),x={fecha:new Date().toLocaleString("es-ES"),assignedUser:f,title:o,path:u,status:!0};try{await lb(G,x),et.info("Adding new Incident"),pt(),F(D=>!D)}catch(D){et.error("Error adding incident:"+D),N("Error al agregar el incidente.")}}else et.info("Missing param"),alert(Ee.formatMessage({id:"incidentList.createModal.missingFieldsAlert"}))},De=()=>{et.info("Refresh list"),F($=>!$)},q=async()=>{if(V){const $=cn(Gt),G=un($,`incidents/${V.id}`);try{const x={title:V.title,path:V.path,assignedUser:V.assignedUser};await Pu(G,x),et.info("Update Incident "+x.title),Ct(),F(D=>!D)}catch(x){et.error("Error updating incident:"+x),N("Error al actualizar el incidente.")}}};return P.useEffect(()=>{const $=async()=>{w(!0);const x=cn(Gt),D=un(x,"incidents"),oe=ME(D,OE("fecha"));try{const se=await jo(oe);if(se.exists()){const he=se.val(),de=Object.keys(he).map(Ce=>({id:Ce,...he[Ce]})).sort((Ce,Ie)=>{const ke=G(Ce.fecha);return G(Ie.fecha).getTime()-ke.getTime()});et.info("Get Incidents: "+de),e(de)}else e([]),et.warn("No incidents data available")}catch(se){et.error("Error fetching incidents:"+se),N("Error al cargar los incidentes.")}finally{w(!1)}},G=x=>{if(!x)return new Date(0);const D=x.split(", "),oe=D[0].split("/"),se=D[1].split(":");return new Date(parseInt(oe[2],10),parseInt(oe[1],10)-1,parseInt(oe[0],10),parseInt(se[0],10),parseInt(se[1],10),parseInt(se[2],10))};$()},[M]),P.useEffect(()=>{(async()=>{var D;R(!0);const G=cn(Gt),x=un(G,"users");try{const oe=await jo(x);if(oe.exists()){const se=oe.val(),he=[];for(const de in se)Object.prototype.hasOwnProperty.call(se,de)&&!((D=se[de].roles)!=null&&D.admin)&&he.push({uid:de,...se[de]});et.info("Get Users: "+he),y(he)}else y([]),et.warn("No users data available")}catch(oe){et.error("Error fetching users:"+oe),N("Error al cargar los usuarios.")}finally{R(!1)}})()},[]),v||S?C.jsx("div",{children:C.jsx(ie,{id:"common.loading"})}):A?C.jsxs("div",{children:[C.jsx(ie,{id:"common.errorPrefix"})," ",A]}):C.jsxs("div",{className:"incident-list-container",children:[C.jsxs("div",{className:"incident-list-header",children:[C.jsxs("div",{className:"search-input-wrapper",children:[C.jsx("svg",{className:"search-icon","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:C.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-2-2m0-7a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z"})}),C.jsx("input",{type:"text",className:"search-input",placeholder:Ee.formatMessage({id:"common.searchPlaceholder"}),value:ce,onChange:$=>te($.target.value)})]}),C.jsx("button",{onClick:St,className:"add-incident-button",children:C.jsx(ie,{id:"incidentList.addIncidentButton"})})]}),C.jsxs("div",{className:"incident-list-grid header-row",children:[C.jsx("div",{className:"grid-item",children:C.jsx(ie,{id:"incidentList.tableHeader.id"})}),C.jsx("div",{className:"grid-item",children:C.jsx(ie,{id:"incidentList.tableHeader.title"})}),C.jsx("div",{className:"grid-item",children:C.jsx(ie,{id:"incidentList.tableHeader.location"})}),C.jsx("div",{className:"grid-item",children:C.jsx(ie,{id:"incidentList.tableHeader.assignedTo"})}),C.jsx("div",{className:"grid-item",children:C.jsx(ie,{id:"incidentList.tableHeader.date"})}),C.jsx("div",{className:"grid-item",children:C.jsx(ie,{id:"incidentList.tableHeader.action"})})]}),t.filter($=>$.title.toLowerCase().includes(ce.toLowerCase())||$.path.toLowerCase().includes(ce.toLowerCase())).map($=>C.jsx(RO,{incident:$,onIncidentUpdated:De,onIncidentClick:mt},$.id)),n&&C.jsx("div",{className:"modal-overlay",children:C.jsxs("div",{className:"modal",children:[C.jsxs("div",{className:"modal-header",children:[C.jsx("h2",{children:C.jsx(ie,{id:"incidentList.createModal.title"})}),C.jsx("button",{onClick:pt,children:C.jsxs("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),C.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),C.jsxs("div",{className:"modal-content",children:[C.jsx("label",{htmlFor:"title",children:C.jsx(ie,{id:"incidentList.createModal.field.titleLabel"})}),C.jsx("input",{type:"text",id:"title",name:"title",value:o,onChange:It}),C.jsx("label",{htmlFor:"path",children:C.jsx(ie,{id:"incidentList.createModal.field.locationLabel"})}),C.jsx("input",{type:"text",id:"path",name:"path",value:u,onChange:It}),C.jsx("label",{htmlFor:"assignedUser",children:C.jsx(ie,{id:"incidentList.createModal.field.assignedPersonLabel"})}),C.jsxs("select",{id:"assignedUser",name:"assignedUser",value:f,onChange:It,children:[C.jsx("option",{value:"",children:C.jsx(ie,{id:"incidentList.createModal.field.selectUserOption"})}),g.map($=>C.jsx("option",{value:$.email,children:$.email},$.uid))]}),C.jsx("div",{className:"modal-footer",children:C.jsx("button",{onClick:ut,className:"confirm-button",children:C.jsx(ie,{id:"incidentList.createModal.addButton"})})})]})]})}),j&&V&&C.jsx("div",{className:"modal-overlay",children:C.jsxs("div",{className:"modal",children:[C.jsxs("div",{className:"modal-header",children:[C.jsxs("h2",{children:[C.jsx(ie,{id:"incidentList.editModal.titlePrefix",values:{id:V.id}})," INC",V.id]}),C.jsx("button",{onClick:Ct,children:C.jsxs("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),C.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),C.jsxs("div",{className:"modal-content",children:[C.jsx("label",{htmlFor:"editTitle",children:C.jsx(ie,{id:"incidentList.editModal.field.titleLabel"})}),C.jsx("input",{type:"text",id:"editTitle",name:"title",value:V.title,onChange:$=>J({...V,title:$.target.value})}),C.jsx("label",{htmlFor:"editPath",children:C.jsx(ie,{id:"incidentList.editModal.field.locationLabel"})}),C.jsx("input",{type:"text",id:"editPath",name:"path",value:V.path,onChange:$=>J({...V,path:$.target.value})}),C.jsx("label",{htmlFor:"editAssignedUser",children:C.jsx(ie,{id:"incidentList.editModal.field.assignedPersonLabel"})}),C.jsxs("select",{id:"editAssignedUser",name:"assignedUser",value:V.assignedUser,onChange:$=>J({...V,assignedUser:$.target.value}),children:[C.jsxs("option",{value:"",children:[C.jsx(ie,{id:"incidentList.createModal.field.selectUserOption"})," "]}),g.map($=>C.jsx("option",{value:$.email,children:$.email},$.uid))]}),C.jsx("div",{className:"modal-footer",children:C.jsx("button",{className:"confirm-button",onClick:q,children:C.jsx(ie,{id:"incidentList.editModal.saveButton"})})})]})]})})]})},kO=({incident:t,onIncidentUpdated:e})=>{const n=async()=>{const i=cn(Gt),o=un(i,`incidents/${t.id}`);try{await Pu(o,{status:!1}),e()}catch(l){console.error("Error closing incident:",l)}};return C.jsxs("div",{className:"incident-item",style:{cursor:"pointer"},children:[t.status?C.jsxs("div",{className:"incident-id",children:["INC",t.id]}):C.jsxs("div",{className:"incident-id-close",children:["INC",t.id]}),C.jsx("div",{className:"incident-title",children:t.title}),C.jsx("div",{className:"incident-path",children:t.path}),C.jsx("div",{className:"incident-assigned",children:t.assignedUser}),C.jsx("div",{className:"incident-date",children:t.fecha}),C.jsx("div",{className:"incident-action",children:t.status?C.jsx("button",{className:"close-incident-button",onClick:n,children:C.jsx(ie,{id:"incidentItem.closeButton"})}):C.jsx("span",{className:"incident-closed",children:C.jsx(ie,{id:"incidentItem.closedStatus"})})})]})},NO=()=>{const[t,e]=P.useState([]),[n,i]=P.useState(!0),[o,l]=P.useState(null),[u,d]=P.useState(!1),{user:f,isLoading:p}=fi(w=>w.auth),[g,y]=P.useState(""),v=()=>{d(w=>!w)};return P.useEffect(()=>{const w=async()=>{i(!0);const R=cn(Gt);if(!f||!f.email){e([]),i(!1),l("No user or user email available to fetch incidents.");return}const A=un(R,"incidents"),N=ME(A,OE("assignedUser"),fb(f.email));try{const M=await jo(N);if(M.exists()){const F=M.val(),j=Object.keys(F).map(L=>({id:L,...F[L]}));j.sort((L,V)=>{const J=S(L.fecha);return S(V.fecha).getTime()-J.getTime()}),e(j)}else e([]),console.log("No incidents data available for this user.")}catch(M){console.error("Error fetching incidents:",M),l("Error al cargar los incidentes del usuario.")}finally{i(!1)}},S=R=>{if(!R)return new Date(0);const A=R.split(", "),N=A[0].split("/"),M=A[1].split(":");return new Date(parseInt(N[2],10),parseInt(N[1],10)-1,parseInt(N[0],10),parseInt(M[0],10),parseInt(M[1],10),parseInt(M[2],10))};f&&!p?w():!p&&!f&&(e([]),i(!1),l("Inicia sesin para ver tus incidentes."))},[u,f,p]),p||n?C.jsx("div",{children:C.jsx(ie,{id:"incidentListUser.loading"})}):o?C.jsxs("div",{children:[C.jsx(ie,{id:"incidentListUser.errorPrefix"})," ",o]}):f?C.jsxs("div",{className:"incident-list-container",children:[C.jsx("div",{className:"incident-list-header",children:C.jsxs("div",{className:"search-input-wrapper",children:[C.jsx("svg",{className:"search-icon","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:C.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-2-2m0-7a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z"})}),C.jsx("input",{type:"text",className:"search-input",placeholder:"ex",value:g,onChange:w=>y(w.target.value)})]})}),C.jsxs("div",{className:"incident-list-grid header-row",children:[C.jsx("div",{className:"grid-item",children:C.jsx(ie,{id:"incidentListUser.tableHeader.id"})}),C.jsx("div",{className:"grid-item",children:C.jsx(ie,{id:"incidentListUser.tableHeader.title"})}),C.jsx("div",{className:"grid-item",children:C.jsx(ie,{id:"incidentListUser.tableHeader.location"})}),C.jsx("div",{className:"grid-item",children:C.jsx(ie,{id:"incidentListUser.tableHeader.assignedTo"})}),C.jsx("div",{className:"grid-item",children:C.jsx(ie,{id:"incidentListUser.tableHeader.date"})}),C.jsx("div",{className:"grid-item",children:C.jsx(ie,{id:"incidentListUser.tableHeader.action"})})]}),t.filter(w=>w.title.toLowerCase().includes(g.toLowerCase())||w.path.toLowerCase().includes(g.toLowerCase())).map(w=>C.jsx(kO,{incident:w,onIncidentUpdated:v},w.id))]}):C.jsx("div",{children:C.jsx(ie,{id:"incidentListUser.loginPrompt"})})},bO=()=>{const[t,e]=P.useState([]),[n,i]=P.useState(!0),[o,l]=P.useState(null),{user:u,isLoading:d}=fi(p=>p.auth);P.useEffect(()=>{u&&!d?(async()=>{i(!0);const g=cn(Gt),y=un(g,"users");try{const v=await jo(y);if(v.exists()){const w=v.val(),S=Object.keys(w).filter(R=>R!==(u==null?void 0:u.uid)).map(R=>({uid:R,email:w[R].email,roles:w[R].roles||{admin:!1}}));e(S)}else e([])}catch(v){console.error("Error fetching users:",v),l("rolesAdmin.fetchUsersError")}finally{i(!1)}})():!d&&!u&&(e([]),i(!1),l("rolesAdmin.noLoggedInUserError"))},[u==null?void 0:u.uid,d]);const f=async(p,g)=>{const y=cn(Gt),v=un(y,`users/${p}/roles`);try{await Pu(v,{admin:g}),e(w=>w.map(S=>S.uid===p?{...S,roles:{admin:g}}:S))}catch(w){console.error("Error updating user role:",w),l("rolesAdmin.updateRoleError")}};return n||d?C.jsx("div",{className:"p-4 text-center text-lg font-semibold",children:C.jsx(ie,{id:"rolesAdmin.loadingUsers"})}):o?C.jsxs("div",{className:"p-4 text-center text-red-600 font-bold",children:[C.jsx(ie,{id:"common.errorPrefix"})," ",C.jsx(ie,{id:o})," "]}):C.jsxs("div",{className:"p-5",children:[C.jsx("h2",{className:"text-2xl font-bold mb-5",children:C.jsx(ie,{id:"rolesAdmin.title"})}),C.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:t.map(p=>{var g,y;return C.jsxs("div",{className:"border border-gray-300 p-4 rounded-lg text-center shadow-sm",children:[C.jsx("h3",{className:"text-xl font-semibold mb-2",children:p.email}),C.jsxs("div",{className:"flex justify-center gap-2",children:[C.jsx("button",{className:`py-2 px-4 border rounded-md cursor-pointer transition-colors duration-300 ease-in-out
                                    ${(g=p.roles)!=null&&g.admin?"bg-green-600 text-white border-green-600 hover:bg-green-700":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,onClick:()=>f(p.uid,!0),children:C.jsx(ie,{id:"rolesAdmin.button.admin"})}),C.jsx("button",{className:`py-2 px-4 border rounded-md cursor-pointer transition-colors duration-300 ease-in-out
                                    ${(y=p.roles)!=null&&y.admin?"bg-white text-gray-800 border-gray-300 hover:bg-gray-100":"bg-green-600 text-white border-green-600 hover:bg-green-700"}`,onClick:()=>f(p.uid,!1),children:C.jsx(ie,{id:"rolesAdmin.button.personal"})})]})]},p.uid)})})]})},AO={"navbar.myIncidents":"Mis Incidentes","navbar.incidents":"Incidentes","navbar.userRoles":"Roles de Usuario","navbar.login":"Iniciar Sesin","navbar.register":"Registro","navbar.logout":"Cerrar Sesin","incidentListUser.loading":"Cargando incidentes...","incidentListUser.errorPrefix":"Error:","incidentListUser.loginPrompt":"Inicia sesin para ver tus incidentes.","incidentListUser.searchPlaceholder":"Buscar por ttulo o ubicacin","incidentListUser.tableHeader.id":"ID","incidentListUser.tableHeader.title":"Ttulo","incidentListUser.tableHeader.location":"Ubicacin","incidentListUser.tableHeader.assignedTo":"Asignado a","incidentListUser.tableHeader.date":"Fecha","incidentListUser.tableHeader.action":"Accin","common.loading":"Cargando...","common.errorPrefix":"Error:","common.searchPlaceholder":"Buscar por ttulo o ubicacin","incidentItem.closeButton":"Cerrar incidente","incidentItem.closedStatus":"Incidente cerrado","incidentList.addIncidentButton":"Agregar Incidente","incidentList.tableHeader.id":"ID","incidentList.tableHeader.title":"Ttulo","incidentList.tableHeader.location":"Ubicacin","incidentList.tableHeader.assignedTo":"Asignado a","incidentList.tableHeader.date":"Fecha","incidentList.tableHeader.action":"Accin","incidentList.createModal.title":"Creando Incidente","incidentList.createModal.field.titleLabel":"Ttulo","incidentList.createModal.field.locationLabel":"Ubicacin","incidentList.createModal.field.assignedPersonLabel":"Personal Asignado","incidentList.createModal.field.selectUserOption":"Seleccionar usuario","incidentList.createModal.addButton":"Agregar Incidente","incidentList.createModal.missingFieldsAlert":"Por favor, completa todos los campos.","incidentList.editModal.titlePrefix":"Incidente","incidentList.editModal.field.titleLabel":"Ttulo","incidentList.editModal.field.locationLabel":"Ubicacin","incidentList.editModal.field.assignedPersonLabel":"Personal Asignado","incidentList.editModal.saveButton":"Guardar","rolesAdmin.loadingUsers":"Cargando usuarios...","rolesAdmin.noLoggedInUserError":"No hay usuario logueado para administrar roles.","rolesAdmin.fetchUsersError":"Error al cargar los usuarios.","rolesAdmin.updateRoleError":"Error al actualizar el rol del usuario.","rolesAdmin.title":"Administracin de Roles","rolesAdmin.button.admin":"Admin","rolesAdmin.button.personal":"Personal","login.title":"Iniciar Sesin","login.placeholder.email":"Correo electrnico","login.placeholder.password":"Contrasea","login.button.login":"Login","register.title":"Registrarse","register.placeholder.email":"Correo electrnico","register.placeholder.password":"Contrasea","register.button.register":"Registrarse","register.successMessage":"Registro exitoso. Redirigiendo...","welcome.message":"Primero debes registrarte O iniciar sesin"},LO={"navbar.myIncidents":"My Incidents","navbar.incidents":"Incidents","navbar.userRoles":"User Roles","navbar.login":"Login","navbar.register":"Register","navbar.logout":"Logout","incidentListUser.loading":"Loading incidents...","incidentListUser.errorPrefix":"Error:","incidentListUser.loginPrompt":"Please log in to view your incidents.","incidentListUser.searchPlaceholder":"Search by title or location","incidentListUser.tableHeader.id":"ID","incidentListUser.tableHeader.title":"Title","incidentListUser.tableHeader.location":"Location","incidentListUser.tableHeader.assignedTo":"Assigned To","incidentListUser.tableHeader.date":"Date","incidentListUser.tableHeader.action":"Action","common.loading":"Loading...","common.errorPrefix":"Error:","common.searchPlaceholder":"Search by title or location","incidentItem.closeButton":"Close Incident","incidentItem.closedStatus":"Incident Closed","incidentList.addIncidentButton":"Add Incident","incidentList.tableHeader.id":"ID","incidentList.tableHeader.title":"Title","incidentList.tableHeader.location":"Location","incidentList.tableHeader.assignedTo":"Assigned To","incidentList.tableHeader.date":"Date","incidentList.tableHeader.action":"Action","incidentList.createModal.title":"Creating Incident","incidentList.createModal.field.titleLabel":"Title","incidentList.createModal.field.locationLabel":"Location","incidentList.createModal.field.assignedPersonLabel":"Assigned Person","incidentList.createModal.field.selectUserOption":"Select user","incidentList.createModal.addButton":"Add Incident","incidentList.createModal.missingFieldsAlert":"Please complete all fields.","incidentList.editModal.titlePrefix":"Incident","incidentList.editModal.field.titleLabel":"Title","incidentList.editModal.field.locationLabel":"Location","incidentList.editModal.field.assignedPersonLabel":"Assigned Person","incidentList.editModal.saveButton":"Save","rolesAdmin.loadingUsers":"Loading users...","rolesAdmin.noLoggedInUserError":"No user logged in to manage roles.","rolesAdmin.fetchUsersError":"Error loading users.","rolesAdmin.updateRoleError":"Error updating user role.","rolesAdmin.title":"Role Administration","rolesAdmin.button.admin":"Admin","rolesAdmin.button.personal":"Staff","login.title":"Login","login.placeholder.email":"Email","login.placeholder.password":"Password","login.button.login":"Login","register.title":"Register","register.placeholder.email":"Email","register.placeholder.password":"Password","register.button.register":"Register","register.successMessage":"Registration successful. Redirecting...","welcome.message":"You must first register OR log in"},ay={es:AO,en:LO};RC.createContext([]);const OO=()=>{const t=Nu(),e=fi(n=>n.i18n.locale);return P.useEffect(()=>{const n=ss.onAuthStateChanged(async i=>{if(t(si(!0)),t(B_(i)),i)try{await t(Dl(i)).unwrap(),t(Dn(null))}catch(o){console.error("Error al obtener los roles en App:",o),o instanceof Error?t(Dn(o.message)):t(Dn(typeof o=="string"?o:"An unknown error occurred while fetching roles.")),t(j_(null)),t(B_(null))}finally{t(si(!1))}else t(j_(null)),t(si(!1)),t(Dn(null))});return()=>n()},[t]),C.jsx(wO,{locale:e,messages:ay[e]||ay.es,defaultLocale:"es",children:C.jsxs(KI,{children:[C.jsx(SO,{}),C.jsx("div",{className:"main-content",children:C.jsxs(II,{children:[C.jsx(vr,{path:"/",element:C.jsx(oy,{})}),C.jsx(vr,{path:"/login",element:C.jsx(IO,{})}),C.jsx(vr,{path:"/register",element:C.jsx(TO,{})}),C.jsx(vr,{path:"/dashboard",element:C.jsx(sy,{children:C.jsx(PO,{})})}),C.jsx(vr,{path:"/dashboard2",element:C.jsx(CO,{children:C.jsx(NO,{})})}),C.jsx(vr,{path:"/admin",element:C.jsx(sy,{children:C.jsx(bO,{})})}),C.jsx(vr,{path:"*",element:C.jsx(oy,{})})]})})]})})},MO=vA({reducer:{auth:BA,i18n:VA}});LC.createRoot(document.getElementById("root")).render(C.jsx(P.StrictMode,{children:C.jsx(Hb,{store:MO,children:C.jsx(OO,{})})}));
